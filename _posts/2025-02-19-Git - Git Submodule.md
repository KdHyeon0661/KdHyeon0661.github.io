---
layout: post
title: Git - Git Submodule
date: 2025-02-19 19:20:23 +0900
category: Git
---
# ğŸ§© Git Submodule ì™„ì „ ì •ë¦¬

---

## ğŸ§  ì„œë¸Œëª¨ë“ˆì´ë€?

Git ì„œë¸Œëª¨ë“ˆ(Submodule)ì€ **í•˜ë‚˜ì˜ Git ì €ì¥ì†Œ ì•ˆì— ë‹¤ë¥¸ Git ì €ì¥ì†Œë¥¼ í¬í•¨**ì‹œì¼œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

> ì¦‰, ë©”ì¸ ì €ì¥ì†Œì˜ **í•˜ìœ„ ë””ë ‰í† ë¦¬ì²˜ëŸ¼ ë™ì‘í•˜ì§€ë§Œ** ë‚´ë¶€ì ìœ¼ë¡œëŠ” ë³„ê°œì˜ ë…ë¦½ëœ ì €ì¥ì†Œì…ë‹ˆë‹¤.

---

## ğŸ“Œ ì–¸ì œ ì‚¬ìš©í• ê¹Œ?

- **ê³µí†µ ë¼ì´ë¸ŒëŸ¬ë¦¬** ë˜ëŠ” UI ì»´í¬ë„ŒíŠ¸ë¥¼ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì—ì„œ ê³µìœ í•˜ê³  ì‹¶ì„ ë•Œ
- íŒ€/ì¡°ì§ ë‚´ì—ì„œ **ê³µìœ  ëª¨ë“ˆì„ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ ë° ë²„ì „ ê´€ë¦¬**í•˜ê³  ì‹¶ì„ ë•Œ
- ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ **ì›ë³¸ ê·¸ëŒ€ë¡œ ê°€ì ¸ì™€ íŠ¹ì • ì»¤ë°‹ì— ê³ ì •**í•˜ê³  ì‹¶ì„ ë•Œ

---

## ğŸ”§ ì„œë¸Œëª¨ë“ˆ ì¶”ê°€ ë°©ë²•

### 1. ì„œë¸Œëª¨ë“ˆ ì¶”ê°€

```bash
git submodule add https://github.com/other/repo.git path/to/subdir
```

- `repo.git` â†’ ê°€ì ¸ì˜¬ ì„œë¸Œëª¨ë“ˆ ì €ì¥ì†Œ ì£¼ì†Œ
- `path/to/subdir` â†’ í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ ì„œë¸Œëª¨ë“ˆì´ ìœ„ì¹˜í•  ë””ë ‰í† ë¦¬

> ì˜ˆì‹œ:

```bash
git submodule add https://github.com/my-org/common-ui.git libs/common-ui
```

---

### 2. ì»¤ë°‹ ë° í‘¸ì‹œ

```bash
git add .gitmodules libs/common-ui
git commit -m "Add common-ui as submodule"
git push
```

`.gitmodules` íŒŒì¼ì´ ìƒì„±ë˜ê³ , **ì„œë¸Œëª¨ë“ˆì˜ ì»¤ë°‹ í•´ì‹œ**ë„ íŠ¸ë˜í‚¹ë©ë‹ˆë‹¤.

---

## ğŸ”„ ì„œë¸Œëª¨ë“ˆ í´ë¡  ë° ì—…ë°ì´íŠ¸

ì„œë¸Œëª¨ë“ˆì´ í¬í•¨ëœ ì €ì¥ì†Œë¥¼ **ì²˜ìŒ í´ë¡ í•˜ëŠ” ê²½ìš°**, ì¼ë°˜ `git clone`ë§Œ í•´ì„œëŠ” ë‚´ë¶€ ì„œë¸Œëª¨ë“ˆì€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.

### 1. ì„œë¸Œëª¨ë“ˆê¹Œì§€ í•¨ê»˜ í´ë¡ í•˜ë ¤ë©´?

```bash
git clone --recurse-submodules https://github.com/my-org/my-repo.git
```

### 2. ì´ë¯¸ í´ë¡ í•œ ê²½ìš° ì„œë¸Œëª¨ë“ˆ ì´ˆê¸°í™”/ì—…ë°ì´íŠ¸

```bash
git submodule init
git submodule update
```

ë˜ëŠ” í•œë²ˆì—:

```bash
git submodule update --init --recursive
```

---

## ğŸ” ì„œë¸Œëª¨ë“ˆ ì—…ë°ì´íŠ¸ ë°©ë²•

ì„œë¸Œëª¨ë“ˆì€ **ê³ ì •ëœ ì»¤ë°‹ í•´ì‹œ**ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.  
ì—…ë°ì´íŠ¸í•˜ë ¤ë©´ í•´ë‹¹ ë””ë ‰í† ë¦¬ë¡œ ë“¤ì–´ê°€ì„œ ì§ì ‘ pull í•´ì•¼ í•©ë‹ˆë‹¤.

```bash
cd libs/common-ui
git pull origin main   # í˜¹ì€ ì›í•˜ëŠ” ë¸Œëœì¹˜
cd ../
git add libs/common-ui
git commit -m "Update submodule to latest"
```

---

## ğŸ” ì„œë¸Œëª¨ë“ˆ ìƒíƒœ í™•ì¸

```bash
git submodule status
```

â†’ í˜„ì¬ ì„œë¸Œëª¨ë“ˆì´ ê°€ë¦¬í‚¤ëŠ” ì»¤ë°‹ í•´ì‹œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ—‘ï¸ ì„œë¸Œëª¨ë“ˆ ì‚­ì œ

1. `.gitmodules`ì—ì„œ í•­ëª© ì œê±°
2. `.git/config`ì—ì„œ ê´€ë ¨ ì •ë³´ ì œê±°
3. `git rm --cached path/to/submodule`
4. ì‹¤ì œ ë””ë ‰í† ë¦¬ ì‚­ì œ
5. ì»¤ë°‹

```bash
git rm --cached libs/common-ui
rm -rf libs/common-ui
git commit -m "Remove submodule"
```

---

## âš ï¸ ì„œë¸Œëª¨ë“ˆì˜ ë‹¨ì  ë° ì£¼ì˜ì‚¬í•­

| í•­ëª© | ì„¤ëª… |
|------|------|
| âœ… ë…ë¦½ ë²„ì „ ê´€ë¦¬ | ì™¸ë¶€ ì €ì¥ì†Œ ì»¤ë°‹ ê¸°ì¤€ìœ¼ë¡œ ê´€ë¦¬ë˜ì–´ ì•ˆì •ì  |
| âŒ ê²½ë¡œ í˜¼ë€ | ì„œë¸Œëª¨ë“ˆ ë‚´ì—ì„œ ì‘ì—… ì‹œ ìƒìœ„ ì €ì¥ì†Œì™€ ì¶©ëŒ ê°€ëŠ¥ì„± |
| âŒ ìë™ ì—…ë°ì´íŠ¸ ì•„ë‹˜ | ìˆ˜ë™ìœ¼ë¡œ `pull`, `update` í•´ì¤˜ì•¼ ìµœì‹ í™”ë¨ |
| âŒ í´ë¡  ì‹œ ì´ˆê¸°í™” í•„ìš” | `--recurse-submodules` ë˜ëŠ” ë³„ë„ `init/update` í•„ìˆ˜ |
| âŒ ì»¤ë°‹ í•´ì‹œ ê³ ì • | ë¸Œëœì¹˜ê°€ ì•„ë‹Œ ì»¤ë°‹ì„ ì°¸ì¡°í•˜ë¯€ë¡œ ìµœì‹  ë³€ê²½ ìë™ ë°˜ì˜ X |
| âŒ push ëˆ„ë½ ì¦ìŒ | ì„œë¸Œëª¨ë“ˆ ë””ë ‰í† ë¦¬ ì•ˆì—ì„œ ë”°ë¡œ `git push` í•´ì•¼ í•¨ |

---

## ğŸ§ª ì˜ˆì‹œ êµ¬ì¡°

```text
my-project/
â”œâ”€â”€ .gitmodules
â”œâ”€â”€ libs/
â”‚   â””â”€â”€ common-ui/      â† ì„œë¸Œëª¨ë“ˆ (ë³„ë„ì˜ Git ì €ì¥ì†Œ)
â””â”€â”€ src/
```

`.gitmodules` ë‚´ìš© ì˜ˆì‹œ:

```ini
[submodule "libs/common-ui"]
  path = libs/common-ui
  url = https://github.com/my-org/common-ui.git
```

---

## ğŸ§­ ì„œë¸Œëª¨ë“ˆ vs ì„œë¸ŒíŠ¸ë¦¬ ë¹„êµ

| í•­ëª© | ì„œë¸Œëª¨ë“ˆ | ì„œë¸ŒíŠ¸ë¦¬ |
|------|----------|-----------|
| êµ¬ì¡° | ë³„ë„ Git ì €ì¥ì†Œ ë§í¬ | ì½”ë“œê°€ í¬í•¨ë¨ (ë³‘í•©) |
| ì¥ì  | ë…ë¦½ ë²„ì „ ê´€ë¦¬ | ê´€ë¦¬ ê°„í¸, ì¶”ê°€ íˆ´ ì—†ìŒ |
| ë‹¨ì  | ê²½ë¡œ í—·ê°ˆë¦¼, ìˆ˜ë™ ì—…ë°ì´íŠ¸ | ê¸°ë¡ ë³µì¡, ì¶”ì  ì–´ë ¤ì›€ |
| í˜‘ì—… ì í•©ì„± | ë‚®ìŒ (í•™ìŠµ ê³¡ì„  ë†’ìŒ) | ë†’ìŒ (Gitë§Œ ì•Œì•„ë„ ì¶©ë¶„) |

> âœ¨ ì„œë¸ŒíŠ¸ë¦¬(Subtree)ëŠ” ì¶”í›„ ë‹¤ë¥¸ ì£¼ì œë¡œ ì •ë¦¬ ê°€ëŠ¥

---

## ğŸ”— ì°¸ê³  ë§í¬

- [Git ê³µì‹ ë¬¸ì„œ - Submodule](https://git-scm.com/book/en/v2/Git-Tools-Submodules)
- [Git Submodule vs Subtree](https://www.atlassian.com/git/tutorials/git-submodule)
