---
layout: post
title: ë””ìì¸íŒ¨í„´ - Iterator
date: 2025-06-30 20:20:23 +0900
category: ë””ìì¸íŒ¨í„´
---
# Iterator (ë°˜ë³µì íŒ¨í„´)

## âœ… ì •ì˜

**ë°˜ë³µì íŒ¨í„´(Iterator Pattern)**ì€ **ì»¬ë ‰ì…˜ ë‚´ë¶€ì˜ êµ¬ì¡°ë¥¼ ë…¸ì¶œí•˜ì§€ ì•Šê³ **, ê·¸ ìš”ì†Œë“¤ì— **ìˆœì°¨ì ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡** í•˜ëŠ” ë””ìì¸ íŒ¨í„´ì…ë‹ˆë‹¤.  
ë°˜ë³µ ë™ì‘ì„ ê°ì²´ë¡œ ìº¡ìŠí™”í•˜ì—¬ **ì»¬ë ‰ì…˜ê³¼ ìˆœíšŒ ë¡œì§ì„ ë¶„ë¦¬**í•©ë‹ˆë‹¤.

> â€œì»¬ë ‰ì…˜ì˜ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ìˆ¨ê¸´ ì±„, ìš”ì†Œë¥¼ í•˜ë‚˜ì”© ìˆœíšŒí•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µâ€

---

## ğŸ¯ ì˜ë„ (Intent)

- **ì»¬ë ‰ì…˜ ê°ì²´ì˜ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ë…¸ì¶œí•˜ì§€ ì•Šê³ **
- ì™¸ë¶€ì—ì„œ **ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ìš”ì†Œë¥¼ ìˆœíšŒ**í•  ìˆ˜ ìˆë„ë¡ í•¨
- ë‹¤ì–‘í•œ ìˆœíšŒ ë°©ì‹(ì •ë°©í–¥, ì—­ë°©í–¥ ë“±)ì„ ë…ë¦½ì ìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥

---

## ğŸ“¦ êµ¬ì¡° (UML)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Iterable   â”‚â—„â”€â”€â”€â”€â”‚    Iterator     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ConcreteCol â”‚     â”‚ConcreteIteratorâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- `Iterator`: ìˆœíšŒ ë°©ì‹ ì •ì˜ (`hasNext()`, `next()`)
- `ConcreteIterator`: ì‹¤ì œ ë°˜ë³µ ë¡œì§ êµ¬í˜„
- `Iterable` (ë˜ëŠ” `Aggregate`): ë°˜ë³µìë¥¼ ìƒì„±í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ (`createIterator()`)
- `ConcreteCollection`: ì»¬ë ‰ì…˜ ê°ì²´

---

## ğŸ§‘â€ğŸ’» êµ¬í˜„ ì˜ˆì‹œ (Python)

```python
# ë°˜ë³µì (Iterator)
class BookIterator:
    def __init__(self, books):
        self._books = books
        self._index = 0

    def __iter__(self):
        return self

    def __next__(self):
        if self._index < len(self._books):
            book = self._books[self._index]
            self._index += 1
            return book
        raise StopIteration

# ì»¬ë ‰ì…˜ (Iterable)
class BookShelf:
    def __init__(self):
        self._books = []

    def add_book(self, book):
        self._books.append(book)

    def __iter__(self):
        return BookIterator(self._books)

# ì‚¬ìš© ì˜ˆì‹œ
shelf = BookShelf()
shelf.add_book("Clean Code")
shelf.add_book("Design Patterns")
shelf.add_book("Effective Python")

for book in shelf:
    print(f"ğŸ“š {book}")
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
ğŸ“š Clean Code
ğŸ“š Design Patterns
ğŸ“š Effective Python
```

---

## âœ… ì¥ì 

- **ì»¬ë ‰ì…˜ ë‚´ë¶€ êµ¬í˜„ê³¼ ë°˜ë³µ ë¡œì§ì„ ë¶„ë¦¬** â†’ SRP(ë‹¨ì¼ ì±…ì„ ì›ì¹™) ì¤€ìˆ˜
- ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ì»¬ë ‰ì…˜ì—ì„œë„ **ì¼ê´€ëœ ë°˜ë³µ ì¸í„°í˜ì´ìŠ¤ ì œê³µ**
- ë‹¤ì–‘í•œ ìˆœíšŒ ë°©ë²•(ì •ë°©í–¥, ì—­ë°©í–¥, í•„í„°ë§ ë“±) ì‰½ê²Œ êµ¬í˜„ ê°€ëŠ¥
- Pythonì˜ `for`, Javaì˜ `Iterator`, C#ì˜ `IEnumerator` ë“± ë‹¤ì–‘í•œ ì–¸ì–´ì—ì„œ ê¸°ë³¸ ì œê³µ

---

## âš ï¸ ë‹¨ì 

- ì»¬ë ‰ì…˜ì— ë”°ë¼ **ë°˜ë³µì í´ë˜ìŠ¤ ìˆ˜ê°€ ì¦ê°€**í•  ìˆ˜ ìˆìŒ
- ë‹¨ìˆœí•œ ìˆœíšŒì—ëŠ” **ê¸°ë³¸ forë¬¸ë³´ë‹¤ ë³µì¡**í•´ì§ˆ ìˆ˜ ìˆìŒ
- ë™ì‹œ ìˆ˜ì •ì— ëŒ€í•œ ë¬¸ì œ(concurrent modification) ì£¼ì˜ í•„ìš”

---

## ğŸ“Œ ì‚¬ìš© ì‚¬ë¡€

| ë¶„ì•¼ | ì˜ˆì‹œ |
|------|------|
| ì»¬ë ‰ì…˜ ìˆœíšŒ | ë¦¬ìŠ¤íŠ¸, ë§µ, ì§‘í•© ë“±ì„ ìˆœì°¨ ì ‘ê·¼ |
| UI ìš”ì†Œ ë°˜ë³µ | ë©”ë‰´, ë²„íŠ¼, ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ ë°˜ë³µ |
| íŠ¸ë¦¬ êµ¬ì¡° íƒìƒ‰ | DOM, íŒŒì¼ ì‹œìŠ¤í…œ ìˆœíšŒ |
| ì»¤ìŠ¤í…€ ì»¨í…Œì´ë„ˆ | ë°˜ë³µìë¥¼ êµ¬í˜„í•´ `for` ë£¨í”„ ì§€ì› |
| í•„í„° ê¸°ë°˜ ë°˜ë³µ | ì¡°ê±´ì— ë§ëŠ” ìš”ì†Œë§Œ ë°˜í™˜í•˜ëŠ” í•„í„° ì´í„°ë ˆì´í„° |

---

## ğŸ§  Iterator vs Composite vs Visitor

| íŒ¨í„´ | ëª©ì  | ê³µí†µì  | ì°¨ì´ì  |
|------|------|--------|--------|
| **Iterator** | ìˆœì°¨ ìˆœíšŒ | ìë£Œêµ¬ì¡°ì— ëŒ€í•œ ì‘ì—… | ë‹¨ì¼ ìš”ì†Œ ìˆœíšŒ |
| **Composite** | íŠ¸ë¦¬ êµ¬ì¡° í‘œí˜„ | ë³µí•© ê°ì²´ ë‹¤ë£¸ | ì „ì²´ êµ¬ì¡°ë¥¼ ê³„ì¸µì ìœ¼ë¡œ ì²˜ë¦¬ |
| **Visitor** | ì—°ì‚° ë¶„ë¦¬ | êµ¬ì¡°ì²´ë¥¼ íƒìƒ‰ | ê° ìš”ì†Œì— ì—°ì‚° ì ìš© ì¤‘ì‹¬ |

---

## âœ… ì‹¤ë¬´ íŒ

- Pythonì—ì„œëŠ” `__iter__`, `__next__`, `yield` ë“±ì„ í†µí•´ ì‰½ê²Œ ë°˜ë³µì êµ¬í˜„ ê°€ëŠ¥
- ì»¤ìŠ¤í…€ ì»¬ë ‰ì…˜ì„ ë§Œë“¤ ë•ŒëŠ” ë°˜ë“œì‹œ `Iterable` ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ê³ ë ¤
- ë‚´ë¶€ êµ¬í˜„ ë³€ê²½ ì‹œì—ë„ ì™¸ë¶€ ë°˜ë³µ ì½”ë“œë¥¼ **ë³€ê²½ ì—†ì´ ìœ ì§€**í•  ìˆ˜ ìˆìŒ

---

## ğŸ§  ë§ˆë¬´ë¦¬

**Iterator íŒ¨í„´ì€ ë³µì¡í•œ ìë£Œêµ¬ì¡°ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ìˆ¨ê¸°ê³ ,**
**ì¼ê´€ëœ ë°©ë²•ìœ¼ë¡œ ìˆœíšŒí•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤.**

ì»¬ë ‰ì…˜ê³¼ ìˆœíšŒ ë¡œì§ì„ ë¶„ë¦¬í•˜ê³ , ë‹¤ì–‘í•œ ë°˜ë³µ ì „ëµì„ ì§€ì›í•˜ë©°  
í˜„ëŒ€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œëŠ” ê±°ì˜ ëª¨ë“  ì»¬ë ‰ì…˜ì— ì ìš©ë˜ê³  ìˆëŠ” **ê°€ì¥ ë³´í¸ì ì¸ ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜**ì…ë‹ˆë‹¤.
