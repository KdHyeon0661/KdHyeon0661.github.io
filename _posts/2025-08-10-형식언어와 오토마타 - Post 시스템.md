---
layout: post
title: 형식언어와 오토마타 - Post 시스템
date: 2025-08-10 17:20:23 +0900
category: 형식언어와 오토마타
---
# Post 시스템(포스트 시스템) 총정리  
**Post canonical system / Post production system / Post normal system / Post tag system**

포스트(Post) 시스템은 **재작성(rewriting)** 기반의 보편 계산 모델 계열입니다.  
문법·오토마타와 나란히 **형식 언어**를 생성/인식하고, 심지어 **튜링 기계와 동등**한 표현력을 갖는 변형들(정규형)도 있습니다.  
여기서는 넓은 의미의 “Post 시스템”을 다음 네 축으로 정리합니다.

- **Post canonical system(PCS)** = Post 생산/재작성 시스템(가장 일반적)  
- **semi-Thue/Thue 시스템과의 대응**(재작성 규칙형)  
- **Post normal system**(제약된 정규형)  
- **Post tag system**(삭제 수 \(m\)을 갖는 태그 시스템)

수식은 MathJax, 규칙/예시는 코드 블록(```)로 표기합니다.

---

## 1) Post canonical system (PCS): 정의와 의미

### 1.1 형식 정의(대표적 버전)
알파벳 \(\Sigma\)와 **단 하나의 변수 기호** `\$`를 쓴다.  
PCS는 4튜플 \((\Sigma,\$, A, P)\).
- \(A \subseteq \Sigma^*\): **공리(axioms)** — 시작 문자열 집합(변수 없음)
- \(P\): **생성 규칙(규칙 스키마)** 의 유한 집합. 각 규칙은 두 형태 중 하나:
  1) **정상(문자열-보존) 규칙**  
     \[
       g\,\$\,h \;\to\; k\,\$\,\ell
     \]
     여기서 \(g,h,k,\ell \in \Sigma^*\). 의미: 임의의 \(u\in\Sigma^*\)에 대해
     \[
       g\,u\,h \;\Rightarrow\; k\,u\,\ell
     \]
  2) **종결(변수 소거) 규칙**  
     \[
       \$ \;\to\; w \quad (w\in\Sigma^*)
     \]
     의미: 남은 변수를 더 이상 확장하지 않고 **끝낸다**.

**유도(derivation)**: \(x\Rightarrow y\)는 어떤 규칙을 하나 적용하여 얻었음을 뜻하고, \(\Rightarrow^*\)는 그의 *반사추이적 폐포*.  
**생성 언어**:
\[
L(\text{PCS}) = \{\, w \in \Sigma^* \mid \exists a\in A:\ a \Rightarrow^* w \,\}.
\]

> 핵심: 규칙은 정확히 **한 번** 등장하는 변수 `\$`의 **문맥 주변**을 바꾸며, 변수 자리에 임의의 문자열 \(u\)가 끼워진다.

### 1.2 간단 예시 — \( \{a^{n}b^{n}\mid n\ge 1\} \) 생성
아래 PCS는 시작 기호를 `\$`가 포함된 공리 하나로 두고, 반복/종결 규칙을 쓴다.
```text
Alphabet Σ = {a, b}
Axioms A = { $ }     # 시작 문자열은 변수 하나뿐
Rules P:
  $      -> a $ b    # 반복 (문맥 첨가)
  $      -> ab       # 종결 (변수 제거)
```
유도:
```
$  ⇒  a $ b  ⇒  a a $ b b  ⇒⋯⇒  a^k $ b^k  ⇒  a^k a b b^k = a^{k+1} b^{k+1}
```
따라서 모든 \(n\ge 1\)에 대해 \(a^n b^n\)을 만든다.

> 위와 같이 **변수 위치를 고정**하고 좌·우에 접두/접미를 붙이는 패턴은 PCS의 전형적인 사용법입니다.

### 1.3 성질
- **표현력**: PCS가 생성하는 언어류는 정확히 **재귀적으로 열거 가능한(RE, c.e.) 언어**.  
  (즉, **튜링 기계가 수용**하는 바로 그 언어들)
- **멤버십**: 일반 PCS에 대한 \(w\in L(\text{PCS})\) 판정은 **반결정 가능**(RE)이고, 전반적으로 **결정 불가능**.
- **문법과의 관계**: **무제한(Type-0) 문법**(촘스키 최상위)과 **동등한 생성력**을 가진다.

---

## 2) semi-Thue/Thue 시스템과의 대응

### 2.1 semi-Thue 시스템(단방향 재작성)
규칙 집합 \(R \subseteq \Sigma^*\times\Sigma^*\) (각 규칙 \(\alpha\to\beta\))로 구성.  
어떤 문자열의 **부분** \(\alpha\)를 \(\beta\)로 바꾸는 단일 스텝을 \(x\Rightarrow y\)로 쓴다.

```text
# 예: { aX -> Xa, Xb -> bX, X -> ab }
```

- **생성/유도**: 공리 \(A\)에서 시작해 \(\Rightarrow^*\)로 도달한 문자열 집합이 언어.
- **동치**: semi-Thue ↔ PCS는 서로 **효과적으로 변환** 가능(문맥을 변수 양옆에 묶어 표현).

### 2.2 Thue 시스템(쌍방향 재작성)
규칙이 **대칭**(\(\alpha \leftrightarrow \beta\))인 경우.  
동치여부(Word Problem)는 일반적으로 **결정 불가능**(문자열 동치 판정이 PCP류에서 온다).

---

## 3) Post **normal system**(정규형)

**정상형 제약**을 추가한 PCS의 변형으로, 규칙이
\[
g\,X \;\to\; X\,h \quad(\text{또는 동등 변형})
\]
꼴(변수는 정확히 한 번, 좌변/우변 위치가 고정)만 허용되도록 제한한다. 필요시 **종결 규칙** \(X\to w\)를 둔다.

- **표현력**: 제약이 있어도 **RE 전체**를 생성할 수 있도록 구성 가능(정규형 정리).  
  즉 **튜링 완전**.  
- **의미**: 변수 \(X\)가 문자열 내부를 “미끄러지듯” 이동하며 좌·우 문맥을 **축적/재배치**한다.

> 실무 감각: 정규형은 **감소(변형) 증명**에 유용 — 복잡한 규칙을 단조로운 스킴으로 **표준화**해 다루기 쉽다.

---

## 4) Post **tag system**(태그 시스템)

삭제 수 \(m\ge 1\)과 규칙 \(a\mapsto w_a\) (\(a\in\Sigma\))로 구성된 재작성 시스템.
- 현재 문자열이 \(a_1 a_2 \cdots a_k\) (\(k\ge m\))이면:
  1) **앞에서 \(m\)글자 삭제**,
  2) **규칙 \(a_1\)** 에 해당하는 꼬리 \(w_{a_1}\)를 **뒤에 덧붙임**.
- 길이가 \(<m\)이 되면 **정지**(또는 실패)로 본다.

```text
# 2-tag 예 (m=2), Σ={a,b}, 규칙: a -> ab, b -> a
#    a a b a  ⇒  b a ab  ⇒  ...  (앞 2글자 삭제, 맨 앞 글자에 따라 꼬리 추가)
```

- **표현력**: \(m\ge 2\)인 태그 시스템은 **튜링 완전**(보편 계산 가능).  
- **정지성**: 주어진 태그 시스템의 **정지 여부**는 **결정 불가능**(정지 문제와 동등 수준).

---

## 5) TM ↔ PCS (혹은 semi-Thue) **상호 시뮬레이션** 스케치

### 5.1 TM → PCS
- **구성 인코딩**: 테이프를 좌/우 분할하여 구분자와 함께 인코딩
  \[
  \cdots a_2 a_1\ \#\ q\ b_0 b_1 b_2\cdots
  \]
  (헤드 아래 기호 \(b_0\), 상태 \(q\), 좌측은 역순 저장 등)
- **전이 규칙**: 각 TM 전이 \((q,\,x)\mapsto(p,\,y,\,\text{L/R})\) 에 대해 변수 `\$`를 끼운 **문맥 규칙**  
  \(g\$h \to k\$\ell\) 을 작성해 정확히 한 스텝의 지역 변화를 모사.
- **수용/거절**: 종결 규칙으로 종료 마커를 언어의 **완성 문자열**로 바꾼다.

### 5.2 PCS → TM
- 규칙 매칭을 “**부분 문자열 탐색** + **치환**”으로 시뮬레이트한다(두 방향 모두 결정적일 필요 없음).
- 한 스텝이 유한 시간에 모사되므로 전체 유도 과정을 TM이 그대로 재현.

> 결론: **PCS ≡ TM ≡ 무제한 문법(Type-0)** — **RE 언어** 생성/인식에서 모두 동등.

---

## 6) 대표 **결정 문제**와 난이도

| 문제 | PCS / semi-Thue / Normal / Tag |
|---|---|
| **멤버십** \(w\in L?\) | **RE**(반결정): 예인 경우 유도 탐색으로 언젠가 도달. 아니오인 경우 무한 탐색 가능 |
| **공백성** \(L=\varnothing?\) | **결정 불가능** |
| **보편성** \(L=\Sigma^*?\) | **결정 불가능** |
| **포함/동치** | **결정 불가능** (높은 계층인 경우 다수) |
| **유도 가능성(쌍 \(\alpha\Rightarrow^*\beta\)?)** | 일반적으로 **결정 불가능**(Word Problem) |
| **Tag 정지 여부** | \(m\ge 2\)에서 **결정 불가능** |

> 증명 도구: **정지 문제/PCP**에서의 **다항식 시간 감소**.  
> 특히 **PCP**는 “두 개의 재작성 흐름이 **언젠가 일치**하나?”를 묻는 구조상,  
> **교집합 공백성**·**동치성**류 문제로의 감수가 자연스럽다.

---

## 7) 예시 모음

### 7.1 semi-Thue로 \( \{a^n b^n \mid n\ge 1\} \) 생성
아래는 공리 하나와 규칙 몇 개로 단순한 생성 스킴을 보이는 장난감 시스템입니다.
```text
Σ = {a,b,X}
A = { X }               # 시작: X
R:
  X   -> a X b          # 균형 있게 a,b 추가
  X   -> ab             # 종료
```
유도: `X ⇒ a X b ⇒ ⋯ ⇒ a^k X b^k ⇒ a^{k+1} b^{k+1}`.

### 7.2 normal system 맛보기
```text
Σ={a,b}, 변수 X
규칙:
  a X -> X a
  X b -> b X
  X   -> ε       # 종료(종결)
공리: X a b
```
변수 `X`가 좌측 `a`들을 **오른쪽으로 밀어내며** `b`들과 재배열, 마지막에 제거.

### 7.3 태그 시스템(2-tag) 간단 시뮬
```text
m = 2
rules:
  a -> ab
  b -> a
start: a a b a

# step1: read 'a', delete 2 -> [b a], append 'ab' -> b a a b
# step2: read 'b', delete 2 -> [a b], append 'a'  -> a b a
# ...
```
정지 여부는 규칙/초기어에 따라 **복잡하고 비결정적**이다.

---

## 8) 설계 팁: Post 시스템으로 **감소(변형)** 하기

1) **상태/테이프의 지역성**을 **문맥**(접두 \(g\), 접미 \(h\))에 인코딩.  
2) **변수 한 개**로 “관심 구간”을 잡고, 우변에서 **같은 변수**를 재사용해 **정보 보존**.  
3) **시작/종료 가젯**: 공리를 특정 형태로 고정하고, 마지막엔 변수 제거 규칙로 닫는다.  
4) **구분자 `#`/마커**를 적극 활용(행·열 정렬, 경계 표시).  
5) **양방향 정확성**: (⇒) 예일 때 규칙들이 해를 **구성**한다. (⇐) 해가 나오면 규칙이 **필연적**.

---

## 9) 논리·언어 이론과의 연계

- **PCS ↔ Type-0 문법**: 무제한 생성 규칙(문맥 자유/문맥 의존 포함)을 **한 변수 재작성**으로 표준화 가능.  
- **RE/Recursive**: PCS가 생성하는 언어는 RE. 그 보수까지 모두 다루는 것은 **불가능**(Rice 류 정리).  
- **결정 가능 구역**을 원하면 **정규/문맥 자유** 등 **제한 문법**으로 설계하거나,  
  정규 제약과의 **교집합**으로 문제를 **P-시간** 영역으로 끌어내는 전략을 쓴다.

---

## 10) 요약

- **Post canonical system**은 **단일 변수**를 가진 **문맥 재작성** 스키마로, **RE 전체**를 생성(튜링 완전).  
- **semi-Thue/Thue**와 서로 변환 가능하며, **normal form / tag system** 같은 변형도 **보편 계산**을 이룬다.  
- 멤버십/동치/포함/보편성/정지성 등 **대부분의 전역 문제**는 **결정 불가능**.  
- 실전(감소/표현)에서는 “**지역 문맥 규칙 + 시작/종료 가젯 + 구분자**” 3종 세트를 기억하면 설계를 빠르게 진행할 수 있다.
