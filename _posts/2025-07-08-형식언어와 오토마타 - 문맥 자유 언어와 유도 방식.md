---
layout: post
title: 형식언어와 오토마타 - 문맥 자유 언어와 유도 방식
date: 2025-07-08 20:20:23 +0900
category: 형식언어와 오토마타
---
# 문맥 자유 언어와 유도 방식

---

## 1. 문맥 자유 언어란?

**문맥 자유 언어(Context-Free Language, CFL)**는  
**문맥 자유 문법(Context-Free Grammar, CFG)**으로 생성할 수 있는 언어를 말한다.

이 언어는 프로그래밍 언어, 수학식, 중첩 괄호 구조 등에서 자연스럽게 등장하며,  
정규 언어보다 더 복잡한 구조를 표현할 수 있다.

---

## 2. 문맥 자유 문법 (CFG: Context-Free Grammar)

### 형식적 정의

CFG는 4-튜플 \\( G = (V, \Sigma, R, S) \\)로 정의된다:

- \\( V \\): 비터미널 기호 집합 (non-terminals)
- \\( \Sigma \\): 터미널 기호 집합 (terminals)
- \\( R \\): 생성 규칙의 집합 (productions), 각 규칙은 \\( A \to \alpha \\) 형태
- \\( S \\): 시작 기호 (start symbol), \\( S \in V \\)

> CFG의 특징:  
> 모든 생성 규칙은 **단 하나의 비터미널로 시작** → \\( A \to \alpha \\)

---

## 3. 문맥 자유 문법 예시

### 괄호 짝 맞추기 언어

언어 \\( L = \{ w \in \{ (, ) \}^* \mid w \text{는 올바른 괄호열} \} \\)

문법 \\( G = (V, \Sigma, R, S) \\):

- \\( V = \{S\} \\)
- \\( \Sigma = \{ (, ) \} \\)
- \\( R \\):
  - \\( S \to SS \\)
  - \\( S \to (S) \\)
  - \\( S \to \varepsilon \\)

---

## 4. 유도(Derivation)란?

**유도**는 시작 기호에서부터 문법 규칙을 반복 적용해 문자열을 만들어내는 과정이다.

### 유도 방법의 종류

| 이름 | 설명 |
|------|------|
| **좌측 우선 유도 (Leftmost Derivation)** | 현재 문자열에서 **가장 왼쪽**의 비터미널을 먼저 치환 |
| **우측 우선 유도 (Rightmost Derivation)** | 현재 문자열에서 **가장 오른쪽**의 비터미널을 먼저 치환 |

유도 방식은 **문장의 구조를 분석하거나 파싱할 때 중요**하다.  
특히 **파스 트리(Parse Tree)** 구성에서 영향을 준다.

---

## 5. 좌측 우선 유도 예시

### 문법 \\( G \\):

- \\( S \to aSb \mid \varepsilon \\)

언어: \\( L = \{ a^n b^n \mid n \ge 0 \} \\)

### 유도 예: 문자열 `aabb`

#### 좌측 우선 유도

1. \\( S \Rightarrow aSb \)
2. \\( \Rightarrow aaSbb \)
3. \\( \Rightarrow aa\varepsilon bb \)
4. \\( \Rightarrow aabb \)

항상 **가장 왼쪽**의 \\( S \\)를 먼저 치환했다.

---

## 6. 우측 우선 유도 예시

### 같은 문법에서 `aabb` 생성

#### 우측 우선 유도

1. \\( S \Rightarrow aSb \)
2. \\( \Rightarrow a(aSb)b \)
3. \\( \Rightarrow a(a\varepsilon b)b \)
4. \\( \Rightarrow aabb \)

여기서는 **가장 오른쪽**의 \\( S \\)를 먼저 치환했다.

---

## 7. 유도 방식의 비교

| 항목 | 좌측 우선 유도 | 우측 우선 유도 |
|------|----------------|----------------|
| 치환 방향 | 왼쪽부터 | 오른쪽부터 |
| 파싱 기법 대응 | LL 파싱 (Top-Down) | LR 파싱 (Bottom-Up) |
| 트리 구성 | 동일한 파스 트리를 갖는 경우도 많음 | 동일 |
| 충돌 발생 시 | 문법의 비모호성 여부와 관련됨 | 동일 |

---

## 8. 파스 트리 (Parse Tree)

### `aabb`의 파스 트리:

```
       S
     / | \
   a  S  b
      /|\
     a S b
        |
        ε
```

좌측 우선/우측 우선 유도 모두 **동일한 트리 구조**를 만들어낼 수 있음  
→ 단, **모호한 문법**의 경우 유도 방식에 따라 **다른 트리**가 생성될 수 있음

---

## 9. 요약

| 개념 | 설명 |
|------|------|
| 문맥 자유 언어 | CFG로 생성 가능한 언어 |
| CFG 구성 요소 | (비터미널, 터미널, 생성 규칙, 시작 기호) |
| 유도(Derivation) | 시작 기호부터 터미널 문자열을 만드는 과정 |
| 좌측 우선 유도 | 가장 왼쪽 비터미널을 먼저 치환 |
| 우측 우선 유도 | 가장 오른쪽 비터미널을 먼저 치환 |
| 파스 트리 | 유도의 구조를 시각화한 트리 |
| 사용 이유 | 문법의 구조 이해, 파서 설계, 문법의 모호성 판단 등 |
