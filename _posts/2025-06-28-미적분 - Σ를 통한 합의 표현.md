---
layout: post
title: 미적분 - Σ를 통한 합의 표현
date: 2025-06-28 19:20:23 +0900
category: 미적분
---
# 시그마 기호(Σ)로 합을 다루는 완전 가이드  

## 0) 기본 형식과 의미

**표기**
$$
\sum_{i=m}^{n} a_i
$$

**의미**
$$
\sum_{i=m}^{n} a_i
= a_m+a_{m+1}+\cdots+a_n.
$$

- 아래첨자 $$i=m$$: 시작 인덱스(하한)  
- 위첨자 $$i=n$$: 끝 인덱스(상한)  
- 본체 $$a_i$$: 더할 항(인덱스의 함수)  
- 관례: $$m>n$$ 이면 **빈 합**이며 값은 $$0$$.

**첫걸음 예제**
$$
\sum_{k=1}^{4} k=1+2+3+4=10,\qquad
\sum_{i=1}^{3}(2i+1)=3+5+7=15.
$$

---

## 1) 자주 쓰는 닫힌식(암기 필수)

| 합 | 결과 |
|---|---|
| $$\displaystyle \sum_{i=1}^{n} 1$$ | $$n$$ |
| $$\displaystyle \sum_{i=1}^{n} i$$ | $$\dfrac{n(n+1)}{2}$$ |
| $$\displaystyle \sum_{i=1}^{n} i^2$$ | $$\dfrac{n(n+1)(2n+1)}{6}$$ |
| $$\displaystyle \sum_{i=1}^{n} i^3$$ | $$\left(\dfrac{n(n+1)}{2}\right)^2$$ |

**등차수열**
$$
\sum_{k=0}^{n-1}(a+kd)=na+\frac{n(n-1)}{2}d.
$$

**등비수열** ($$r\ne 1$$)
$$
\sum_{k=0}^{n-1} ar^k=a\,\frac{1-r^n}{1-r}.
$$

---

## 2) Σ의 기본 성질(연산 규칙)

- **선형성(분배)**
  $$
  \sum_{i=m}^{n}(a_i+b_i)=\sum_{i=m}^{n}a_i+\sum_{i=m}^{n}b_i,\quad
  \sum_{i=m}^{n} c\,a_i=c\sum_{i=m}^{n}a_i.
  $$
- **구간 분할**
  $$
  \sum_{i=m}^{n} a_i=\sum_{i=m}^{k} a_i+\sum_{i=k+1}^{n} a_i\quad(m\le k<n).
  $$
- **인덱스 치환(이동)**  
  $$j=i+s\ \Rightarrow\ 
  \sum_{i=m}^{n} a_i
  =\sum_{j=m+s}^{n+s} a_{\,j-s}.$$
- **역순 합**
  $$
  \sum_{i=m}^{n} a_i
  =\sum_{i=0}^{n-m} a_{\,n-i}.
  $$

> 실전 루틴: **치환 → 전개 → 소거 → 표준식 대입**.

---

## 3) 조건부 합과 지시함수(Iverson 표기)

조건을 직접 아래에 붙이거나, 지시함수를 곱해 일반 합으로 바꾼다.

- **조건부 표기**
  $$
  \sum_{\substack{1\le i\le 12\\ i\ \text{짝수}}} i=2+4+\cdots+12=42.
  $$
- **지시함수**
  $$
  \sum_{i=1}^{n} a_i\,\mathbf{1}_{\{i\ \text{짝수}\}}
  =\sum_{k=1}^{\lfloor n/2\rfloor} a_{2k}.
  $$

---

## 4) 망원합(텔레스코핑)과 부분분수

**핵심 아이디어**: 인접 항이 상쇄되도록 만든다.

- **차분형**
  $$
  \sum_{k=1}^{n}\big(F(k)-F(k-1)\big)=F(n)-F(0).
  $$
- **부분분수 예**
  $$
  \sum_{k=1}^{n}\frac{1}{k(k+1)}
  =\sum_{k=1}^{n}\left(\frac{1}{k}-\frac{1}{k+1}\right)
  =1-\frac{1}{n+1}=\frac{n}{n+1}.
  $$
- **조금 일반화**
  $$
  \sum_{k=1}^{n}\frac{1}{k(k+r)}
  =\frac{1}{r}\sum_{k=1}^{n}\left(\frac{1}{k}-\frac{1}{k+r}\right)
  =\frac{1}{r}\left(H_n-H_{n+r}+H_r\right),
  $$
  여기서 $$H_n=\sum_{k=1}^{n}\frac1k$$ (조화수).

---

## 5) 이중합과 순서 교환

**정의**
$$
\sum_{i=1}^{p}\sum_{j=1}^{q} b_{ij}.
$$

**순서 교환(유한합)**
$$
\sum_{i=1}^{p}\sum_{j=1}^{q} b_{ij}
=\sum_{j=1}^{q}\sum_{i=1}^{p} b_{ij}.
$$

**직사각형 영역 예**
$$
\sum_{i=1}^{n}\sum_{j=1}^{n}(i+j)
= \sum_{i=1}^{n}\sum_{j=1}^{n}i+\sum_{i=1}^{n}\sum_{j=1}^{n}j
= n\sum_{i=1}^{n} i+n\sum_{j=1}^{n} j
= n^2(n+1).
$$

**삼각형 영역 예(순서 바꾸기)**
$$
\sum_{i=1}^{n}\sum_{j=1}^{i} 1
=\sum_{j=1}^{n}\sum_{i=j}^{n}1
=\sum_{j=1}^{n}(n-j+1)=\frac{n(n+1)}{2}.
$$

---

## 6) 이항계수와 합 – 필수 정체들

**이항정리**
$$
(1+x)^n=\sum_{k=0}^{n}\binom{n}{k}x^k.
$$

- **전항 합**
  $$
  \sum_{k=0}^{n}\binom{n}{k}=2^n\quad(x=1\ \text{대입}).
  $$
- **가중 합(1차 모멘트)**
  $$
  \sum_{k=0}^{n}k\binom{n}{k}
  =n\,2^{n-1}
  \quad\text{(양변을 미분하고 }x=1\text{ 대입)}.
  $$
- **2차 모멘트**
  $$
  \sum_{k=0}^{n}k^2\binom{n}{k}=n(n+1)2^{n-2}.
  $$
- **교대 부호**
  $$
  \sum_{k=0}^{n}(-1)^k\binom{n}{k}=0\quad(n\ge 1)\quad\text{( }(1-1)^n\text{)}.
  $$
- **Hockey-stick(스패츌라) 정리**
  $$
  \sum_{k=r}^{n}\binom{k}{r}=\binom{n+1}{r+1}.
  $$
- **반컨볼루션: Vandermonde**
  $$
  \sum_{k} \binom{r}{k}\binom{s}{n-k}=\binom{r+s}{n}.
  $$

**중심항 합**
$$
\sum_{k=0}^{n}\binom{n}{k}^2=\binom{2n}{n}.
$$

> 증명 스케치(이중계수): 왼쪽은 $$n$$ 중 $$k$$, 또 다른 $$n$$ 중 $$k$$ 을 고른 경우의 수를 $$k$$ 로 분해해 세는 것이고, 오른쪽은 $$2n$$ 중 $$n$$ 을 고르는 것.

---

## 7) 기하급수 가중합: 미분으로 쉽게

등비합
$$
S(r)=\sum_{k=0}^{n} r^k=\frac{1-r^n}{1-r}\quad(r\ne 1).
$$
미분하면
$$
S'(r)=\sum_{k=1}^{n} k r^{k-1}
=\frac{1-(n+1)r^{n}+nr^{n+1}}{(1-r)^2}.
$$

따라서
$$
\sum_{k=1}^{n} k r^{k}
=\frac{r\big(1-(n+1)r^{n}+nr^{n+1}\big)}{(1-r)^2}.
$$

한 번 더 미분하면
$$
\sum_{k=1}^{n} k^2 r^{k}
=\frac{r\big(1+r-(n+1)^2 r^{n}+ (2n^2+2n-1)r^{n+1} - n^2 r^{n+2}\big)}{(1-r)^3}.
$$
(필요시 코드로 검증 권장)

---

## 8) 유한합의 적분적 추정 – 리만 합, 적분 비교

**리만 합**
$$
\int_a^b f(x)\,dx
=\lim_{n\to\infty}\sum_{k=1}^{n} f(\xi_k)\,\frac{b-a}{n}.
$$

**적분 비교(단조 증가 $$f$$)**
$$
\int_{1}^{n} f(x)\,dx\ \le\ \sum_{k=1}^{n} f(k)\ \le\ f(1)+\int_{1}^{n} f(x)\,dx.
$$

**예: 조화수의 성장**
$$
H_n=\sum_{k=1}^n\frac1k=\ln n+\gamma+o(1).
$$
(좌우 적분 비교로 $$H_n\approx \ln n$$ 을 쉽게 얻음)

---

## 9) 부분합(아벨 변형) — 이crete Integration by Parts

**정리(Abel 변형)**
$$
\sum_{k=m}^{n} a_k b_k
= A_n b_n - A_{m-1} b_m + \sum_{k=m}^{n-1} A_k (b_k-b_{k+1}),
$$
여기서 $$A_k=\sum_{i=m}^{k} a_i.$$

- **용도**: 단조/경계가 분명한 $$b_k$$ 와 결합해 상계·수렴성·오차를 잡는다.
- **유도**: $$A_k-A_{k-1}=a_k$$ 를 이용해 망원합 구조로 정리.

**간단 예**
$$
\sum_{k=1}^{n} k\,r^k = \Big(\sum_{i=1}^{k} i\Big)\text{를 }A_k\ \text{로 보고}\ \text{적절히 }b_k=r^k\ \text{에 적용}.
$$
(실전에서는 7절 공식을 바로 쓰는 편이 더 빠르다.)

---

## 10) 바닥/천장 함수가 섞인 합

**짝수 개수 세기**
$$
\#\{1\le k\le n: 2\mid k\} = \left\lfloor\frac{n}{2}\right\rfloor.
$$

**일반적 패턴**
$$
\sum_{k=1}^{n} \mathbf{1}_{\{m\mid k\}}=\left\lfloor \frac{n}{m}\right\rfloor,\qquad
\sum_{k=1}^{n} \left\lfloor\frac{ak+b}{m}\right\rfloor
\ \text{는 등분할·나머지 분류로 변형}.
$$

작은 팁: 바닥합은 **개수 세기** 관점으로 바꿔 해석하면 수식화가 쉬워진다.

---

## 11) 조화수, 로그, 다항 혼합 예제

- **망원합으로 조화수 부분합**
  $$
  \sum_{k=1}^{n} \frac{1}{k(k+1)}=1-\frac{1}{n+1}.
  $$
- **로그 합 추정**
  $$
  \sum_{k=1}^{n}\ln k=\ln(n!) \approx n\ln n - n + \frac12\ln(2\pi n)\quad\text{(스터링)}.
  $$

---

## 12) 증명형 테크닉 — 이중계수(Combinatorial counting)

**정리**
$$
\sum_{k=0}^{n}k\binom{n}{k}=n\,2^{n-1}.
$$

**이중계수 증명**:  
크기 $$n$$ 집합에서 **특정 원소 1개를 포함하는 부분집합**의 개수.  
좌측은 “부분집합 크기별로” 세고, 우측은 “먼저 특정 원소를 고르고, 나머지에서 자유롭게 고름”으로 센다.

---

## 13) 실전 문제 모음(풀이 포함)

### (1) 조건부 합 변형
$$
\sum_{\substack{1\le k\le 2n\\ k\ \text{홀수}}} k
=\sum_{j=1}^{n}(2j-1)=n^2.
$$
또는 전체 합에서 짝수합을 빼기:
$$
\sum_{k=1}^{2n}k - \sum_{j=1}^{n}2j
= n(2n+1) - n(n+1)=n^2.
$$

### (2) 부분분수 + 망원
$$
\sum_{k=1}^{n}\frac{3}{k(k+3)}
=\sum_{k=1}^{n}\left(\frac{1}{k}-\frac{1}{k+3}\right)
=1+\frac12+\frac13-\left(\frac{1}{n+1}+\frac{1}{n+2}+\frac{1}{n+3}\right).
$$

### (3) 이중합 순서 교환
$$
S=\sum_{i=1}^{n}\sum_{j=1}^{i} j
=\sum_{i=1}^{n}\frac{i(i+1)}{2}
=\frac12\sum_{i=1}^{n}(i^2+i)
=\frac12\left(\frac{n(n+1)(2n+1)}{6}+\frac{n(n+1)}{2}\right).
$$
정리하면
$$
S=\frac{n(n+1)(n+2)}{6}.
$$
(삼차 다항의 표준 결과)

### (4) 기하 가중합
$$
\sum_{k=1}^{n} k\,2^k
=\frac{2\big(1-(n+1)2^{n}+n\,2^{n+1}\big)}{(1-2)^2}
=(n-1)2^{n+1}+2.
$$

### (5) 이항계수의 교대합
$$
\sum_{k=0}^{n}(-1)^k\binom{n}{k}=0\quad (n\ge 1).
$$
증명: $$(1-1)^n=0$$ 전개.

---

## 14) 파이썬으로 검증하기(단위 테스트 느낌)

```python
# 1) 제곱합: sum_{i=1}^100 i^2 = 338350
print("sum i^2 (n=100) =", sum(i*i for i in range(1, 101)))

# 2) 등비 가중합: sum_{k=1}^n k r^k 와 닫힌식 비교
def geom_weighted_sum(n, r):
    return sum(k*(r**k) for k in range(1, n+1))

def geom_weighted_closed(n, r):
    return (r*(1-(n+1)*r**n + n*r**(n+1))) / ((1-r)**2)

for n, r in [(10, 0.3), (10, 0.7), (20, 0.5)]:
    lhs = geom_weighted_sum(n, r)
    rhs = geom_weighted_closed(n, r)
    print(f"n={n}, r={r} -> diff =", abs(lhs - rhs))

# 3) 이항계수 항등식: sum k C(n,k) = n 2^{n-1}
import math
def C(n, k):
    return math.comb(n, k)

for n in [1,2,5,10]:
    lhs = sum(k*C(n,k) for k in range(n+1))
    rhs = n*(2**(n-1))
    print(f"n={n}: lhs={lhs}, rhs={rhs}, ok={lhs==rhs}")

# 4) 이중합 삼각 영역: sum_{i=1}^n sum_{j=1}^i j = n(n+1)(n+2)/6
def tri_sum(n):
    return sum(sum(range(1, i+1)) for i in range(1, n+1))
for n in [3,5,10]:
    lhs = tri_sum(n)
    rhs = n*(n+1)*(n+2)//6
    print(f"n={n}: lhs={lhs}, rhs={rhs}, ok={lhs==rhs}")
```

---

## 15) 자주 하는 실수 체크리스트

- [ ] 인덱스 **포함/배제** 착오(특히 치환 후 하한·상한 이동 누락)  
- [ ] **빈 합** 규약(하한>상한이면 0)을 잊음  
- [ ] 무한합에서 **순서 교환** 남용(절대수렴 등 조건 필요)  
- [ ] 텔레스코핑에서 **끝항만 남는다**는 구조를 놓침  
- [ ] 바닥/천장 합을 **개수 세기**로 해석하지 못해 복잡화  
- [ ] 닫힌식에 **경계항** 빠뜨림(예: 가중 등비합의 $$r^n$$ 항)

---

## 16) 연습문제(해설 스케치 포함)

1) $$\displaystyle \sum_{k=1}^{n}\frac{1}{k(k+2)}$$  
   해: 부분분수 → $$\frac{1}{2}\sum(\frac{1}{k}-\frac{1}{k+2})$$ → 텔레스코핑.

2) $$\displaystyle \sum_{k=0}^{n}(-1)^k \binom{n}{k} k$$  
   해: $$\sum k\binom{n}{k}(-1)^k = n\sum \binom{n-1}{k-1}(-1)^k
      = -n\sum \binom{n-1}{j}(-1)^j = -n(1-1)^{n-1}=0.$$

3) $$\displaystyle \sum_{i=1}^{n}\sum_{j=1}^{i} (i-j+1)$$  
   해: 순서를 바꾸거나, $$\sum_{i} \sum_{j} (i+1)-\sum_{i}\sum_{j} j$$ 로 분해.

4) $$\displaystyle \sum_{k=1}^{n} k\,3^{k-1}$$  
   해: 7절 공식을 $$r=3$$ 로 적용하거나, 등비합 미분.

5) $$\displaystyle \sum_{k=0}^{n}\binom{n}{k}^2 x^k$$  
   해: 생성함수 아이디어. $$\sum \binom{n}{k} x^k \binom{n}{k} = [t^n](1+t)^n(1+xt)^n.$$

---

## 17) 한눈 요약

- $$\sum$$ 는 **반복 덧셈의 압축 표기**이고, 핵심 연산은 **선형성·치환·분할·역순**.  
- **텔레스코핑**과 **부분분수**는 가장 강력한 유한합 기술.  
- **이중합**은 영역을 그림처럼 바꾸며 **순서 교환**이 핵심.  
- **이항계수** 합은 이항정리/미분/이중계수로 빠르게 처리.  
- **가중 등비합**은 등비합을 **미분**해 닫힌식을 얻는다.  
- **리만 합/적분 비교**로 성장률과 근사를 추정한다.  
- 복잡한 합일수록 **치환 → 전개 → 소거 → 표준식** 루틴으로 단순화하라.