---
layout: post
title: ë¯¸ì ë¶„ - ë²¡í„°ì˜ ë‚´ì 
date: 2025-07-27 14:20:23 +0900
category: ë¯¸ì ë¶„
---
# ë²¡í„°ì˜ ë‚´ì  (Dot Product)

## 1) ì •ì˜(Definition)

### 1.1 ê¸°í•˜í•™ì  ì •ì˜
ë‘ ë²¡í„° $$\vec a,\vec b\in\mathbb R^n$$ ì‚¬ì´ ê°ë„ $$\theta\in[0,\pi]$$ì— ëŒ€í•´
$$
\vec a\cdot \vec b
= \|\vec a\|\,\|\vec b\| \cos\theta.
$$

- $$\|\vec a\|=\sqrt{\sum_i a_i^2}$$ (ìœ í´ë¦¬ë“œ ë…¸ë¦„)  
- ë¶€í˜¸ ì§ê´€:  
  - $$\theta<\tfrac\pi2 \Rightarrow \vec a\cdot\vec b>0$$  
  - $$\theta=\tfrac\pi2 \Rightarrow \vec a\cdot\vec b=0$$ (ì§êµ)  
  - $$\theta>\tfrac\pi2 \Rightarrow \vec a\cdot\vec b<0$$

### 1.2 ëŒ€ìˆ˜ì (ì„±ë¶„) ì •ì˜
$$
\vec a=\langle a_1,\dots,a_n\rangle,\quad
\vec b=\langle b_1,\dots,b_n\rangle
\ \Rightarrow\ 
\vec a\cdot\vec b=\sum_{i=1}^n a_i b_i.
$$

### 1.3 í–‰ë ¬/ì„ í˜•ëŒ€ìˆ˜ ê´€ì 
$$
\vec a\cdot\vec b = \vec a^{\mathsf T}\vec b.
$$
- **ì •ì‚¬ì˜(projection)**, **ìµœì†Œì œê³±(least squares)**, **ì½”ì‚¬ì¸ ìœ ì‚¬ë„**ê°€ í•œ ì¤„ë¡œ ì •ë¦¬ëœë‹¤.

> ğŸ” ë³µì†Œìˆ˜ ê³µê°„ì—ì„œëŠ” **Hermitian ë‚´ì ** $$\langle x,y\rangle=x^\ast y$$(ì²«ë²ˆì§¸ ì„±ë¶„ ì¼¤ë ˆ)ì„ ì“´ë‹¤.

---

## 2) í•µì‹¬ ì„±ì§ˆ(Properties)

1. **êµí™˜ë²•ì¹™**: $$\vec a\cdot\vec b = \vec b\cdot\vec a$$  
2. **ë¶„ë°°ë²•ì¹™**: $$\vec a\cdot(\vec b+\vec c)=\vec a\cdot\vec b+\vec a\cdot\vec c$$  
3. **ìŠ¤ì¹¼ë¼ ê²°í•©**: $$(k\vec a)\cdot\vec b = k(\vec a\cdot\vec b)$$  
4. **ì–‘ì˜ ì •ë¶€í˜¸**: $$\vec a\cdot\vec a=\|\vec a\|^2\ge 0$$, í‰ë“±ì€ $$\vec a=\vec0$$ì¼ ë•Œ  
5. **ì½”ì‹œâ€“ìŠˆë°”ë¥´ì¸ **: 
   $$
   |\vec a\cdot\vec b|\le \|\vec a\|\,\|\vec b\| \quad(\text{í‰ë“±: ì„ í˜•ì¢…ì†})
   $$
6. **ì‚¼ê°ë¶€ë“±ì‹**(ë…¸ë¦„ ê´€ì ): 
   $$
   \|\vec a+\vec b\|\le \|\vec a\|+\|\vec b\|
   $$
7. **í”¼íƒ€ê³ ë¼ìŠ¤**: $$\vec a\perp\vec b \Rightarrow \|\vec a+\vec b\|^2=\|\vec a\|^2+\|\vec b\|^2$$  
8. **í‰í–‰ì‚¬ë³€í˜• ë²•ì¹™**: 
   $$
   \|\vec a+\vec b\|^2+\|\vec a-\vec b\|^2=2(\|\vec a\|^2+\|\vec b\|^2)
   $$

---

## 3) ê¸°í•˜í•™ì  í•´ì„ & ì§ê´€

### 3.1 íˆ¬ì˜ê³¼ ë¶„í•´
- ìŠ¤ì¹¼ë¼ íˆ¬ì˜(ì„±ë¶„ í¬ê¸°):
  $$
  \operatorname{comp}_{\vec a}(\vec b)=\frac{\vec a\cdot \vec b}{\|\vec a\|}
  $$
- ë²¡í„° ì •ì‚¬ì˜:
  $$
  \operatorname{proj}_{\vec a}\vec b
  =\frac{\vec a\cdot\vec b}{\|\vec a\|^2}\,\vec a
  $$
- ì§êµ ë¶„í•´:
  $$
  \vec b=\underbrace{\operatorname{proj}_{\vec a}\vec b}_{\text{í‰í–‰ ì„±ë¶„}}
  +\underbrace{\Big(\vec b-\operatorname{proj}_{\vec a}\vec b\Big)}_{\text{ìˆ˜ì§ ì„±ë¶„}}
  $$

### 3.2 ê°ë„ êµ¬í•˜ê¸°(ìˆ˜ì¹˜ ì•ˆì „ ë²„ì „)
$$
\theta=\cos^{-1}\!\left(
\operatorname{clip}\!\Big(\frac{\vec a\cdot\vec b}{\|\vec a\|\,\|\vec b\|},-1,1\Big)
\right).
$$
> ğŸ”’ **clip**ì€ ë¶€ë™ì†Œìˆ˜ ì˜¤ì°¨ë¡œ ì¸í•œ $$1.00000002$$ ê°™ì€ ê°’ì„ ì•ˆì „íˆ ì˜ë¼ë‚¸ë‹¤.

---

## 4) ê³„ì‚° ë ˆì‹œí”¼(í•¸ì¦ˆì˜¨)

1) **ë‚´ì **: ì„±ë¶„ ê³±-í•©  
2) **ì§êµ íŒì •**: $$\vec a\cdot\vec b \approx 0$$(í—ˆìš©ì˜¤ì°¨ $$\varepsilon$$ í¬í•¨)  
3) **ë‘ ë²¡í„° ê°ë„**: ìœ„ì˜ ì•ˆì „í•œ $$\cos^{-1}$$  
4) **ì •ì‚¬ì˜/ê±°ë¦¬**: ì„ /í‰ë©´ê¹Œì§€ì˜ ìµœë‹¨ê±°ë¦¬ ì‹ ìœ ë„ì— ë‚´ì  ì‚¬ìš©

---

## 5) ì‹¤ì „ ì˜ˆì œ(ìˆ˜í•™ â‡¢ ë¬¼ë¦¬ â‡¢ ë°ì´í„°)

### ì˜ˆì œ A â€” ê°ë„Â·ì •ì‚¬ì˜Â·ì -ì§ì„  ê±°ë¦¬(2D/3D ê³µí†µ)
ì  $$P$$ì—ì„œ ì§ì„  $$\overline{AB}$$ë¡œì˜ ë°œ(ìˆ˜ì„ )ê³¼ ê±°ë¦¬.

- ë°©í–¥ë²¡í„°: $$\vec d=\overrightarrow{AB}=B-A$$  
- íˆ¬ì˜ ìŠ¤ì¹¼ë¼:
  $$
  t^\*=\frac{\overrightarrow{AP}\cdot \vec d}{\|\vec d\|^2}
  $$
- ë°œ $$H=A+t^\*\vec d\,$$, ê±°ë¦¬ $$\|PH\|=\|\overrightarrow{AP}-t^\*\vec d\|$$  
- **ì„ ë¶„**ì¼ ë•ŒëŠ” $$t^\*$$ë¥¼ $$[0,1]$$ë¡œ **í´ë¨í”„**.

> **ì˜ˆì‹œ ìˆ«ì**  
> $$A=(0,0,0),\ B=(3,1,1),\ P=(2,2,0).$$  
> $$\vec d=(3,1,1),\ \overrightarrow{AP}=(2,2,0),$$  
> $$t^\*=\dfrac{(2,2,0)\cdot(3,1,1)}{3^2+1^2+1^2}=\dfrac{8}{11}.$$  
> $$H=A+t^\*\vec d=\left(\tfrac{24}{11},\tfrac{8}{11},\tfrac{8}{11}\right),\ 
\|PH\|=\left\|\left(-\tfrac{2}{11},\,\tfrac{14}{11},\,\tfrac{8}{11}\right)\right\|
=\tfrac{\sqrt{324}}{11}=\tfrac{18}{11}.$$

---

### ì˜ˆì œ B â€” ë¬¼ë¦¬: ì¼(Work) = ë°©í–¥ ì¼ì¹˜ë¶„ì˜ ëˆ„ì 
í˜ $$\vec F=(10,0)\,\text{N}$$, ì´ë™ $$\vec d=(3,4)\,\text{m}$$.  
$$W=\vec F\cdot\vec d = 10\cdot 3 + 0\cdot 4 = 30\ \text{J}.$$
- ê°™ì€ í¬ê¸°ì˜ í˜ì´ë¼ë„ **ì´ë™ ë°©í–¥ ì„±ë¶„ë§Œ** ì¼ì— ê¸°ì—¬í•œë‹¤.

ê°€ë³€ í˜ì˜ ì„ ì ë¶„(ê°œë… ìŠ¤ì¼€ì¹˜):
$$
W=\int_C \vec F\cdot d\vec r = \int_a^b \vec F(\vec r(t))\cdot \vec r'(t)\,dt.
$$

---

### ì˜ˆì œ C â€” ML/IR: ì½”ì‚¬ì¸ ìœ ì‚¬ë„ & ì •ê·œí™”
$$
\cos\angle(\vec x,\vec y)=
\frac{\vec x\cdot\vec y}{\|\vec x\|\,\|\vec y\|}.
$$
- ìŠ¤ì¼€ì¼ì— ë‘”ê°(ì •ê·œí™”ëœ ë°©í–¥ ë¹„êµ)  
- ì¶”ì²œ/ê²€ìƒ‰/ì„ë² ë”© ë¹„êµì— ê´‘ë²”ìœ„í•˜ê²Œ ì‚¬ìš©

> **ë¯¸ë‹ˆ ì˜ˆì‹œ**  
> $$\vec x=(1,2,0,2),\ \vec y=(2,1,0,2).$$  
> $$\vec x\cdot\vec y=1\cdot2+2\cdot1+0\cdot0+2\cdot2=8,$$  
> $$\|\vec x\|=\sqrt{9}=3,\ \|\vec y\|=\sqrt{9}=3,$$  
> $$\cos\ = 8/9 \approx 0.8889.$$

---

### ì˜ˆì œ D â€” ìµœì†Œì œê³±: í•œ ì¶•ìœ¼ë¡œì˜ ìµœì  ê·¼ì‚¬
ë°ì´í„° $$\vec b$$ë¥¼ ì¶• $$\vec a$$ë¡œ ìµœì ìœ¼ë¡œ(í‰ê· ì œê³±ì˜¤ì°¨ ìµœì†Œ) ê·¼ì‚¬í•˜ë ¤ë©´ ê³„ìˆ˜ $$\alpha^\*$$:
$$
\alpha^\*=\frac{\vec a\cdot\vec b}{\|\vec a\|^2},\quad
\hat b=\alpha^\* \vec a=\operatorname{proj}_{\vec a}\vec b.
$$
- **ì •ì‚¬ì˜ = ìµœì  ê·¼ì‚¬**: ë‚´ì  í•˜ë‚˜ë¡œ ëë‚œë‹¤.

---

## 6) ìˆ˜ì¹˜ ì´ìŠˆ & ì‹¤ë¬´ íŒ

- **ì˜ë²¡í„° ì²´í¬**: ì •ê·œí™”/ê°ë„ ê³„ì‚° ì „ $$\|\vec a\|<\varepsilon$$ ê²€ì‚¬.  
- **í´ë¨í•‘**: $$\cos^{-1}$$ ì…ë ¥ì€ `min(1,max(-1,x))`.  
- **ì§êµì„± íŒì •**: ì ˆëŒ€ê°’ $$|\vec a\cdot\vec b| \le \varepsilon\,\|\vec a\|\,\|\vec b\|$$ ê°™ì´ **ìƒëŒ€í—ˆìš©** ì‚¬ìš©.  
- **ì •ê·œí™” ë¹„ìš©**: ëŒ€ëŸ‰ì—°ì‚°ì—ì„  ê¸¸ì´ ì¬ì‚¬ìš©/ë²¡í„°í™”ë¡œ ìµœì í™”.

---

## 7) ì½”ë“œ ì˜ˆì œ

### 7.1 Python/NumPy ìœ í‹¸

```python
import numpy as np

EPS = 1e-12

def dot(a, b):
    a = np.asarray(a, dtype=float)
    b = np.asarray(b, dtype=float)
    return float(np.dot(a, b))

def norm(a):
    return float(np.linalg.norm(a))

def angle(a, b):
    na, nb = norm(a), norm(b)
    if na < EPS or nb < EPS:
        raise ValueError("Zero-length vector in angle()")
    cosv = dot(a, b) / (na * nb)
    cosv = max(-1.0, min(1.0, cosv))  # clamp
    return float(np.arccos(cosv))     # [rad]

def proj(a, b):
    # proj_a b = ((aÂ·b)/(aÂ·a)) a
    a = np.asarray(a, float)
    b = np.asarray(b, float)
    aa = dot(a, a)
    if aa < EPS:
        raise ValueError("Cannot project onto near-zero vector")
    return (dot(a, b) / aa) * a

def point_line_distance(P, A, B, segment=False):
    # distance from point P to line (A,B)
    A = np.asarray(A, float); B = np.asarray(B, float); P = np.asarray(P, float)
    d = B - A
    dd = dot(d, d)
    if dd < EPS:
        return norm(P - A), A  # A==B
    t = dot(P - A, d) / dd
    if segment:
        t = max(0.0, min(1.0, t))
    H = A + t * d
    return norm(P - H), H

# quick demo
a = (1,2,0); b = (2,1,2)
print("dot:", dot(a,b))
print("angle[deg]:", np.degrees(angle(a,b)))
print("proj_a(b):", proj(a,b))
dist, H = point_line_distance(P=(2,2,0), A=(0,0,0), B=(3,1,1), segment=True)
print("point-segment distance:", dist, "foot:", H)
```

### 7.2 ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ë°°ì¹˜ ê³„ì‚°

```python
def cosine_similarity_matrix(X):
    # X: shape (n_samples, n_features)
    X = np.asarray(X, float)
    norms = np.linalg.norm(X, axis=1, keepdims=True)
    norms = np.where(norms < EPS, 1.0, norms)  # avoid div-zero
    Z = X / norms
    return Z @ Z.T  # (n x n)

X = np.array([[1,2,0,2],
              [2,1,0,2],
              [0,0,1,0]], dtype=float)
S = cosine_similarity_matrix(X)
print(S)
```

### 7.3 C++17(Eigen) â€” ë‚´ì /ì •ì‚¬ì˜/ê°ë„

```cpp
#include <Eigen/Dense>
#include <iostream>
#include <cmath>
using namespace Eigen;

double clamp(double x) { return std::max(-1.0, std::min(1.0, x)); }

int main(){
    Vector3d a(1,2,0), b(2,1,2);
    double d = a.dot(b);
    double ang = std::acos(clamp( d / (a.norm()*b.norm()) )); // radians
    Vector3d proj = (d / a.squaredNorm()) * a;

    std::cout << "dot=" << d << "\n";
    std::cout << "angle(deg)=" << ang*180.0/M_PI << "\n";
    std::cout << "proj_a(b)= " << proj.transpose() << "\n";
}
```

---

## 8) ì¶”ê°€ ì‘ìš© ìŠ¤ëƒ…ìƒ·

- **Gramâ€“Schmidt ì§êµí™”**: ë‚´ì ìœ¼ë¡œ ì§êµì„± ê°•ì œ  
- **PCA/SVD**: ì¤‘ì‹¬í™” í›„ ë‚´ì =ê³µë¶„ì‚°ì˜ ì›ì†Œ, ë¶„ì‚°/ìƒê´€ êµ¬ì¡° í•´ì„  
- **ì¶©ëŒ íŒì •(ê²Œì„)**: **ë¶„ë¦¬ì¶• ì •ë¦¬(SAT)**ì—ì„œ í›„ë³´ ì¶•ì— ëŒ€í•œ íˆ¬ì˜(=ë‚´ì ) ë²”ìœ„ ë¹„êµ  
- **ì‹ í˜¸ ì²˜ë¦¬**: ê¸°ì¤€ íŒŒí˜•ê³¼ì˜ **ìƒê´€**(dot)ë¡œ ë§¤ì¹­ ì •ë„ ì¸¡ì •

---

## 9) ì—°ìŠµë¬¸ì œ(ê°„ë‹¨ í•´ì„¤)

1) $$\vec a=(3,4),\ \vec b=(2,-1).$$  
   (a) $$\vec a\cdot\vec b$$, (b) ê°ë„, (c) $$\operatorname{proj}_{\vec a}\vec b$$  
   **í’€ì´**:  
   (a) $$6-4=2$$.  
   (b) $$\cos\theta=2/(5\cdot\sqrt5)=2/\sqrt{125} \Rightarrow \theta\approx 79.69^\circ.$$  
   (c) $$\dfrac{2}{25}\,(3,4)=(0.24,0.32).$$

2) ì  $$P(2,2,0)$$ ê³¼ ì„ ë¶„ $$A(0,0,0)-B(3,1,1)$$ ì‚¬ì´ ê±°ë¦¬.  
   **í’€ì´**: ìœ„ ì˜ˆì œ A ê³µì‹ì„ ì‚¬ìš©í•´ $$\tfrac{18}{11}\approx 1.636. $$

3) ì½”ì‚¬ì¸ ìœ ì‚¬ë„:  
   $$\vec x=(1,2,0,2),\ \vec y=(2,1,0,2) \Rightarrow 8/9.$$

---

## 10) ìš”ì•½(One-Page)

| ì£¼ì œ | í•µì‹¬ ì‹/ë©”ì‹œì§€ |
|---|---|
| ì •ì˜ | $$\vec a\cdot\vec b=\sum a_i b_i=\|\vec a\|\,\|\vec b\|\cos\theta$$ |
| ì§êµ | $$\vec a\cdot\vec b=0 \ \Leftrightarrow\ \vec a\perp\vec b$$ |
| ì •ì‚¬ì˜ | $$\operatorname{proj}_{\vec a}\vec b=\dfrac{\vec a\cdot\vec b}{\|\vec a\|^2}\vec a$$ |
| ê°ë„ | $$\theta=\cos^{-1}\!\left(\dfrac{\vec a\cdot\vec b}{\|\vec a\|\,\|\vec b\|}\right)$$ (í´ë¨í”„ í•„ìˆ˜) |
| ë¶ˆë³€ì‹ | Cauchyâ€“Schwarz, í”¼íƒ€ê³ ë¼ìŠ¤, í‰í–‰ì‚¬ë³€í˜• ë²•ì¹™ |
| ì‘ìš© | ì¼(Work), ì½”ì‚¬ì¸ ìœ ì‚¬ë„, ìµœì†Œì œê³± ì •ì‚¬ì˜, SAT ì¶©ëŒ, PCA |