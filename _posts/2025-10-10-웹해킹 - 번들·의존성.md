---
layout: post
title: ì›¹í•´í‚¹ - ë²ˆë“¤Â·ì˜ì¡´ì„±
date: 2025-10-10 19:25:23 +0900
category: ì›¹í•´í‚¹
---
# 23. ë²ˆë“¤Â·ì˜ì¡´ì„±(Dependency Confusion/Typo)
**â€” ê°œë… Â· ìœ„í˜‘ ì‹œë‚˜ë¦¬ì˜¤ Â· ì–¸ì–´/ì—ì½”ì‹œìŠ¤í…œë³„( npm/pnpm/yarn Â· Python/pip/Poetry Â· NuGet Â· Maven/Gradle Â· Go Â· Rust ) ë°©ì–´ í…œí”Œë¦¿ Â· CI/ë ˆì§€ìŠ¤íŠ¸ë¦¬ ê³ ì • Â· í•€/í•´ì‹œ ê²€ì¦ Â· íƒ€ì´í¬ìŠ¤ì¿¼íŒ… ì°¨ë‹¨ Â· í…ŒìŠ¤íŠ¸/ì ê²€ ì²´í¬ë¦¬ìŠ¤íŠ¸**

## 0) í•œëˆˆì— ë³´ê¸° (Executive Summary)

- **ë¬¸ì œ ìœ í˜•**
  1) **Dependency Confusion**: `internal-utils` ë¼ëŠ” **ì‚¬ë‚´ íŒ¨í‚¤ì§€ëª…**ì´ ê³µê°œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ë„ ì¡´ì¬Â·ì—…ë¡œë“œ â†’  
     í•´ì„ ìˆœì„œ/ë²„ì „ ìš°ì„ ìˆœìœ„ ë•Œë¬¸ì— **ê³µê°œ íŒ¨í‚¤ì§€**ê°€ ì„¤ì¹˜.
  2) **Typosquatting**: `@org/logger` â†’ `@org/loger`, `request` â†’ `requset` ê°™ì€ **ì² ì ì‹¤ìˆ˜**ë¥¼ ë…¸ë¦° ì•…ì„± íŒ¨í‚¤ì§€.
  3) **Transitive Confusion**: ì§ì ‘ ì˜ì¡´ì„±ì€ ì•ˆì „í•˜ì§€ë§Œ, **í•˜ìœ„(ì „ì´) ì˜ì¡´ì„±**ì—ì„œ ê³µê°œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ê°€ ë¼ì–´ë“¦.

- **í•µì‹¬ ë°©ì–´**
  - **ìŠ¤ì½”í”„ ì‚¬ìš©**: npm `@org/*`, NuGet `PackageSourceMapping`, Go `GOPRIVATE` ë“± **â€œì´ ì´ë¦„ì€ ë‚´ë¶€ì—ì„œë§Œâ€**ì„ ì‹œìŠ¤í…œì— ì„ ì–¸.
  - **ë ˆì§€ìŠ¤íŠ¸ë¦¬ ê³ ì •/ê±°ìš¸(Proxy) ì‚¬ìš©**: **í•˜ë‚˜ì˜ í”„ë¼ì´ë¹— ë ˆì§€ìŠ¤íŠ¸ë¦¬**(Nexus/Artifactory/Cloud)ë§Œ ë³´ê²Œ ë§Œë“¤ê¸°.
  - **í•€ & í•´ì‹œ ê²€ì¦**: `npm ci`(lockfile ì—„ê²©), `pip --require-hashes`, `Poetry.lock`, NuGet `packages.lock.json`, Gradle **Dependency Locking**.
  - **ì •ì±…(ì¡°ì§ ë ˆë²¨)**: â€œì‚¬ë‚´ íŒ¨í‚¤ì§€ëª…ì€ **ë¬´ì¡°ê±´ ìŠ¤ì½”í”„**â€, â€œCI/ì„œë²„ëŠ” **ê³µê°œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì§ì ‘ ì ‘ê·¼ ê¸ˆì§€**(í”„ë¡ì‹œë§Œ)â€.
  - **ê²€ì‚¬/ëª¨ë‹ˆí„°ë§**: LockfileÂ·SBOMì—ì„œ **ê³µê°œ ë„ë©”ì¸ ìœ ì… íƒì§€**, ì„¤ì¹˜ ë¡œê·¸ì—ì„œ **ì¶œì²˜** ê¸°ë¡Â·ê²½ë³´.

---

## 1) ìœ„í˜‘ ì´í•´: â€œì™œ ë°”ê¹¥ ê²ƒì´ ë¨¼ì € ê¹”ë¦´ê¹Œ?â€

1) **í•´ì„ ìˆœì„œ** ë¬¸ì œ  
   - `pip` ì˜ `--extra-index-url` ì¡°í•©ì²˜ëŸ¼, **ì—¬ëŸ¬ ì¸ë±ìŠ¤**ë¥¼ ë™ì‹œì— ë³¸ ë’¤ **ê°€ì¥ â€œì í•©í•œâ€ ë²„ì „**ì„ ì„ íƒ.
   - ë¹„ìŠ·í•˜ê²Œ, ì¼ë¶€ ë¹Œë“œíˆ´/íŒ¨í‚¤ì§€ë§¤ë‹ˆì €ëŠ” **ê·œì¹™ì„ ëª…ì‹œí•˜ì§€ ì•Šìœ¼ë©´** ê³µê°œì™€ í”„ë¼ì´ë¹—ì„ **ë™ì‹œì— íƒìƒ‰**.
2) **ë²„ì „ ìš°ì„ ìˆœìœ„**  
   - ì‚¬ë‚´ `1.0.1` vs ê³µê°œ `99.0.0` â†’ â€œìµœì‹ /ìµœê³  ë²„ì „â€ì„ ì„ í˜¸í•˜ëŠ” ì •ì±…ì´ë©´ **ê³µê°œ ìª½ ìŠ¹ë¦¬**.
3) **ì´ë¦„ ê³µê°„ ì¶©ëŒ**  
   - **ìŠ¤ì½”í”„/ë„¤ì„ìŠ¤í˜ì´ìŠ¤**ë¥¼ ì“°ì§€ ì•Šìœ¼ë©´ **ë™ëª…ì´ì¸**ì´ ìƒê¸°ê¸° ì‰¬ì›€.
4) **ì´ˆê¸° ì„¤ì¹˜(ë½ ì—†ìŒ)**  
   - lockfile ìƒê¸°ê¸° ì „ ì²« ì„¤ì¹˜, ë˜ëŠ” ë½ ë¬´ì‹œ( `npm install` vs `npm ci` ) ì‹œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ìš°ì„ ìˆœìœ„ê°€ ê·¸ëŒ€ë¡œ ë°˜ì˜.

---

## 2) ì‹œë‚˜ë¦¬ì˜¤(ì•ˆì „ ì¬í˜„ ì˜ˆì‹œ: â€œë§‰í˜€ì•¼ ì •ìƒâ€ í¬ì¸íŠ¸)

### ì‹œë‚˜ë¦¬ì˜¤ A â€” Python/pip, ì˜ëª»ëœ ì¸ë±ìŠ¤ ì„¤ì •
```bash
# ì˜ëª»ëœ(ì·¨ì•½) ì˜ˆ â€” ë‚´ë¶€+ê³µê°œ ë™ì‹œ íƒìƒ‰, ë” ë†’ì€ ê³µê°œ ë²„ì „ ì„ íƒë  ìˆ˜ ìˆìŒ
pip install -r requirements.txt \
  --index-url https://private.example.com/simple \
  --extra-index-url https://pypi.org/simple
```
- **ìœ„í—˜**: ê°™ì€ ì´ë¦„ì˜ íŒ¨í‚¤ì§€ê°€ PyPIì— ìˆê³  **ë²„ì „ì´ ë” ë†’ìœ¼ë©´** PyPIê°€ ì„ íƒ.
- **í•´ê²°**: **ê³µê°œ ì¸ë±ìŠ¤ ì œê±°** ë˜ëŠ” **ë‚´ë¶€ ê±°ìš¸(í”„ë¡ì‹œ)**ë§Œ ì‚¬ìš©. ê¼­ ë³‘í–‰í•´ì•¼ í•˜ë©´ **í•€/í•´ì‹œ**ë¥¼ ê°•ì œ.

### ì‹œë‚˜ë¦¬ì˜¤ B â€” npm, ìŠ¤ì½”í”„ ì—†ì´ ê³µê°œ/í”„ë¼ì´ë¹— í˜¼ìš©
```json
// package.json (ì·¨ì•½ ì˜ˆ)
{
  "dependencies": {
    "internal-utils": "^1.0.0"
  }
}
```
- **ìœ„í—˜**: ê°™ì€ ì´ë¦„ì´ npmjs.comì— ìˆìœ¼ë©´ npm ê¸°ë³¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ì„¤ì¹˜ ê°€ëŠ¥.
- **í•´ê²°**: `@org/internal-utils` ì²˜ëŸ¼ **ìŠ¤ì½”í”„ ê°•ì œ** + `.npmrc` ë¡œ **ìŠ¤ì½”í”„â†’í”„ë¼ì´ë¹— ë ˆì§€ìŠ¤íŠ¸ë¦¬** ë§¤í•‘.

---

## 3) ì—ì½”ì‹œìŠ¤í…œë³„ ë°©ì–´ í…œí”Œë¦¿

### 3.1 Node.js (npm / pnpm / yarn)

#### (1) **ìŠ¤ì½”í”„ + ë ˆì§€ìŠ¤íŠ¸ë¦¬ ê³ ì •**
`.npmrc` (í”„ë¡œì íŠ¸/CI ëª¨ë‘ ì ìš©)
```ini
# ê¸°ë³¸ì€ ë‚´ë¶€ í”„ë¡ì‹œ(ì‚¬ì„¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ í”„ë¡ì‹œ/ìºì‹œ)ë§Œ ë³´ê²Œ í•œë‹¤
registry=https://npm.corp.example.com/

# ì‚¬ë‚´ ìŠ¤ì½”í”„ëŠ” ë°˜ë“œì‹œ ë‚´ë¶€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¡œ
@org:registry=https://npm.corp.example.com/
//npm.corp.example.com/:_authToken=${NPM_TOKEN}
always-auth=true

# (ì„ íƒ) ê³µê°œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ ì•„ì˜ˆ ì ‘ê·¼ ì°¨ë‹¨(ë„¤íŠ¸ì›Œí¬/ë°©í™”ë²½/í”„ë¡ì‹œ ì •ì±…)
; npmjs.org ì°¨ë‹¨ì€ ë„¤íŠ¸ì›Œí¬ ì •ì±…ì—ì„œ ìˆ˜í–‰
```

`package.json` (ìŠ¤ì½”í”„ í•„ìˆ˜)
```json
{
  "name": "@org/my-service",
  "dependencies": {
    "@org/internal-utils": "1.2.3",
    "lodash": "4.17.21"
  },
  "packageManager": "pnpm@9.0.0"
}
```

#### (2) **Lockfile ì—„ê²© ì‚¬ìš©**  
- **npm**: CIì—ì„œëŠ” **`npm ci`**(lockfileê³¼ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ì„¤ì¹˜, `package-lock.json` í•„ìš”)  
- **pnpm**: `pnpm install --frozen-lockfile`  
- **yarn**: `yarn install --immutable` (Berry) / `--frozen-lockfile` (Classic)

#### (3) **ë²„ì „ í•€(ì •í™• ê³ ì •)**  
- `^`/`~` ì œê±° â†’ `"1.2.3"` ê³ ì •  
- ìƒˆ ë¦´ë¦¬ìŠ¤ ì‹œ PRì—ì„œë§Œ ë²„ì „ ê°±ì‹  â†’ **ë¦¬ë·° + CI í†µê³¼ í›„** ë³‘í•©

#### (4) **ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ê°€ë“œ(ì˜µì…˜)**  
- ìœ„í—˜ í™˜ê²½ì—ì„œ `--ignore-scripts` (postinstall ì•…ìš© ì°¨ë‹¨) + í—ˆìš© í”„ë¡œì íŠ¸ë§Œ ìŠ¤í¬ë¦½íŠ¸ í—ˆìš©.  
- ì¡°ì§ ì •ì±…: **ì‚¬ë‚´ íŒ¨í‚¤ì§€**ëŠ” `scripts` ìµœì†Œí™” / ì„œëª…(í”„ë¡œë¹„ë„ŒìŠ¤) ë„ì….

#### (5) **ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸(ì˜ˆ: ê³µê°œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ìœ ì… íƒì§€)**
```bash
# lockfileì—ì„œ npmjs.org ë“± ê³µê°œ ë„ë©”ì¸ í”ì ì´ ë‚˜ì˜¤ë©´ ì‹¤íŒ¨
grep -E "registry\.npmjs\.org|https://registry.npmjs.org" package-lock.json && {
  echo "âŒ Public registry artifacts found in lockfile"; exit 1; }
```

---

### 3.2 Python (pip / Poetry / pip-tools)

#### (1) **pip: ê³µê°œ ì¸ë±ìŠ¤ ë³‘í–‰ ê¸ˆì§€ + í•´ì‹œ ê²€ì¦**
`pip.conf` (CIÂ·ì„œë²„)
```ini
[global]
index-url = https://pypi.corp.example.com/simple
; ê³µê°œ PyPIëŠ” í”„ë¡ì‹œ(ì‚¬ë‚´ ë¯¸ëŸ¬) ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼
; extra-index-url ì€ ë˜ë„ë¡ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (í˜¼í•© íƒìƒ‰ ìœ„í—˜)
require-virtualenv = true
```

`requirements.txt` (í•´ì‹œ ê°•ì œ; `pip-compile --generate-hashes` ê¶Œì¥)
```
requests==2.31.0 \
    --hash=sha256:... \
    --hash=sha256:...
@org-internal-utils==1.2.3 \
    --hash=sha256:... \
    --hash=sha256:...
```

ì„¤ì¹˜:
```bash
pip install --require-hashes -r requirements.txt
```
- **í•µì‹¬**: **ì´ë¦„Â·ë²„ì „Â·í•´ì‹œ 3ì  ê³ ì •** â†’ ê³µê°œì— ê°™ì€ ì´ë¦„/ë†’ì€ ë²„ì „ì´ ìˆì–´ë„ **í•´ì‹œê°€ ë‹¤ë¥´ë©´ ë¶ˆì¼ì¹˜ë¡œ ê±°ë¶€**.

#### (2) **Poetry**
`pyproject.toml`
```toml
[tool.poetry]
name = "my-service"
version = "0.1.0"

[[tool.poetry.source]]
name = "corp"
url = "https://pypi.corp.example.com/simple"
default = true

[tool.poetry.dependencies]
python = "^3.11"
org-internal-utils = { version = "1.2.3", source = "corp" } # ë‚´ë¶€ ì†ŒìŠ¤ ê°•ì œ
```
CI:
```bash
poetry install --no-root --sync   # lock ê¸°ë°˜ ë™ê¸°í™”
```

#### (3) **pip-tools (ê¶Œì¥ ì›Œí¬í”Œë¡œ)**
- `requirements.in` â†’ PR ë•Œ **`pip-compile --generate-hashes`** ë¡œ **ì ê¸ˆ íŒŒì¼ ìƒì„±** â†’ ë¦¬ë·°/ë³‘í•©.  
- ëŸ°íƒ€ì„ ì„¤ì¹˜ëŠ” í•­ìƒ `pip install --require-hashes -r requirements.txt`.

---

### 3.3 .NET (NuGet)

#### (1) **NuGet.Config â€” ì†ŒìŠ¤ ë§¤í•‘/ê³ ì •**
`NuGet.config`
```xml
<configuration>
  <packageSources>
    <clear /> <!-- ê³µê°œ ì†ŒìŠ¤ ì œê±° -->
    <add key="corp" value="https://nuget.corp.example.com/v3/index.json" />
  </packageSources>

  <!-- íŒ¨í‚¤ì§€ ì†ŒìŠ¤ ë§¤í•‘: íŠ¹ì • íŒ¨í‚¤ì§€ëŠ” íŠ¹ì • ì†ŒìŠ¤ì—ì„œë§Œ -->
  <packageSourceMapping>
    <packageSource key="corp">
      <package pattern="@Org.*" />
      <package pattern="Company.*" />
    </packageSource>
  </packageSourceMapping>

  <!-- (ì„ íƒ) ì„œëª… ê²€ì¦: ì‚¬ë‚´ ì„œëª…ìë§Œ ì‹ ë¢° -->
  <trustedSigners>
    <author name="CorpSigner">
      <certificate fingerprint="â€ABCD...FFFF" hashAlgorithm="SHA256" allowUntrustedRoot="false" />
    </author>
  </trustedSigners>
</configuration>
```

#### (2) **Lockfile & ê³ ì • ë²„ì „**
- `packages.lock.json` í™œì„±í™”(ë³µ determinism).  
- `Directory.Packages.props` ë¡œ **ì¤‘ì•™ ë²„ì „ ê´€ë¦¬** + â€œPRë¡œë§Œ ë²„ì „ ë³€ê²½â€.

---

### 3.4 Java (Maven / Gradle)

#### (1) Maven: **ë¯¸ëŸ¬ ê°•ì œ(ì¤‘ì•™ ì°¨ë‹¨ ê°€ëŠ¥)**  
`~/.m2/settings.xml` (CI/ì„œë²„)
```xml
<settings>
  <mirrors>
    <mirror>
      <id>corp</id>
      <name>Corporate Nexus</name>
      <url>https://maven.corp.example.com/repository/all/</url>
      <mirrorOf>*</mirrorOf> <!-- ëª¨ë“  ìš”ì²­ì„ ì‚¬ë‚´ ë¯¸ëŸ¬ë¡œ -->
    </mirror>
  </mirrors>
  <profiles>
    <profile>
      <id>corp</id>
      <repositories>
        <repository>
          <id>corp-releases</id>
          <url>https://maven.corp.example.com/repository/releases/</url>
        </repository>
      </repositories>
    </profile>
  </profiles>
  <activeProfiles>
    <activeProfile>corp</activeProfile>
  </activeProfiles>
</settings>
```
- **ì¤‘ì•™(mavenCentral) ì§ì ‘ ì ‘ê·¼ì„ ê¸ˆì§€**í•˜ê³  **ì‚¬ë‚´ ë¯¸ëŸ¬ë§Œ** ì‚¬ìš©.

#### (2) Gradle: **ë ˆí¬ì§€í† ë¦¬ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ + Dependency Locking**
`settings.gradle`
```groovy
dependencyResolutionManagement {
  repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
  repositories {
    maven { url "https://maven.corp.example.com/repository/all/" }
  }
}
```
`gradle.properties`
```
org.gradle.dependency.verification=on
```
- **Dependency Locking** í™œì„±í™”í•˜ì—¬ **ë²„ì „ ê³ ì •**; ê²€ì¦ íŒŒì¼ ë“±ìœ¼ë¡œ ë¬´ê²°ì„± í™•ë³´.

---

### 3.5 Go (Modules)

- **GOPRIVATE**: ì‚¬ë‚´ ëª¨ë“ˆ ë„ë©”ì¸/ê²½ë¡œë¥¼ ì„ ì–¸ â†’ **ê³µê°œ í”„ë¡ì‹œ/í•´ì‹œ ë°ì´í„°ë² ì´ìŠ¤(sumdb) ìš°íšŒ**.
```bash
go env -w GOPRIVATE=git.corp.example.com,corp.example.com/*
go env -w GOPROXY=https://goproxy.corp.example.com,direct
```
- **ì‚¬ë‚´ Git + í”„ë¡ì‹œ**ë§Œ ì‚¬ìš©(Out egress ì°¨ë‹¨)  
- `go mod tidy`/`go build` ëŠ” í•­ìƒ **í”„ë¡ì‹œ ë¡œê·¸**ë¡œ ì¶œì²˜ ê°ì‚¬.

---

### 3.6 Rust (Cargo)

- **ëŒ€ì²´ ì†ŒìŠ¤**ë¡œ crates.ioë¥¼ **ì‚¬ë‚´ ë¯¸ëŸ¬**ë¡œ êµì²´:
`.cargo/config.toml`
```toml
[source.crates-io]
replace-with = "corp"

[source.corp]
registry = "https://crates.corp.example.com/index"
```
- **Cargo.lock** ì»¤ë°‹(í•„ìˆ˜).  
- (ì˜µì…˜) `cargo vendor` ë¡œ **ë²¤ë”ë§** í›„ ì˜¤í”„ë¼ì¸ ë¹Œë“œ.

---

## 4) Typosquatting(ì² ì ë…¸ë¦¬ê¸°) ë°©ì–´

- **Allowlist**: ì‚¬ë‚´ì—ì„œ í—ˆìš©í•˜ëŠ” íŒ¨í‚¤ì§€/ìŠ¤ì½”í”„ **ëª©ë¡í™”** â†’ ì„¤ì¹˜ ì „ **ì²´í¬**.
- **Linter/í›…**: PRÂ·CIì—ì„œ `package.json/pyproject` ë³€ê²½ ì‹œ, **í—ˆìš© ëª©ë¡Â·ìœ ì‚¬ë„ ê²€ì‚¬**(Levenshtein distance).
- **ë„ë©”ì¸ ê°ì‹œ**: `@org/` ìŠ¤ì½”í”„ ì™¸ **ìœ ì‚¬ ìŠ¤ì½”í”„/ì´ë¦„**ì´ ê³µê°œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ë“±ì¥í•˜ë©´ ê²½ë³´.

**ê°„ë‹¨ ìœ ì‚¬ë„ ê²€ì‚¬(ì˜ˆ: Node)**
```js
import levenshtein from 'js-levenshtein';
const allow = new Set(["@org/internal-utils","lodash","requests"]);
const newly = ["@org/loger"]; // PRì—ì„œ ì¶”ê°€ëœ íŒ¨í‚¤ì§€ ê°€ì •
for (const name of newly) {
  if (!allow.has(name)) {
    for (const ok of allow) {
      if (levenshtein(name, ok) <= 2) {
        throw new Error(`ğŸš¨ Suspicious typo: ${name} ~ ${ok}`);
      }
    }
  }
}
```

---

## 5) CI/CD ê°€ë“œë ˆì¼

- **í™˜ê²½ ë³€ìˆ˜ë¥¼ í†µí•œ ê°•ì œ**
  - npm: `NPM_CONFIG_REGISTRY=https://npm.corp.example.com/`
  - pip: `PIP_INDEX_URL=https://pypi.corp.example.com/simple`
  - Maven: `settings.xml` ë°”ì¸ë”©
  - Go: `GOPROXY`/`GOPRIVATE`
- **ë„¤íŠ¸ì›Œí¬ ì •ì±…**: ë¹Œë“œ ì—ì´ì „íŠ¸ì—ì„œ **ê³µê°œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë„ë©”ì¸ ì§ì ‘ ì ‘ê·¼ ì°¨ë‹¨**(í”„ë¡ì‹œë§Œ í†µê³¼).
- **ë¶ˆë³€ ì„¤ì¹˜ ëª…ë ¹**
  - `npm ci`, `pnpm install --frozen-lockfile`, `yarn install --immutable`
  - `pip install --require-hashes -r requirements.txt`
  - `dotnet restore --locked-mode` / `nuget restore` + `packages.lock.json`
  - Gradle **dependency locking** + ê²€ì¦
- **SBOM ìƒì„±/ê²€ì‚¬**: CycloneDX/SPDX ìƒì„± í›„ **ì¶œì²˜ ë„ë©”ì¸** ê²€ì‚¬ â†’ ê³µê°œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ í”ì  ë°œê²¬ ì‹œ ì‹¤íŒ¨.

---

## 6) ìš´ì˜/ê°ì‚¬ (Monitoring)

- **ë ˆì§€ìŠ¤íŠ¸ë¦¬(í”„ë¡ì‹œ) ë¡œê·¸**: ëˆ„ê°€ ì–´ë–¤ íŒ¨í‚¤ì§€Â·ë²„ì „ì„ ê°€ì ¸ê°”ëŠ”ì§€ **ì¶œì²˜ ê¸°ë¡**.
- **ë½/ë©”íƒ€ ë³€ê²½ ê°ì‹œ**: `package-lock.json`, `poetry.lock`, `go.sum` ë³€ê²½ PRì€ **í•„ìˆ˜ ë¦¬ë·°**.
- **ì·¨ì•½ íŒ¨í‚¤ì§€ ê²½ë³´**: SCA(êµ¬ì„±ìš”ì†Œ ë¶„ì„)ë¡œ **ì•…ì„±/ì˜¤ì—¼ íŒ¨í‚¤ì§€ í”¼ë“œ** ìë™ ì—°ê³„.

---

## 7) ì‚¬ê³  ìµœì†Œí™” ì„¤ê³„(ì¶”ê°€)

- **ë¹Œë“œ ì¬í˜„ì„±**: ë™ì¼ ì…ë ¥ â†’ ë™ì¼ ì‚°ì¶œ(ë¹Œë“œ ìºì‹œ/ë½/ë²¤ë”ë§).  
- **lifecycle scripts ìµœì†Œí™”**: npm `postinstall` ë“±ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œ ê¸ˆì§€(ì •ì±…).  
- **ì„œëª…/í”„ë¡œë¹„ë„ŒìŠ¤**(ê°€ëŠ¥í•œ ì—ì½”ì‹œìŠ¤í…œì—ì„œ): ì„œëª…ëœ/ê²€ì¦ ê°€ëŠ¥í•œ ì•„í‹°íŒ©íŠ¸ë§Œ í—ˆìš©.  
- **ì¶œì‹œ ê²Œì´íŠ¸**: ë°°í¬ íŒŒì´í”„ë¼ì¸ì—ì„œ **SBOMÂ·ë½Â·ì„œëª… ê²€ì¦** í†µê³¼í•´ì•¼ ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰.

---

## 8) â€œë§‰í˜€ì•¼ ì •ìƒâ€ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

1) **ë™ëª…ì´ì¸ ê³µê°œ íŒ¨í‚¤ì§€ ì£¼ì… ì‹œë„**  
   - ë™ì¼ ì´ë¦„ì„ ê³µê°œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ë§Œë“¤ì—ˆë‹¤ê³  ê°€ì • â†’ CIê°€ **í”„ë¡ì‹œ ì™¸ ì ‘ê·¼ ì°¨ë‹¨**ìœ¼ë¡œ ì„¤ì¹˜ ì‹¤íŒ¨í•´ì•¼ í•¨.
2) **ë†’ì€ ë²„ì „ ê³µê°œ íŒ¨í‚¤ì§€**  
   - ë‚´ë¶€ `1.2.3`, ê³µê°œ `99.0.0`ì¼ ë•Œë„ **ë½/í•€/í•´ì‹œ**ë¡œ ë‚´ë¶€ë§Œ ì„¤ì¹˜ë˜ëŠ”ì§€ í™•ì¸.
3) **íƒ€ì´í¬ ì¶”ê°€ PR**  
   - `@org/loger` ê°™ì€ ë³€ê²½ì´ **ìœ ì‚¬ë„ ë¦°íŠ¸**ì— ê±¸ë ¤ PR ì‹¤íŒ¨í•´ì•¼ ì •ìƒ.
4) **ë½ ë¬´ì‹œ ì„¤ì¹˜**  
   - `npm install` ê°•ì œ ê¸ˆì§€, `npm ci` ì™¸ì—ëŠ” íŒŒì´í”„ë¼ì¸ ì‹¤íŒ¨.

---

## 9) ë¹ ë¥¸ ë ˆì‹œí”¼(ìš”ì•½)

- **ì´ë¦„ ê³µê°„**: ì‚¬ë‚´ íŒ¨í‚¤ì§€ëŠ” **ë°˜ë“œì‹œ ìŠ¤ì½”í”„/ë„ë©”ì¸**ìœ¼ë¡œ êµ¬ë¶„.  
- **ë ˆì§€ìŠ¤íŠ¸ë¦¬**: **í”„ë¼ì´ë¹— í”„ë¡ì‹œ í•˜ë‚˜**ë§Œ, ê³µê°œ ì§ì ‘ì ‘ê·¼ ì°¨ë‹¨.  
- **í•€/ë½/í•´ì‹œ**: ì–¸ì–´ë³„ **ë½ íŒŒì¼**ê³¼ **ì •í™• ë²„ì „**, **í•´ì‹œ ê²€ì¦**(pip) í•„ìˆ˜.  
- **CI ì •ì±…**: `*-ci/--frozen-lockfile/--immutable/--require-hashes` ê°•ì œ.  
- **ê°ì‹œ**: SBOM/ë½ì— **ê³µê°œ ë„ë©”ì¸ í”ì **ì´ ë³´ì´ë©´ ì‹¤íŒ¨.  
- **êµìœ¡**: â€œ`--extra-index-url` ë‚¨ìš© ê¸ˆì§€â€, â€œ`^`/`~` ë‚¨ë°œ ê¸ˆì§€â€, â€œìŠ¤ì½”í”„ í•„ìˆ˜â€.

---

## 10) ë¶€ë¡: ì˜ˆì œ ì„¤ì • ëª¨ìŒ

### npm/pnpm/yarn ê³µí†µ
```ini
# .npmrc
registry=https://npm.corp.example.com/
@org:registry=https://npm.corp.example.com/
always-auth=true
```

### pip (í•´ì‹œ ê³ ì •)
```bash
pip install --require-hashes -r requirements.txt
```

### Poetry
```toml
[[tool.poetry.source]]
name="corp"
url="https://pypi.corp.example.com/simple"
default=true
```

### NuGet
```xml
<packageSources><clear/><add key="corp" value="https://nuget.corp.example.com/v3/index.json"/></packageSources>
<packageSourceMapping>...</packageSourceMapping>
```

### Maven
```xml
<mirror><id>corp</id><url>https://maven.corp.example.com/repository/all/</url><mirrorOf>*</mirrorOf></mirror>
```

### Go
```bash
go env -w GOPRIVATE=corp.example.com/* ; go env -w GOPROXY=https://goproxy.corp.example.com,direct
```

### Rust
```toml
[source.crates-io] 
replace-with = "corp"
[source.corp]
registry = "https://crates.corp.example.com/index"
```

---

## 11) ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] **ìŠ¤ì½”í”„/ë„ë©”ì¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤**ë¡œ ì‚¬ë‚´ íŒ¨í‚¤ì§€ êµ¬ë¶„  
- [ ] **í”„ë¼ì´ë¹— ë ˆì§€ìŠ¤íŠ¸ë¦¬ ê³ ì •**, ê³µê°œ ì§ì ‘ ì ‘ê·¼ ì°¨ë‹¨  
- [ ] **ë½íŒŒì¼ ì»¤ë°‹** + CIì—ì„œ **ë¶ˆë³€ ì„¤ì¹˜**  
- [ ] **ë²„ì „ í•€**(ì •í™• ê³ ì •), ìë™ ì—…ë°ì´íŠ¸ëŠ” PRì—ì„œë§Œ  
- [ ] Pythonì€ **`--require-hashes`** í•„ìˆ˜  
- [ ] NuGet **Source Mapping**, Maven **mirrorOf=\***  
- [ ] Go **GOPRIVATE**, Rust **replace-with**  
- [ ] **íƒ€ì´í¬ ê°ì§€ ë¦°íŠ¸** + SBOM ì¶œì²˜ ê²€ì‚¬  
- [ ] ì„¤ì¹˜ ë¡œê·¸ì— **ì¶œì²˜ ê¸°ë¡**(ê°ì‚¬)  
- [ ] ê°œë°œì ì˜¨ë³´ë”©ì— **ì •ì±…/ë„êµ¬ ì‚¬ìš©ë²• êµìœ¡**

---

### ëìœ¼ë¡œ
ì˜ì¡´ì„± í˜¼ë™ì€ **íˆ´ì˜ ê¸°ë³¸ ë™ì‘**(ì—¬ëŸ¬ ì†ŒìŠ¤ íƒìƒ‰Â·ìµœì‹  ë²„ì „ ì„ í˜¸)ì„ **ìš°ë¦¬ ì •ì±…ìœ¼ë¡œ ë®ì–´ì¨ì•¼** ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
**ì´ë¦„ ê³µê°„Â·ë ˆì§€ìŠ¤íŠ¸ë¦¬ ê³ ì •Â·í•€/í•´ì‹œÂ·CI ê°€ë“œë ˆì¼**ì„ ë™ì‹œì— ì ìš©í•˜ë©´ â€œê³µê°œê°€ ë¨¼ì € ì„¤ì¹˜ë˜ëŠ”â€ ì°½ì„ êµ¬ì¡°ì ìœ¼ë¡œ ë‹«ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.