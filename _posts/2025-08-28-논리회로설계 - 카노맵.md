---
layout: post
title: 논리회로설계 - 카노맵
date: 2025-08-28 21:25:23 +0900
category: 논리회로설계
---
# 카노맵(Karnaugh Map) — **스위칭 함수의 최소 형식**, **2·3·4변수 K-map**, **필수 주항(EPI)으로 최소식 결정**

> 표기: \(+\)=OR, \(\cdot\) 또는 생략=AND, \(\overline{A}\)=NOT \(A\).  
> 변수 순서는 관례상 \(A\)(MSB)→\(B\)→\(C\)→\(D\)이며, K-map의 행/열 라벨은 **그레이 코드(00,01,11,10)** 를 사용한다.

---

## 1) 스위칭 함수의 **최소 형식(minimal form)**

### 1.1 목표와 용어
- **목표:** 곱항/합항, 리터럴 수, 게이트 깊이를 최소로 하는 **최소식**을 구한다.
- **정규형:**  
  - **SOP**(곱의 합): \(F=\sum m(I)\) — **1**이 되는 미니텀의 합.  
  - **POS**(합의 곱): \(F=\prod M(J)\) — **0**이 되는 맥스텀의 곱.
- **주항(implicant):** 1들의 집합을 덮는 곱항.  
- **소수 주항(PI, prime implicant):** 더 크게 확장 불가한 주항(카노맵에서 **최대 크기 묶음**).  
- **필수 주항(EPI, essential PI):** 적어도 하나의 1셀을 **오직 자신만** 덮는 소수 주항.

> **Don’t care**(\(X\))는 필요할 때만 1로 간주해 **묶음을 키우는** 데 사용한다.

### 1.2 K-map 최소화 원칙
- **인접 1들을 \(1,2,4,8,\dots\)** 크기(2의 거듭제곱)로 묶는다.  
- **가로/세로 인접 + 테두리 래핑**(좌↔우, 상↔하 연속) 허용. **대각선은 인접 아님**.  
- 같은 셀을 **여러 묶음에 중복** 포함해도 된다(더 큰 묶음 확보용).  
- 가능한 한 **큰 묶음**을 우선적으로 만든다(리터럴 수 감소).

---

## 2) **2변수 K-map** (2×2)

### 2.1 배치
|      | C=0 | C=1 |
|------|-----|-----|
| **A=0** | m0  | m1  |
| **A=1** | m2  | m3  |

> 여기서는 간단히 \(A,C\) 두 변수라 가정(라벨은 그레이 코드 유지).

### 2.2 예시
- \(F=\sum m(1,3)\)일 때, **열( C=1 )을 2셀로 묶음** → \(\boxed{F=C}\).
- \(F=\sum m(2,3)\) → **행( A=1 ) 묶음** → \(\boxed{F=A}\).
- \(F=\sum m(0,1,2,3)\) → 전체 묶음(4셀) → \(\boxed{F=1}\).

---

## 3) **3변수 K-map** (2×4, 행에 \(A\), 열에 \(BC\))

### 3.1 배치(열은 그레이 코드)
|      | **BC=00** | **01** | **11** | **10** |
|------|-----------|--------|--------|--------|
| **A=0** | m0        | m1     | m3     | m2     |
| **A=1** | m4        | m5     | m7     | m6     |

### 3.2 최소화 예 — \(\displaystyle F=\sum m(1,2,3,5,7)\)
- K-map 채우기:

```
      BC
      00  01  11  10
A=0   0   1   1   1
A=1   0   1   1   0
```

- **그룹1(4셀):** 열 **01, 11** 두 열을 위·아래로 묶음 → \(C=1\) 고정 → \(\boxed{C}\).  
- **그룹2(2셀):** \(m2(010)\)–\(m3(011)\) 가로 묶음 → \(A=0, B=1\) 고정 → \(\boxed{\overline{A}B}\).
- **최소식:** \(\boxed{F=C+\overline{A}B}\).

> **검증:** \(C=1\)이면 \(1,3,5,7\)을 모두 덮고, 남는 \(2\)는 \(\overline{A}B\)가 덮는다.

---

## 4) **4변수 K-map** (4×4, 행 \(AB\), 열 \(CD\), 모두 그레이 코드)

### 4.1 배치
| **AB\CD** | **00** | **01** | **11** | **10** |
|-----------|--------|--------|--------|--------|
| **00**    | m0     | m1     | m3     | m2     |
| **01**    | m4     | m5     | m7     | m6     |
| **11**    | m12    | m13    | m15    | m14    |
| **10**    | m8     | m9     | m11    | m10    |

### 4.2 최소화 예 — \(\displaystyle F=\sum m(0,2,5,7,8,10,13,15)\)
- K-map(1만 표시, 공백은 0):

```
AB\CD  00  01  11  10
00     1   .   1   1
01     .   1   1   .
11     .   1   1   .
10     1   .   1   1
```

- **그룹A(4셀):** \(B=0,\ D=0\) 영역(00·10 행 × 00·10 열) → \(\boxed{\overline{B}\,\overline{D}}\).  
- **그룹B(4셀):** \(B=1,\ D=1\) 영역(01·11 행 × 01·11 열) → \(\boxed{BD}\).
- **최소식:** \(\boxed{F=\overline{B}\,\overline{D}+BD = B\odot D}\) (XNOR).

> **포인트:** 래핑(가장자리 연결)로 **4셀 묶음** 두 개가 가능해 리터럴 수가 크게 줄었다.

---

## 5) **필수 주항(EPI)**을 사용한 **최소식 결정 절차**

### 5.1 단계
1. **모든 소수 주항(PI)**을 찾는다 — K-map에서 만들 수 있는 **최대 크기**의 묶음들.  
2. **커버링 차트(covering chart)** 작성 — 각 미니텀을 **어떤 PI가 덮는지** 표시.  
3. **필수 주항(EPI)** 선택 — 특정 미니텀을 **오직 하나의 PI만** 덮으면 그 PI는 **필수**.  
4. 남은 미니텀은 **최소 개수**의 PI로 덮는 **집합 커버 문제**를 풀어 결정(필요 시 휴리스틱: 큰 묶음, 많이 덮는 PI 우선).

### 5.2 커버링 차트 예(§4.2의 함수)
- PI 후보: \(P_1=\overline{B}\,\overline{D}\), \(P_2=BD\).

| 미니텀 | 0 | 2 | 8 | 10 | 5 | 7 | 13 | 15 |
|-------:|:-:|:-:|:-:|:--:|:-:|:-:|:--:|:--:|
| \(P_1=\overline{B}\,\overline{D}\) | ● | ● | ● |  ● |   |   |    |    |
| \(P_2=BD\)                         |   |   |   |    | ● | ● |  ● |  ● |

- 각 열(미니텀)에 ●가 **한 개뿐**이므로 \(P_1, P_2\) **모두 EPI** → \(\boxed{F=P_1+P_2}\) 가 최소식.

> 일반적으로는 PI가 여러 개가 되고, 일부만 EPI가 되며, 나머지는 **최소 커버 선택**이 필요하다.

---

## 6) **POS 최소화(0 묶기)** — 보완 관점
- SOP는 **1을 묶어 곱항**을 만든다.  
- POS는 **0을 묶어 합항**을 만든다(동일 규칙, 같은 그레이 배치).  
- 예: 4변수에서 \(F=0\) 인 셀을 8·4·2·1 셀 묶음으로 커버 → 각 묶음은 \((\text{합항})\) 이 되고, 최종식은 이 합항들의 **AND**.

\[
\overline{F}=\sum m(\text{0인 인덱스}) \;\Rightarrow\; F=\prod M(\text{0인 인덱스})
\]

---

## 7) 실무 팁 & 체크리스트
- [ ] **그레이 코드 라벨**(00,01,11,10)인지 확인(자칫 01↔10 순서를 섞지 말 것).  
- [ ] **가장 큰 묶음**부터 만들고, **중복 포함**을 허용하라.  
- [ ] **X(don’t care)** 는 묶음을 키울 때만 포함.  
- [ ] **EPI 먼저 고정**, 그 후 잔여 셀은 최소 개수의 PI로 커버.  
- [ ] SOP·POS **양쪽 결과**를 적어두면 교차 검증이 쉬움.  
- [ ] 타이밍/해저드가 걱정될 때는(특히 비동기 경로) **합의항** 추가를 검토.

---

## 8) 연습문제

1) **2변수**: \(F=\sum m(1,3)\). K-map으로 최소화하고 POS도 구하라.  
2) **3변수**: \(F=\sum m(0,2,6,7)\). K-map 묶음(4·2셀)을 제시하고 최소식을 구하라.  
3) **4변수**: \(F=\sum m(0,2,3,8,10,11,14,15)\).  
   - (a) 모든 PI를 표시하고,  
   - (b) 커버링 차트로 EPI를 찾은 뒤,  
   - (c) 최소식을 제시하라.  
4) **DC 포함**: \(F=\sum m(1,3,5)+d(7,9)\). DC를 활용해 SOP 최소식을 구하라.  
5) **POS 연습**: 4변수에서 \(F=0\) 인 인덱스가 \(\{1,2,4,5\}\) 일 때, POS 최소식을 K-map으로 구하라.
