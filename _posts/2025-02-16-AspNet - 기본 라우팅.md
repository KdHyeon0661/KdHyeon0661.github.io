---
layout: post
title: AspNet - ê¸°ë³¸ ë¼ìš°íŒ…
date: 2025-02-16 20:20:23 +0900
category: AspNet
---
# ğŸŒ ASP.NET Core ê¸°ë³¸ ë¼ìš°íŒ… ì´í•´: Razor Pagesì™€ MVC ë¹„êµ

ASP.NET Coreì—ì„œ ë¼ìš°íŒ…(Routing)ì€ **í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ URLì„ í•´ë‹¹ ì²˜ë¦¬ ì½”ë“œì— ì—°ê²°**í•˜ëŠ” ì¤‘ìš”í•œ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.  
ì´ ê¸€ì—ì„œëŠ” Razor Pagesì™€ MVC ê°ê°ì˜ **ê¸°ë³¸ ë¼ìš°íŒ… ë°©ì‹**ì„ ë¹„êµí•˜ê³ , **ì§ì ‘ ë¼ìš°íŒ…ì„ ì •ì˜í•˜ëŠ” ë°©ë²•**ë„ ì†Œê°œí•©ë‹ˆë‹¤.

---

## ğŸ“Œ ë¼ìš°íŒ…ì´ë€?

ë¼ìš°íŒ…ì€ í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­í•œ URLì„ ë¶„ì„í•˜ì—¬ í•´ë‹¹ ìš”ì²­ì„ ì²˜ë¦¬í•  **í•¸ë“¤ëŸ¬(í˜ì´ì§€, ì»¨íŠ¸ë¡¤ëŸ¬, ì•¡ì…˜)**ì— ì—°ê²°í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.

```http
GET /Products/Details/3 â†’ ProductsControllerì˜ Details(3) í˜¸ì¶œ
GET /Contact â†’ Pages/Contact.cshtml ì‹¤í–‰
```

---

## ğŸ§­ 1. Razor Pagesì˜ ê¸°ë³¸ ë¼ìš°íŒ…

Razor PagesëŠ” **íŒŒì¼/í´ë” êµ¬ì¡° ê¸°ë°˜ì˜ ë¼ìš°íŒ…**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

### âœ… íŒŒì¼ êµ¬ì¡° ê¸°ë°˜ ì˜ˆì‹œ

```
Pages/
â”œâ”€â”€ Index.cshtml         â†’ GET /
â”œâ”€â”€ About.cshtml         â†’ GET /About
â”œâ”€â”€ Products/
â”‚   â”œâ”€â”€ List.cshtml      â†’ GET /Products/List
â”‚   â”œâ”€â”€ Details.cshtml   â†’ GET /Products/Details
```

- `Index.cshtml` â†’ `https://localhost:5001/`
- `About.cshtml` â†’ `https://localhost:5001/About`
- `Products/Details.cshtml` â†’ `/Products/Details`

### âœ… ë¼ìš°íŒ… íŒŒë¼ë¯¸í„° ì§€ì •

Razor Page íŒŒì¼ ìƒë‹¨ì— `@page "{id}"` ê°™ì€ ë¼ìš°íŒ… í…œí”Œë¦¿ì„ ì§€ì •í•  ìˆ˜ ìˆì–´ìš”:

```razor
@page "{id:int}"
@model ProductModel

<h2>Product ID: @Model.Id</h2>
```

```csharp
public class ProductModel : PageModel
{
    public int Id { get; set; }

    public void OnGet(int id)
    {
        Id = id;
    }
}
```

ìš”ì²­ ì˜ˆ:
```
GET /Product/3 â†’ id = 3
```

---

## âš™ï¸ 2. MVCì˜ ê¸°ë³¸ ë¼ìš°íŒ…

MVCëŠ” ë¼ìš°íŒ…ì´ **ì»¨íŠ¸ë¡¤ëŸ¬ ì´ë¦„, ì•¡ì…˜ ì´ë¦„, íŒŒë¼ë¯¸í„°** ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.

### âœ… ê¸°ë³¸ ë¼ìš°íŠ¸ íŒ¨í„´

```csharp
app.MapControllerRoute(
    name: "default",
    pattern: "{controller=Home}/{action=Index}/{id?}");
```

- `controller`: ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ ì´ë¦„ (`HomeController`)
- `action`: ë©”ì„œë“œ ì´ë¦„ (`Index`)
- `id?`: ì„ íƒì  íŒŒë¼ë¯¸í„°

### âœ… ì˜ˆì‹œ

```http
GET / â†’ HomeController.Index()
GET /Products/Details/5 â†’ ProductsController.Details(5)
```

```csharp
public class ProductsController : Controller
{
    public IActionResult Details(int id)
    {
        // DB ì¡°íšŒ ë“±
        return View();
    }
}
```

---

## ğŸ§© 3. Razor Pages vs MVC ë¼ìš°íŒ… ë¹„êµ

| í•­ëª© | Razor Pages | MVC |
|------|-------------|-----|
| ë¼ìš°íŒ… ê¸°ì¤€ | í´ë” ë° íŒŒì¼ êµ¬ì¡° | URL í…œí”Œë¦¿ + Controller/Action |
| URL ì„¤ì • | `@page "{id}"` ì§ì ‘ ì§€ì • | `MapControllerRoute`ë¡œ ì¤‘ì•™ ì„¤ì • |
| ê¶Œì¥ ì‹œë‚˜ë¦¬ì˜¤ | ë‹¨ìˆœ ì›¹í˜ì´ì§€, ë°±ì˜¤í”¼ìŠ¤ | ë³µì¡í•œ êµ¬ì¡°, API, ëŒ€ê·œëª¨ ì›¹ì•± |

---

## ğŸ› ï¸ 4. ì»¤ìŠ¤í…€ ë¼ìš°íŒ… ì˜ˆì œ

### âœ… Razor Pagesì—ì„œ `@page` í…œí”Œë¦¿ ì»¤ìŠ¤í„°ë§ˆì´ì§•

```cshtml
@page "/ContactUs"
<h2>ë¬¸ì˜í•˜ê¸°</h2>
```

â†’ `/ContactUs` ë¼ìš°íŠ¸ì—ì„œ ì´ í˜ì´ì§€ê°€ í˜¸ì¶œë¨

### âœ… MVCì—ì„œ ë¼ìš°íŠ¸ ì§€ì •

```csharp
[Route("blog/{year:int}/{month:int}/{slug}")]
public IActionResult Post(int year, int month, string slug)
{
    // URL: /blog/2024/12/hello-world
    return View();
}
```

---

## ğŸ”„ 5. ì—¬ëŸ¬ ë¼ìš°íŠ¸ë¥¼ í•˜ë‚˜ì˜ í˜ì´ì§€/ì•¡ì…˜ì— ë§¤í•‘

### âœ… Razor Pages

```razor
@page "/Notice"
@page "/ê³µì§€ì‚¬í•­"
```

â†’ `/Notice` ë˜ëŠ” `/ê³µì§€ì‚¬í•­`ì—ì„œ ëª¨ë‘ ì ‘ì† ê°€ëŠ¥

### âœ… MVC

```csharp
[HttpGet]
[Route("notice")]
[Route("ê³µì§€ì‚¬í•­")]
public IActionResult Notice() => View();
```

---

## ğŸ§ª 6. ë¼ìš°íŒ… ê·œì¹™ ìš°ì„ ìˆœìœ„

- Razor Pages: ê°€ì¥ ë¨¼ì € **ì •í™•íˆ ë§¤ì¹­ë˜ëŠ” íŒŒì¼ ê²½ë¡œ**ê°€ ìš°ì„ 
- MVC: **ì •ì˜ëœ ë¼ìš°íŠ¸ ê·œì¹™ ìˆœì„œ**ëŒ€ë¡œ íƒìƒ‰

```csharp
app.MapControllerRoute("custom", "page/{pageNumber}");
app.MapControllerRoute("default", "{controller=Home}/{action=Index}/{id?}");
```

â†’ ìœ„ ì˜ˆì—ì„œëŠ” `/page/3`ì€ custom ë¼ìš°íŠ¸ë¡œ ìš°ì„  ì²˜ë¦¬ë¨

---

## ğŸš« 7. ë¼ìš°íŒ… ì‹¤íŒ¨ ì‹œ

ë¼ìš°íŒ… ê²½ë¡œê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ 404 í˜ì´ì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.  
ì¶”í›„ `UseStatusCodePages()` ë“±ì„ ì‚¬ìš©í•´ ì»¤ìŠ¤í…€ ì—ëŸ¬ í˜ì´ì§€ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆì–´ìš”.

---

## âœ… ë§ˆë¬´ë¦¬ ìš”ì•½

| êµ¬ë¶„ | ì„¤ëª… |
|------|------|
| Razor Pages ë¼ìš°íŒ… | `Pages/íŒŒì¼.cshtml` êµ¬ì¡°ê°€ URLë¡œ ë°”ë¡œ ë§¤í•‘ë¨ |
| MVC ë¼ìš°íŒ… | `{controller}/{action}/{id?}` íŒ¨í„´ì— ë”°ë¼ ë™ì‘ |
| íŒŒë¼ë¯¸í„° ì „ë‹¬ | `@page "{id}"` ë˜ëŠ” `action(int id)` í˜•ì‹ |
| ì»¤ìŠ¤í…€ ë¼ìš°íŠ¸ | `@page "/CustomUrl"` ë˜ëŠ” `[Route("...")]` |
| ë‹¤ì¤‘ ë¼ìš°íŒ… | `@page` ë˜ëŠ” `[Route(...)]` ì—¬ëŸ¬ ê°œ ì§€ì • ê°€ëŠ¥ |