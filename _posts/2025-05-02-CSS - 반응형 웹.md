---
layout: post
title: CSS - 반응형 웹
date: 2025-05-02 22:20:23 +0900
category: CSS
---
# 반응형 웹(Responsive Web Design)

## 1. 반응형 웹 핵심 개념 복습

### 1-1. Fluid Grid (유동형 그리드)

- `%`, `fr`, `auto-fit/auto-fill`, `minmax()` 등 **상대 단위**로 폭을 잡습니다.
- 고정 `px`보다 변동이 많아 **뷰포트에 자연스럽게 적응**합니다.

```css
.container {
  width: min(100%, 1200px); /* 100%를 넘지 않되, 1200px 상한 */
  margin-inline: auto;      /* 논리적 속성으로 중앙 정렬 */
  padding-inline: 1rem;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(16rem, 1fr)); /* 카드 자동 줄갈이 */
  gap: 1rem;
}
```

### 1-2. Flexible Media (유연한 미디어)

- 이미지/비디오는 **컨테이너 폭을 넘지 않도록** 제한하고, 비율을 유지합니다.

```css
img, video, svg, canvas {
  max-width: 100%;
  height: auto;
}
```

- 레이아웃 안정화를 위해 `aspect-ratio`도 적극 활용합니다.

```css
.thumb {
  aspect-ratio: 16 / 9;
  object-fit: cover; /* 이미지 잘림을 감안하고 꽉 채우기 */
}
```

### 1-3. Media Queries (미디어 쿼리)

- 화면 폭, 해상도, 입력 특성 등 **환경 특성**에 따라 스타일을 분기합니다.

```css
@media (max-width: 768px) {
  .sidebar { display: none; }
}
```

---

## 2. 뷰포트 메타 태그

반응형의 **필수 전제**:

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0">
```

| 속성 | 설명 |
|---|---|
| `width=device-width` | 레이아웃 폭을 디바이스 폭과 일치 |
| `initial-scale=1.0` | 초기 확대/축소 배율 |

---

## 3. 브레이크포인트 설계 전략

- **모바일 퍼스트**: 기본 스타일은 모바일(좁은 폭), 넓어질수록 `@media (min-width: …)`로 증축
- 비즈니스/콘텐츠 기준으로 **의미 있는 전환점**(텍스트 줄바꿈/카드 열수 변화 등)을 설정
- 흔히 쓰는 범용 가이드(유연하게 조정):
  - `sm: 576px`, `md: 768px`, `lg: 1024px`, `xl: 1280px`, `2xl: 1536px`

```css
/* 기본: 모바일 */
.card { padding: 1rem; }

/* 태블릿 이상 */
@media (min-width: 768px) {
  .card { padding: 1.25rem; }
}

/* 데스크탑 이상 */
@media (min-width: 1024px) {
  .card { padding: 1.5rem; }
}
```

---

## 4. 최신 뷰포트 단위와 안전영역

- 모바일 브라우저 UI(주소창 등) 변화에 안전하게 대응: `svh`/`lvh`/`dvh`

```css
.hero {
  min-height: 100svh; /* UI가 나타나도 안정적인 "small viewport height" */
  display: grid;
  place-items: center;
}
```

- 노치/홈인디케이터가 있는 기기: 안전영역 고려

```css
.page {
  padding-inline: max(1rem, env(safe-area-inset-left));
  padding-inline: max(1rem, env(safe-area-inset-right));
}
```

---

## 5. 반응형 타이포그래피 — `clamp()`로 유동 + 상/하한

텍스트는 **너무 작지도, 너무 크지도 않게** 자동 보간합니다.

```css
:root {
  /* 기본 바디 글꼴 크기: 14px ~ 18px 사이에서 뷰포트에 맞춰 유동 */
  --step-0: clamp(0.875rem, 0.5vw + 0.75rem, 1.125rem);
  --step-1: clamp(1.125rem, 1vw + 0.875rem, 1.5rem);
  --step-2: clamp(1.375rem, 1.5vw + 1rem, 1.875rem);
}

body { font-size: var(--step-0); line-height: 1.6; }
h2   { font-size: var(--step-2); line-height: 1.25; }
```

> `clamp(min, preferred, max)`가 선호 값(preferred)을 **상/하한 사이**로 잘라줍니다.

수학적으로 선형 보간을 생각하면,
$$
f(w) = \text{clamp}(f_{\min}, a \cdot w + b, f_{\max})
$$
여기서 \(w\)는 뷰포트 폭, \(a, b\)는 원하는 기울기/절편입니다.

---

## 6. 반응형 이미지 — 해상도/레이아웃 최적화

### 6-1. `srcset` + `sizes` (해상도/빈도수에 따른 선택)

```html
<img
  src="img/card-800.jpg"
  srcset="
    img/card-400.jpg 400w,
    img/card-800.jpg 800w,
    img/card-1200.jpg 1200w
  "
  sizes="(max-width: 600px) 100vw, 33vw"
  alt="풍경 사진">
```

- 브라우저가 **현재 레이아웃에서 필요한 픽셀 폭**을 계산, 가장 근접한 리소스를 자동 선택
- `sizes`는 “이 이미지가 뷰포트에서 차지할 예상 폭”을 알려줍니다.

### 6-2. `<picture>` 아트 디렉션(레이아웃별 다른 크롭/비율)

```html
<picture>
  <source media="(min-width: 1024px)" srcset="img/hero-wide.jpg">
  <source media="(min-width: 600px)"  srcset="img/hero-medium.jpg">
  <img src="img/hero-mobile.jpg" alt="히어로 이미지" class="thumb">
</picture>
```

### 6-3. CSS `image-set()`(고해상도 디스플레이 대응)

```css
.logo {
  background-image: image-set(
    url(logo-1x.png) 1x,
    url(logo-2x.png) 2x
  );
  width: 180px; height: 48px;
}
```

---

## 7. 상호작용 특성별 대응: `hover`/`pointer`/`any-*`

터치 우선 환경에서는 `:hover`가 의미 없을 수 있습니다. 입력 특성을 구분하세요.

```css
/* 마우스 호버가 가능한 환경에서만 섬세한 효과 적용 */
@media (hover: hover) and (pointer: fine) {
  .card:hover { transform: translateY(-2px); box-shadow: 0 12px 24px rgba(0,0,0,.12); }
}

/* 터치(굵은 포인터) 환경: 탭 피드백만 간단히 */
@media (hover: none) and (pointer: coarse) {
  .card:active { transform: scale(.98); }
}
```

---

## 8. 색/명암/모션 선호

```css
/* 다크 모드 */
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0b1020; --fg: #e6e9ef; --muted: #92a0b3;
  }
  body { background: var(--bg); color: var(--fg); }
}

/* 모션 최소화 */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

/* 높은 대비 선호 */
@media (prefers-contrast: more) {
  :root { --focus: #00e; }
  a:focus-visible { outline: 3px solid var(--focus); outline-offset: 3px; }
}
```

---

## 9. 레이아웃 패턴 모음

### 9-1. 헤더/사이드바/메인/푸터 — Grid

```css
.page {
  min-height: 100svh;
  display: grid;
  grid-template:
    "header header" auto
    "sidebar main" 1fr
    "footer footer" auto
    / 260px 1fr;
}
header  { grid-area: header; }
aside   { grid-area: sidebar; }
main    { grid-area: main;    }
footer  { grid-area: footer;  }

@media (max-width: 900px) {
  .page {
    grid-template:
      "header" auto
      "main"   1fr
      "sidebar" auto
      "footer" auto / 1fr;
  }
}
```

### 9-2. 카드 그리드 — `auto-fit` + `minmax()`

```css
.cards {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(min(280px, 100%), 1fr));
}
```

### 9-3. 데이터 테이블 — 작은 화면에서 카드화

```css
.table {
  width: 100%;
  border-collapse: collapse;
}
.table th, .table td { padding: .6rem .8rem; border-bottom: 1px solid #e5e7eb; }

/* 모바일: 행을 블록으로 전환 */
@media (max-width: 640px) {
  .table thead { display: none; }
  .table tr { display: grid; grid-template-columns: 1fr 1fr; gap: .25rem .5rem; padding: .75rem; border: 1px solid #e5e7eb; border-radius: .75rem; margin-block: .5rem; }
  .table td { border: none; padding: 0; }
  .table td::before {
    content: attr(data-label);
    display: block;
    font-weight: 600;
    color: #475569;
  }
}
```

```html
<table class="table">
  <thead><tr><th>이름</th><th>역할</th><th>상태</th></tr></thead>
  <tbody>
    <tr>
      <td data-label="이름">Alex</td>
      <td data-label="역할">Designer</td>
      <td data-label="상태">Active</td>
    </tr>
  </tbody>
</table>
```

---

## 10. 컨테이너 쿼리(Container Queries) — 컴포넌트 스스로 반응

페이지 너비가 아니라 **컴포넌트 상자 너비**에 반응합니다. **재사용성/캡슐화**에 탁월.

```css
.card {
  container-type: inline-size;  /* 수평 크기 기준 컨테이너 생성 */
  container-name: card;
  display: grid; gap: .75rem;
}

/* 카드 자체의 폭이 420px 이상일 때만 썸네일을 좌측으로 배치 */
@container card (min-width: 420px) {
  .card {
    grid-template-columns: 160px 1fr;
    align-items: start;
  }
  .card .thumb { aspect-ratio: 4/3; }
}
```

```html
<article class="card">
  <img class="thumb" src="..." alt="">
  <div>
    <h3>제목</h3>
    <p>설명 텍스트…</p>
  </div>
</article>
```

---

## 11. 유틸리티 함수: `min()`/`max()`/`clamp()`/`calc()`

```css
.container { width: min(100% - 2rem, 1200px); }
.sidebar   { width: clamp(16rem, 25vw, 22rem); }
.title     { font-size: calc(1rem + 1vw); } /* 간단한 유동 글꼴 */
```

---

## 12. 반응형 네비게이션 — 토글 가능한 드로어

```html
<header class="site-header">
  <button class="nav-toggle" aria-expanded="false" aria-controls="site-nav">메뉴</button>
  <nav id="site-nav" class="nav">…</nav>
</header>
```

```css
.nav { display: none; }
.nav[aria-expanded="true"], .nav.open { display: block; }

@media (min-width: 900px) {
  .nav { display: flex; gap: 1rem; }
  .nav-toggle { display: none; }
}
```

```js
const btn = document.querySelector('.nav-toggle');
const nav = document.getElementById('site-nav');
btn.addEventListener('click', () => {
  const next = btn.getAttribute('aria-expanded') !== 'true';
  btn.setAttribute('aria-expanded', next);
  nav.toggleAttribute('aria-expanded', next);
});
```

접근성 팁:
- 버튼은 **실제 `<button>`** 요소 사용(키보드/스크린리더 호환성)
- `aria-expanded` 로 상태 전달, `aria-controls`로 연관 선언

---

## 13. 성능 최적화 — LCP/CLS에 강한 RWD

- **LCP(최대 콘텐츠 페인트)**: 히어로 이미지에 `priority`(프레임워크), `preload`(HTML) 고려
- **CLS(누적 레이아웃 이동)**: 이미지/광고/임베드에 `aspect-ratio`나 **폭/높이 예약**
- CSS/JS **코드 스플리팅**: 페이지별 필요한 것만 로드
- `content-visibility: auto;` 로 아래쪽 카드 초기 렌더 생략

```css
.card-list > article { content-visibility: auto; contain-intrinsic-size: 400px; }
```

---

## 14. 접근성(A11y) — 반응형에서도 정보 구조 유지

- 시맨틱 레이아웃: `<header>`, `<nav>`, `<main>`, `<aside>`, `<footer>`
- **탭 순서 보장**: CSS로 시각 배치를 바꿔도 DOM 순서는 논리적 흐름 유지
- **텍스트 크기 확대**에도 깨지지 않는 레이아웃(상대 단위 `rem`/`em`)
- 포커스 표시: `:focus-visible` 명확히 제공

```css
:focus-visible { outline: 2px solid #0ea5e9; outline-offset: 3px; }
```

---

## 15. 반응형 카드 레이아웃 — Flex → Column 전환(기본 예제 확장)

```html
<div class="grid">
  <div class="card">Card 1</div>
  <div class="card">Card 2</div>
  <div class="card">Card 3</div>
</div>
```

```css
.grid {
  display: flex;
  gap: 1rem;
}
.card {
  flex: 1 1 0;
  background: #e5e7eb;
  padding: 1rem;
  border-radius: .75rem;
}

/* 모바일: 세로 스택 */
@media (max-width: 600px) {
  .grid { flex-direction: column; }
}
```

---

## 16. 실전 스타터 템플릿

```html
<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>RWD Starter</title>
<style>
  :root {
    --container: min(100% - 2rem, 1200px);
    --bg: #0b1220; --fg:#e6e9ef; --muted:#9aa4b2;
    --surface:#0f172a; --card:#111827; --brand:#22d3ee;
    --radius: 14px;
    --step-0: clamp(0.95rem, 0.6vw + 0.8rem, 1.125rem);
    --step-2: clamp(1.35rem, 1.3vw + 1rem, 1.9rem);
  }
  @media (prefers-color-scheme: light) {
    :root { --bg:#f8fafc; --fg:#0b1020; --muted:#4b5563; --surface:#ffffff; --card:#ffffff; }
  }

  * { box-sizing: border-box; }
  body { margin:0; background:var(--bg); color:var(--fg); font: 400 var(--step-0)/1.65 system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }

  header, footer { background: var(--surface); }
  .wrap { width: var(--container); margin-inline:auto; padding: 1rem; }

  header .brand { display:flex; gap: .75rem; align-items:center; padding-block: .75rem; }
  header .brand .mark { inline-size:1rem; block-size:1rem; border-radius:50%; background: var(--brand); box-shadow: 0 0 16px color-mix(in oklab, var(--brand), transparent 50%); }

  .hero {
    min-block-size: 50svh; display:grid; place-items:center; text-align:center; padding: 3rem 1rem;
  }
  .hero h1 { font-size: var(--step-2); margin: 0 0 .5rem; }
  .hero p { color: var(--muted); margin: 0; }

  .cards {
    display: grid; gap: 1rem;
    grid-template-columns: repeat(auto-fit, minmax(min(280px, 100%), 1fr));
    padding-block: 2rem;
  }
  .card {
    background: var(--card); border: 1px solid color-mix(in oklab, var(--fg), transparent 90%);
    border-radius: var(--radius); padding: 1rem;
    transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  }
  @media (hover:hover) and (pointer:fine) {
    .card:hover { transform: translateY(-2px); box-shadow: 0 18px 36px rgba(0,0,0,.18); }
  }

  footer { margin-top: 2rem; }
  footer .wrap { display:flex; justify-content:space-between; gap:1rem; flex-wrap:wrap; color: var(--muted); }

  @media (prefers-reduced-motion: reduce) {
    * { transition: none !important; animation: none !important; }
  }
</style>
</head>
<body>
  <header>
    <div class="wrap brand">
      <span class="mark" aria-hidden="true"></span>
      <strong>Responsive Starter</strong>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="wrap">
        <h1>한 코드베이스로 모든 화면에 최적화</h1>
        <p>Fluid Grid · Flexible Media · Media Queries · Container Queries</p>
      </div>
    </section>

    <section class="wrap">
      <div class="cards">
        <article class="card">카드 1 — 반응형 그리드</article>
        <article class="card">카드 2 — 컨테이너 쿼리</article>
        <article class="card">카드 3 — 유동 타이포</article>
        <article class="card">카드 4 — 이미지 srcset</article>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">
      <span>© 2025 RWD Guide</span>
      <a href="#" style="color:inherit;">문의</a>
    </div>
  </footer>
</body>
</html>
```

---

## 17. 테스트/디버깅 체크리스트

- 브라우저 DevTools → **디바이스 모드**: 다양한 뷰포트/픽셀비율로 확인
- **네트워크 제한**(Slow 3G)으로 이미지/폰트 지연 시 레이아웃 안정성 확인
- 접근성 검사: 탭 이동, `:focus-visible` 표시, 명암(색 대비) 점검
- 퍼포먼스 탭: LCP/CLS/JS 비용, layout thrash(레이아웃 빈번 재계산) 감시
- `prefers-*` 환경 토글: 다크 모드/모션 축소/대비 강화

---

## 18. 요약 정리

| 키워드 | 핵심 |
|---|---|
| 반응형 웹(RWD) | 다양한 기기/환경에 **단일 코드베이스**로 최적화 |
| 3요소 | 유동 그리드, 유연한 미디어, 미디어 쿼리 |
| 최신 CSS | 컨테이너 쿼리, `clamp()`/`minmax()`, `svh/lvh/dvh`, `aspect-ratio` |
| 입력/환경 | `hover`/`pointer`, `prefers-color-scheme`, `prefers-reduced-motion`, `prefers-contrast` |
| 이미지 | `srcset`/`sizes`/`<picture>`/`image-set()` |
| 품질 | 접근성 보장, LCP/CLS 최적화, 코드 스플리팅/지연 렌더링 |

---

## 19. 추가 실전 예제: 반응형 카드 그리드(유동 타이포/이미지/컨테이너 쿼리 포함)

```html
<section class="catalog">
  <article class="card">
    <img class="thumb" src="img/p-640.jpg"
      srcset="img/p-320.jpg 320w, img/p-640.jpg 640w, img/p-960.jpg 960w"
      sizes="(max-width: 600px) 100vw, 33vw" alt="상품 A">
    <h3 class="title">상품 A</h3>
    <p class="desc">설명 텍스트…</p>
    <button class="buy">구매</button>
  </article>
  <!-- 반복… -->
</section>
```

```css
.catalog {
  --max: min(100% - 2rem, 1200px);
  width: var(--max); margin-inline: auto;
  display: grid; gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr));
}

.card {
  container-type: inline-size;
  display: grid; gap: .5rem; padding: 1rem;
  border: 1px solid #e5e7eb; border-radius: .9rem; background: #fff;
  transition: transform .25s ease, box-shadow .25s ease;
}
.card .title { font-size: clamp(1.05rem, 1vw + .9rem, 1.4rem); }
.card .desc  { font-size: clamp(.95rem, .4vw + .85rem, 1.05rem); color:#475569; }
.card .thumb { aspect-ratio: 4/3; object-fit: cover; border-radius: .6rem; }

@container (min-width: 480px) {
  .card { grid-template-columns: 1fr 1.2fr; align-items: start; }
  .card .thumb { aspect-ratio: 1/1; }
}
@media (hover:hover) and (pointer:fine) {
  .card:hover { transform: translateY(-2px); box-shadow: 0 12px 24px rgba(0,0,0,.08); }
}
```

---

## 20. 실전 팁

1. **모바일 퍼스트**: 기본은 가장 제약이 큰 화면에 맞추고, 넓어질수록 기능/레이아웃 추가
2. **상대 단위 우선**: `rem`, `em`, `%`, `fr` → 확대/축소에 견고
3. **이미지 전략**: `srcset`/`sizes`로 **과다다운로드 방지** + `aspect-ratio`로 CLS 0에 근접
4. **레이아웃 독립성**: 컨테이너 쿼리로 **컴포넌트 재사용성** 극대화
5. **환경 존중**: 다크/대비/모션 선호 수용 → 사용자 경험 향상

---

# 결론

반응형 웹은 **기술(그리드/플렉스/미디어쿼리)** 의 총합이 아니라,
**콘텐츠 중심의 전환점 정의**와 **컴포넌트 단위 적응성**을 통해 완성됩니다.
위 패턴과 템플릿을 바탕으로 **일관된 디자인 토큰**을 정하고,
테스트/접근성/성능까지 함께 챙기면 견고한 RWD 기반을 만들 수 있습니다.
