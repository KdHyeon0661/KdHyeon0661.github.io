---
layout: post
title: WPF - Todo 앱 구현
date: 2025-09-12 17:25:23 +0900
category: WPF
---
# WPF Todo 앱 구현 완전 가이드: MVVM 기반 실무 품질 애플리케이션

WPF(.NET 7/8)에서 MVVM 패턴을 활용하여 실무 수준의 Todo 애플리케이션을 처음부터 끝까지 구현하는 방법을 상세히 설명합니다. 이 가이드는 깨끗한 아키텍처 분리, 테스트 가능성, 반응형 UI 설계, 안전한 데이터 영속화에 초점을 맞춥니다.

## 솔루션 구조

프로젝트는 네 개의 계층으로 구성되어 유지보수성과 테스트 용이성을 보장합니다:

```
TodoApp/
  TodoApp.App/           # WPF UI 계층 (뷰, 뷰모델, 변환기, 스타일)
  TodoApp.Domain/        # 도메인 계층 (모델, 인터페이스, 검증 로직)
  TodoApp.Storage/       # 데이터 접근 계층 (JSON 파일 저장소)
  TodoApp.Tests/         # 단위 테스트 프로젝트
```

## 핵심 구현 요소

### 도메인 모델 설계
TodoItem 클래스는 애플리케이션의 핵심 데이터 모델로, GUID 식별자, 제목, 완료 상태, 기한, 우선순위, 메모, 생성 및 수정 시간戳을 포함합니다. ITodoStore 인터페이스를 통해 저장소 구현을 추상화하여 나중에 JSON 파일에서 EF Core/SQLite로 쉽게 전환할 수 있습니다.

### 뷰모델 계층
CommunityToolkit.Mvvm을 활용하여 관찰 가능한 속성과 RelayCommand 패턴을 구현합니다. TodoItemViewModel은 단일 항목을 표현하며, MainViewModel은 전체 목록 관리, 필터링, 정렬, 검색, 실행 취소/다시 실행 기능을 담당합니다. CollectionView를 활용한 실시간 필터링과 정렬이 구현되어 있습니다.

### 데이터 영속화
JSON 파일 기반 저장소는 로컬 애플리케이션 데이터 폴더에 데이터를 안전하게 저장합니다. 원자적 파일 교체 방식을 채택하여 데이터 손상을 방지하며, System.Text.Json의 효율적인 직렬화 기능을 활용합니다.

### 사용자 인터페이스
가상화된 ListView를 통해 대량의 데이터도 부드럽게 표시할 수 있습니다. 인라인 편집, 실시간 검증, 키보드 단축키 지원으로 사용자 경험을 향상시켰습니다. 필터링(전체/활성/완료)과 정렬(생성일/기한/우선순위/제목) 기능이 통합되어 있습니다.

### 의존성 주입
Generic Host를 활용하여 서비스 구성을 중앙화하고, 테스트 시 모의 객체 주입이 용이한 구조를 갖추고 있습니다. 애플리케이션 수명 주기 동안 서비스의 적절한 초기화와 정리를 보장합니다.

## 확장성 고려사항

이 아키텍처는 다음과 같은 확장에 대비하고 있습니다:

1. **데이터 저장소 교체**: ITodoStore 인터페이스를 구현하는 새로운 저장소 클래스를 추가하면, 나머지 코드 변경 없이 JSON에서 SQLite, Entity Framework Core, REST API 등으로 전환 가능합니다.

2. **기능 확장**: 리마인더 알림, 드래그 앤 드롭 보드 뷰, 태그 시스템, 공유 기능 등을 추가할 수 있는 기반 구조를 제공합니다.

3. **국제화 지원**: 리소스 파일과 동적 문자열 로딩을 통해 다국어 지원이 가능한 구조입니다.

4. **테마 시스템**: 리소스 사전과 동적 리소스 바인딩을 통해 라이트/다크 모드 전환이 용이합니다.

## 성능 최적화

- 가상화된 항목 컨트롤로 메모리 사용량 최소화
- 비동기 파일 작업으로 UI 응답성 유지
- 변경 배치 처리로 불필요한 UI 갱신 방지
- 컬렉션 뷰의 지연 새로고침으로 필터/정렬 성능 향상

## 테스트 전략

단위 테스트는 가짜 저장소(FakeStore)를 활용하여 뷰모델의 비즈니스 로직을 검증합니다. 도메인 모델의 검증 로직과 뷰모델의 명령 실행, 상태 관리 등을 포괄적으로 테스트할 수 있습니다.

## 결론

이 Todo 애플리케이션 구현은 WPF와 MVVM 패턴의 모범 사례를 보여줍니다. 계층화된 아키텍처, 인터페이스 기반 설계, 테스트 용이성, 사용자 경험 고려사항들이 조화롭게 통합되어 있습니다. 이 구조는 작은 Todo 앱을 넘어 중대형 WPF 애플리케이션 개발에도 적용할 수 있는 견고한 기반을 제공합니다.

실무 개발 환경에서 마주할 수 있는 다양한 요구사항—데이터 영속화, 사용자 인터랙션, 상태 관리, 에러 처리, 성능 최적화—에 대한 실용적인 해결책을 제시하며, 유지보수와 확장이 용이한 코드베이스를 구축하는 방법을 보여줍니다.