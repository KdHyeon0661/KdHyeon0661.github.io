---
layout: post
title: 미적분 - 지수함수와 로그함수
date: 2025-07-11 17:20:23 +0900
category: 미적분
---
# 지수함수와 로그함수
## 1. 지수함수 \(a^x\)

### 1.1 정의와 기본 성질
밑 \(a>0,\ a\neq 1\)에 대해
$$
f(x)=a^x.
$$
- 정의역: \((-\infty,\infty)\), 치역: \((0,\infty)\).
- \(a>1\)이면 증가, \(0<a<1\)이면 감소.
- 지수법칙:
  $$
  a^{x+y}=a^x a^y,\quad a^{xy}=(a^x)^y,\quad a^{-x}=\frac{1}{a^x}.
  $$
- 자연지수형: \(a^x=e^{x\ln a}\). 지수함수는 궁극적으로 \(e^x\)와 \(\ln a\)로 환원됩니다.

### 1.2 그래프와 변환
- \(f(0)=1\), \(x\to-\infty\)에서 \(y=0\)에 접근(수평 점근선).
- 수평/수직 이동과 스케일:
  $$
  y=c\,a^{b(x-d)} \ \Rightarrow\ 
  \ln y=\ln c + b(x-d)\ln a\quad(\text{로그-직선화})
  $$

### 1.3 미분·적분
$$
\frac{d}{dx}a^x=a^x\ln a,\qquad
\int a^x\,dx=\frac{a^x}{\ln a}+C\quad(a>0,a\neq 1).
$$
합성함수:
$$
\frac{d}{dx}\,a^{g(x)}=a^{g(x)}\ln a\cdot g'(x),\quad
\int a^{g(x)}g'(x)\,dx=\frac{a^{g(x)}}{\ln a}+C.
$$

### 1.4 볼록성(Convexity)와 불등식
- \(e^x\)는 전구간 **볼록**(\(f''(x)=e^x>0\)). 따라서
  $$
  e^x\ge 1+x\quad(\text{접선 불등식}).
  $$
- 일반화: \(a^x=e^{x\ln a}\)도 볼록.  
- 가중 AM–GM:
  $$
  \theta \ln x+(1-\theta)\ln y\le \ln(\theta x+(1-\theta)y)\ (\text{역방향 아님!}),
  $$
  반대로 \(e^x\) 볼록성으로
  $$
  \theta e^{u}+(1-\theta)e^{v}\ge e^{\theta u+(1-\theta)v}.
  $$

---

## 2. 로그함수 \(\log_a x\)

### 2.1 정의와 기본 성질
역함수 관계:
$$
y=\log_a x\ \Longleftrightarrow\ a^y=x\quad(a>0,\ a\neq 1).
$$
- 정의역: \((0,\infty)\), 치역: \((-\infty,\infty)\).
- \(a>1\)이면 증가, \(0<a<1\)이면 감소.
- 법칙:
  $$
  \log_a(xy)=\log_a x+\log_a y,\ 
  \log_a\!\left(\frac{x}{y}\right)=\log_a x-\log_a y,\ 
  \log_a(x^r)=r\log_a x.
  $$
- 밑변환:
  $$
  \log_a x=\frac{\log_b x}{\log_b a}=\frac{\ln x}{\ln a}.
  $$

### 2.2 미분·적분과 오목성
$$
\frac{d}{dx}\log_a x=\frac{1}{x\ln a},\qquad
\int \log_a x\,dx=\frac{1}{\ln a}\,(x\ln x-x)+C.
$$
자연로그 \(\ln x\)는 전구간 **오목**(\(f''(x)=-1/x^2<0\)). 접선 불등식:
$$
\ln x\le x-1\quad(x>0),\quad \text{등호는 }x=1.
$$

---

## 3. 역함수 관계의 미분과 대칭
- \(y=a^x\)와 \(x=\log_a y\)는 \(y=x\)에 대해 대칭.
- 역함수 미분 공식:
  $$
  \frac{d}{dx}\log_a x=\frac{1}{(a^{\log_a x}\ln a)}=\frac{1}{x\ln a}.
  $$

---

## 4. 대표 예제와 풀이

### 4.1 미분 예제
1) \(f(x)=5^x\Rightarrow f'(x)=5^x\ln 5\).  
2) \(g(x)=\log_2 x\Rightarrow g'(x)=\dfrac{1}{x\ln 2}\).  
3) \(h(x)=e^{2x^3}\Rightarrow h'(x)=e^{2x^3}\cdot 6x^2\).

### 4.2 적분 예제
1) \(\displaystyle \int 10^x\,dx=\frac{10^x}{\ln 10}+C\).  
2) \(\displaystyle \int \ln(3x^2+1)\,dx\)
   - 부분적분: \(u=\ln(3x^2+1),\ dv=dx\).
   - \(du=\frac{6x}{3x^2+1}dx,\ v=x\).
   - \(\displaystyle =x\ln(3x^2+1)-\int \frac{6x^2}{3x^2+1}dx\).
   - 분수분해: \(\frac{6x^2}{3x^2+1}=2-\frac{2}{3x^2+1}\).
   - 결과: \(\displaystyle x\ln(3x^2+1)-2x+\frac{2}{\sqrt{3}}\arctan(\sqrt{3}x)+C\).

### 4.3 지수방정식·로그방정식
1) \(2^x=7\Rightarrow x=\log_2 7=\dfrac{\ln 7}{\ln 2}\).  
2) \(\log_3(2x-1)=4\Rightarrow 2x-1=3^4=81\Rightarrow x=41\). (정의역 \(2x-1>0\) 확인)  
3) \(e^{x}=x\)는 해가 \(x\approx 0.567143\) (Lambert W: \(x=-W(-1)\)).  
   - 뉴턴법으로 수치해 구함(코드 예시 참고).

---

## 5. 극한·급수 전개와 근사

### 5.1 테일러 전개
- \(e^x=\displaystyle \sum_{n=0}^\infty \frac{x^n}{n!}\) (전 구간 수렴).
- \(\ln(1+x)=\displaystyle \sum_{n=1}^\infty (-1)^{n+1}\frac{x^n}{n}\) (\(-1<x\le 1\)).

즉시 얻는 표준 극한:
$$
\lim_{x\to 0}\frac{e^x-1}{x}=1,\qquad
\lim_{x\to 0}\frac{\ln(1+x)}{x}=1.
$$

### 5.2 대표 불등식
- \(e^x\ge 1+x\) (모든 \(x\)).  
- \(\ln(1+x)\le x\) (\(x>-1\)).  
- \(\ln x\le x-1\) (\(x>0\)).  
- \(1+x\le e^x\le \frac{1}{1-x}\) (\(|x|<1\), 우변은 \(\sum x^n\) 이용).

### 5.3 수치 근사 코드
```python
# e^x와 ln(1+x) 급수 근사: 허용 오차 eps까지 누적
def exp_series(x, eps=1e-12, nmax=1000):
    term = 1.0
    s = 1.0
    for n in range(1, nmax+1):
        term *= x/n
        s_old = s
        s += term
        if abs(s - s_old) < eps:
            break
    return s

def log1p_series(x, eps=1e-12, nmax=100000):
    # -1 < x <= 1 권장. x가 0에 가까울수록 빠름.
    term = x
    s = x
    for n in range(2, nmax+1):
        term *= -x*(n-1)/n  # 등가 재귀: (-1)^{n+1} x^n / n
        s_old = s
        s += term
        if abs(s - s_old) < eps:
            break
    return s

print(exp_series(0.5))      # ≈ e^{0.5}
print(log1p_series(0.1))    # ≈ ln(1.1)
```

---

## 6. 수치안정성과 실무 팁

### 6.1 Log-Sum-Exp 안정화
합 \(S=\sum_i e^{z_i}\)가 overflow 되지 않게:
$$
\log\sum_i e^{z_i} = m + \log\sum_i e^{z_i-m},\quad m=\max_i z_i.
$$

```python
import math

def logsumexp(zs):
    m = max(zs)
    s = sum(math.exp(z - m) for z in zs)
    return m + math.log(s)

# 예: 큰 값 섞인 softmax log-정규화
zs = [1200.0, 1190.0, 1210.0]
lse = logsumexp(zs)
probs = [math.exp(z - lse) for z in zs]
print(lse, probs, sum(probs))  # 확률합 ≈ 1
```

### 6.2 log1p / expm1 사용
- \(\ln(1+x)\)는 \(x\)가 매우 작을 때 `math.log1p(x)` 권장.
- \(e^x-1\)는 `math.expm1(x)` 권장 → 소수점 손실 방지.

```python
import math
x = 1e-12
print(math.log1p(x), math.log(1+x))   # 전자가 더 정확
print(math.expm1(x), math.e**x - 1)   # 전자가 더 정확
```

---

## 7. 응용 스냅샷

### 7.1 연속 복리
$$
A(t)=P e^{rt},\quad r=\text{연속이자율}.
$$
연 \(R\%\) 이산복리와의 등가: \(r=\ln(1+R)\).

### 7.2 반감기·배가시간
감소 \(y=y_0 e^{-kt}\): \(T_{1/2}=\dfrac{\ln 2}{k}\).  
성장 \(y=y_0 e^{kt}\): \(T_2=\dfrac{\ln 2}{k}\).

### 7.3 pH, 데시벨, 엔트로피
- \( \mathrm{pH}=-\log_{10}[H^+] \).
- \( \mathrm{dB}=10\log_{10}\frac{P}{P_0} \) (전력비), \(20\log_{10}(\cdot)\) (진폭비).
- 엔트로피(자연로그):
  $$
  H(p)=-\sum_i p_i\ln p_i.
  $$

### 7.4 로지스틱 변환(로짓)
확률 \(p\in(0,1)\):
$$
\operatorname{logit}(p)=\ln\frac{p}{1-p},\quad
p=\frac{1}{1+e^{-\text{logit}}}.
$$

---

## 8. 더 나아가기: Lambert W와 혼합형 방정식

### 8.1 \(x e^x=c\)
해는 Lambert \(W\)로 \(x=W(c)\).
- 예: \(e^x=x \Rightarrow x=-W(-1)\approx 0.567143\).

### 8.2 뉴턴법으로 근 구하기(일반 지수/로그 방정식)
```python
# e^x = x  근사 (f(x)=e^x - x)
import math
def newton(f, df, x0, it=20):
    x = x0
    for _ in range(it):
        x -= f(x)/df(x)
    return x

f  = lambda x: math.exp(x) - x
df = lambda x: math.exp(x) - 1
print(newton(f, df, 0.5))  # ≈ 0.567143
```

---

## 9. 자주 하는 실수와 체크리스트

- [ ] 로그 정의역 확인: \(\log_a x\)는 반드시 \(x>0\).  
- [ ] 밑 혼동: \(\log\) 기호의 밑을 명시(수학: \(\ln\)은 밑 \(e\), 공학: \(\log_{10}\) 사용 많음).  
- [ ] “연 \(R\%\)”를 연속률 \(r\)로 오해하지 않기: \(r\neq R/100\) 일반적으로, \(r=\ln(1+R)\).  
- [ ] 미분/적분 시 체인룰 누락에 주의(\(a^{g(x)}\), \(\ln g(x)\)).  
- [ ] 극한에서 수치 불안정: `log1p`, `expm1`, log-sum-exp를 활용.  
- [ ] 접선 불등식의 방향: \(e^x\)는 볼록 → \(e^x\ge 1+x\); \(\ln x\)는 오목 → \(\ln x \le x-1\).

---

## 10. 연습문제(정답 스케치 포함)

1) \(f(x)=7^{3x-1}\)의 도함수와 \(x=0\)에서의 접선 방정식.  
   - \(f'(x)=7^{3x-1}\ln 7 \cdot 3\).  
   - \(f(0)=7^{-1}=1/7\), \(f'(0)=3\ln 7/7\).  
   - 접선: \(y=\frac{1}{7}+\frac{3\ln 7}{7}\,x\).

2) \(\displaystyle \int \log_{10}(2x)\,dx\).  
   - \(\log_{10}(2x)=\dfrac{\ln(2x)}{\ln 10}\).  
   - \(\int \ln(2x)\,dx = x\ln(2x)-x\).  
   - 결과: \(\displaystyle \frac{x\ln(2x)-x}{\ln 10}+C\).

3) \(\displaystyle \lim_{x\to 0}\frac{a^x-1}{x}\).  
   - \(a^x=e^{x\ln a}\Rightarrow \lim=\ln a\).

4) 방정식 \(\log_3(x-1)+\log_3(x+4)=2\)의 해.  
   - 좌변 \(\log_3\big((x-1)(x+4)\big)=2\Rightarrow (x-1)(x+4)=9\).  
   - \(x^2+3x-13=0\Rightarrow x=\frac{-3\pm\sqrt{9+52}}{2}=\frac{-3\pm\sqrt{61}}{2}\).  
   - 정의역 \(x>1\)로 \(\displaystyle x=\frac{-3+\sqrt{61}}{2}\).

5) \(\displaystyle \int x e^{2x}\,dx\).  
   - 부분적분: \(u=x,\ dv=e^{2x}dx\Rightarrow du=dx,\ v=\frac{1}{2}e^{2x}\).  
   - \(\displaystyle =\frac{x}{2}e^{2x}-\frac{1}{2}\int e^{2x}dx=\frac{x}{2}e^{2x}-\frac{1}{4}e^{2x}+C\).

6) \(\displaystyle \int \frac{1}{x\ln x}\,dx\) (정의역 \(x>1\)).  
   - 치환 \(u=\ln x,\ du=\frac{1}{x}dx\Rightarrow \int \frac{1}{u}\,du=\ln|u|+C=\ln(\ln x)+C\).

7) 등비수열의 연속 등가율: \(a_{n+1}=q a_n\)의 연속률 \(k\)와 관계.  
   - \(a(t)=a_0 e^{kt}\approx a_0 q^{t}\Rightarrow k=\ln q\) (단, 시간단위가 1일 때).

8) 수치안정 소프트맥스: \(\sigma_i=\dfrac{e^{z_i}}{\sum_j e^{z_j}}\)의 로그-버전.  
   - \(\log \sigma_i = z_i - \log\sum_j e^{z_j}\).  
   - `logsumexp`로 안정화(코드 참고).

---

## 11. 표로 정리

| 항목 | 지수함수 \(a^x\) | 로그함수 \(\log_a x\) |
|---|---|---|
| 정의 | \(a>0,\ a\ne 1\) | \(a>0,\ a\ne 1\), \(x>0\) |
| 역함수 | \(\log_a x\) | \(a^x\) |
| 단조성 | \(a>1\Rightarrow\uparrow\), \(0<a<1\Rightarrow\downarrow\) | \(a>1\Rightarrow\uparrow\), \(0<a<1\Rightarrow\downarrow\) |
| 미분 | \((a^x)'\!=\!a^x\ln a\) | \((\log_a x)'\!=\!\dfrac{1}{x\ln a}\) |
| 적분 | \(\displaystyle \int a^x dx=\dfrac{a^x}{\ln a}+C\) | \(\displaystyle \int \log_a x\,dx=\dfrac{x\ln x-x}{\ln a}+C\) |
| 극한 | \(\displaystyle \lim_{x\to 0}\frac{a^x-1}{x}=\ln a\) | \(\displaystyle \lim_{x\to 1}\frac{\ln x}{x-1}=1\) (밑 \(e\)) |
| 불등식 | \(e^x\ge 1+x\) | \(\ln x\le x-1\) |

---

## 12. 실전 코드 모음

### 12.1 지수·로그 방정식 풀이 도구
```python
import math

def solve_ax_equals_b(a, b):
    # a^x = b  (a>0, a!=1, b>0)
    if a <= 0 or a == 1 or b <= 0:
        raise ValueError("조건: a>0, a!=1, b>0")
    return math.log(b) / math.log(a)

def solve_log_a_x_equals_c(a, c):
    # log_a x = c  -> x = a^c
    if a <= 0 or a == 1:
        raise ValueError("조건: a>0, a!=1")
    return a**c

print(solve_ax_equals_b(2, 7))   # ≈ ln 7 / ln 2
print(solve_log_a_x_equals_c(3, 4))  # = 3**4 = 81
```

### 12.2 안전한 합/정규화 (로그 도메인)
```python
import math

def softmax(zs):
    m = max(zs)
    exps = [math.exp(z - m) for z in zs]
    s = sum(exps)
    return [e/s for e in exps]

def log_softmax(zs):
    m = max(zs)
    lse = m + math.log(sum(math.exp(z - m) for z in zs))
    return [z - lse for z in zs]

z = [10, 11, 9]
p = softmax(z)
ls = log_softmax(z)
print(p, [math.exp(v) for v in ls])  # 동일
```

---

## 13. 마무리 요약
- 지수 \(a^x\)와 로그 \(\log_a x\)는 **서로 역함수**로, 미·적분의 기본 객체이자 수치해석·정보이론·신호처리·금융 등에서 핵심입니다.
- 모든 지수함수는 \(e^{x\ln a}\)로 환원되고, 모든 로그는 \(\ln\)과 밑변환으로 통일됩니다.
- 접선 불등식 \(e^x\ge 1+x\), \(\ln x\le x-1\)은 해석·수치안정성 판단의 표준 도구입니다.
- 실제 계산에서는 `log1p`/`expm1`/log-sum-exp 같은 **수치안정 기법**을 습관화하세요.