---
layout: post
title: C# - ìœ ë‹› í…ŒìŠ¤íŠ¸
date: 2024-10-23 19:20:23 +0900
category: Csharp
---
# C# ìœ ë‹› í…ŒìŠ¤íŠ¸ì™€ xUnit ì •ë¦¬ (ê¸°ì´ˆë¶€í„° ì‹¤ì „ê¹Œì§€)

ìœ ë‹› í…ŒìŠ¤íŠ¸ëŠ” **ê°œë³„ ê¸°ëŠ¥(í•¨ìˆ˜, í´ë˜ìŠ¤ ë“±)ì´ ì˜ˆìƒëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ ê²€ì¦**í•˜ëŠ” ìë™í™” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤.  
C#ì—ì„œëŠ” `xUnit`, `NUnit`, `MSTest` ë“±ì˜ í”„ë ˆì„ì›Œí¬ê°€ ìˆìœ¼ë©°, ë³¸ ê¸€ì—ì„œëŠ” ê°€ì¥ ë„ë¦¬ ì“°ì´ëŠ” `xUnit`ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## ğŸ”· 1. ìœ ë‹› í…ŒìŠ¤íŠ¸ë€?

- ê°œë°œìê°€ ì‘ì„±í•œ **ì½”ë“œì˜ ì¼ë¶€ë¶„(ë‹¨ìœ„)**ì´ **ì˜ˆìƒí•œ ëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸**í•˜ëŠ” í…ŒìŠ¤íŠ¸
- **ë°˜ë³µ ì‹¤í–‰ ê°€ëŠ¥**, ìë™í™” ê°€ëŠ¥, íšŒê·€ í…ŒìŠ¤íŠ¸ì— ìœ ë¦¬
- TDD(Test-Driven Development) ê¸°ë°˜

---

## ğŸ”· 2. xUnit ì†Œê°œ ë° ì„¤ì¹˜

### âœ… ì„¤ì¹˜ ë°©ë²•

1. Visual Studio ë˜ëŠ” VS Codeì—ì„œ í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ ìƒì„±  
   (ì½˜ì†” í”„ë¡œì íŠ¸ì—ì„œ ë”°ë¡œ êµ¬ì„±ë„ ê°€ëŠ¥)

2. NuGet íŒ¨í‚¤ì§€ ì„¤ì¹˜:
```
dotnet add package xunit
dotnet add package xunit.runner.visualstudio
dotnet add package Microsoft.NET.Test.Sdk
```

3. í…ŒìŠ¤íŠ¸ íŒŒì¼ì€ ë³´í†µ `MyClassTests.cs` í˜•íƒœë¡œ ì‘ì„±

---

## ğŸ”· 3. í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì™€ ë©”ì„œë“œ êµ¬ì¡°

```csharp
using Xunit;

public class CalculatorTests
{
    [Fact] // í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì„ì„ ëª…ì‹œ
    public void Add_ReturnsCorrectSum()
    {
        // Arrange
        var calc = new Calculator();

        // Act
        int result = calc.Add(2, 3);

        // Assert
        Assert.Equal(5, result);
    }
}
```

- `[Fact]`: ì¸ìê°€ ì—†ëŠ” í…ŒìŠ¤íŠ¸
- `[Theory]`: ë§¤ê°œë³€ìˆ˜ë¥¼ ì£¼ì…í•˜ì—¬ í…ŒìŠ¤íŠ¸

---

## ğŸ”· 4. Theory + InlineData

```csharp
[Theory]
[InlineData(2, 3, 5)]
[InlineData(10, -5, 5)]
public void Add_ReturnsExpected(int a, int b, int expected)
{
    var calc = new Calculator();
    var result = calc.Add(a, b);
    Assert.Equal(expected, result);
}
```

> âœ… ë‹¤ì–‘í•œ ì…ë ¥ì„ ë°˜ë³µ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆì–´ ìƒì‚°ì„±ì´ ë†’ìŒ

---

## ğŸ”· 5. ì£¼ìš” Assert ë©”ì„œë“œ

| ë©”ì„œë“œ | ì„¤ëª… |
|--------|------|
| `Assert.Equal(expected, actual)` | ê°’ ë¹„êµ |
| `Assert.NotEqual(...)` | ì„œë¡œ ë‹¤ë¦„ í™•ì¸ |
| `Assert.True(condition)` | ì¡°ê±´ì´ trueì¸ì§€ |
| `Assert.False(condition)` | falseì¸ì§€ |
| `Assert.Null(object)` | null ì—¬ë¶€ |
| `Assert.NotNull(object)` | null ì•„ë‹˜ í™•ì¸ |
| `Assert.Throws<T>(...)` | ì˜ˆì™¸ ë°œìƒ í™•ì¸ |

---

## ğŸ”· 6. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•

### âœ… ëª…ë ¹ì¤„ì—ì„œ ì‹¤í–‰

```
dotnet test
```

### âœ… VS ë˜ëŠ” VS Codeì—ì„œ

- í…ŒìŠ¤íŠ¸ íƒìƒ‰ê¸°(Test Explorer)ë¥¼ í†µí•´ ë²„íŠ¼ í´ë¦­ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥

---

## ğŸ”· 7. í…ŒìŠ¤íŠ¸ì—ì„œì˜ ì˜ì¡´ì„± ì œê±° â€“ Mocking ê°œë…

- ì™¸ë¶€ ì˜ì¡´ì„±ì„ ì œê±°í•˜ì—¬ **ìˆœìˆ˜í•œ ë¡œì§ë§Œ í…ŒìŠ¤íŠ¸**
- `Moq`, `NSubstitute`, `FakeItEasy` ë“±ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©

```csharp
var mockService = new Mock<IMyService>();
mockService.Setup(s => s.GetValue()).Returns(42);
```

---

## âœ… ìš”ì•½ ì •ë¦¬

| í•­ëª© | ì„¤ëª… |
|------|------|
| `Fact` | ë‹¨ì¼ ì…ë ¥ í…ŒìŠ¤íŠ¸ |
| `Theory` + `InlineData` | ë‹¤ì–‘í•œ ì…ë ¥ í…ŒìŠ¤íŠ¸ |
| `Assert.Equal()` ë“± | í…ŒìŠ¤íŠ¸ ê²°ê³¼ í™•ì¸ |
| `dotnet test` | CLI í…ŒìŠ¤íŠ¸ ì‹¤í–‰ |
| `Mocking` | ì™¸ë¶€ ì˜ì¡´ì„± ì œê±° ê¸°ë²• |