---
layout: post
title: 정보보안기사 - 클라우드 컴퓨팅 보안
date: 2025-11-13 20:25:23 +0900
category: 정보보안기사
---
# SECTION 12 클라우드 컴퓨팅 보안 — 개요·분류·SECaaS(보안서비스) with 실전 예제

> 목표: **시험 관점에서 핵심 개념·정의·표준을 정확히** 잡고, 동시에 **실무식 스니펫/다이어그램**으로 이해를 공고히 한다.
> 출처: 미국/유럽권 공식 문서(미 연방 NIST, ISO/IEC, ENISA, AWS/Azure/GCP 등)만 인용한다.

---

## 클라우드 보안의 기본 관점 — **공동 책임 모델(Shared Responsibility)**

클라우드 보안의 출발점은 **공급자(Cloud Provider)** 와 **고객(조직/사용자)** 이 보안을 **공동 분담**한다는 점이다.

- **AWS**: 클라우드 “**of**”(데이터센터·하이퍼바이저 등 **클라우드 자체**)는 공급자가, 클라우드 “**in**” (OS·애플리케이션·데이터)은 고객이 책임. 서비스(IaaS/PaaS/SaaS)에 따라 경계가 달라진다.
- **Microsoft Azure**: 워크로드가 **IaaS/PaaS/SaaS** 어디에 위치하느냐에 따라 책임 경계가 변한다는 **Shared Responsibility** 공식 지침을 제시한다.
- **Google Cloud**: 공동 책임을 기본으로, 공급자와 고객이 보안 성숙을 **함께 달성**한다는 **Shared Fate** 개념을 추가적으로 강조한다.

**시험 포인트 정리**

| 구분 | 공급자 책임(예) | 고객 책임(예) |
|---|---|---|
| 물리 인프라 | 시설/전원/보안, 하이퍼바이저 | - |
| IaaS | - | OS 패치·하드닝, 네트워크 정책, 데이터 보호, 계정/IAM |
| PaaS | 런타임/미들웨어 패치 | 앱 구성·비밀/키 관리, 데이터 분류/암호화 |
| SaaS | 앱 운영/플랫폼 보안 | 사용자·권한·공유 정책, 데이터 거버넌스 |

---

## 클라우드 분류 — **서비스 모델 / 배포 모델**

### 서비스 모델(IaaS / PaaS / SaaS)

| 모델 | 고객 책임 핵심 | 공급자 책임 핵심 | 대표 리스크(시험용 예) |
|---|---|---|---|
| IaaS | OS/미들웨어 구성·패치, VPC/보안그룹, 디스크/오브젝트 암호화 | 하이퍼바이저/물리·시설 보안 | 과도한 퍼블릭 노출, SG/NSG 오구성, 저장암호화 누락 |
| PaaS | 앱/시크릿·네트워크 제어, 데이터 보안 | 런타임/패치 자동화 | 기본 퍼블릭 엔드포인트 방치, 권한 과다 |
| SaaS | 사용자·역할·공유 정책, 데이터 거버넌스 | SaaS 플랫폼 보안·패치 | 외부 공유 유출, 약한 MFA/SSO 정책 |

### 배포 모델(퍼블릭/프라이빗/하이브리드/멀티)

- **퍼블릭**: 민첩·확장성↑, 구성 오류/오픈노출 리스크 관리 필수
- **프라이빗**: 데이터 통제↑, 운영·패치 책임↑
- **하이브리드/멀티**: 회복탄력성/규제 대응↑, **일관 정책/가시성/키 수명주기** 관리가 관건

(클라우드 보안 통제 설계 시 **Cloud Security Alliance**의 가이드/SECaaS 분류·CCM이 널리 활용됨.)

---

## 표준·프레임워크 **맵**

- **ISO/IEC 27017**: 27002를 클라우드 맥락으로 확장한 **클라우드 특화 통제**(책임 경계 명확화 포함).
- **NIST SP 800-207(Zero Trust Architecture)**: 경계 기반에서 **정체성·자산·컨텍스트 중심**으로 전환—클라우드·하이브리드 환경에 적합.
- **ENISA(유럽)**: ZTNA, 마이크로세그멘테이션, 디바이스 신뢰를 포함한 구현 지침을 제공(2025).

---

## 간단 정량 평가식 — **ALE**

시험에서 흔히 나오는 **기대손실(ALE)**:

$$
\text{ALE} = \text{SLE(단일손실)} \times \text{ARO(연간발생율)}
$$

- 예: S3 퍼블릭 오구성 ARO=0.2, 평균 유출 손실 SLE=5천만 원 ⇒ **ALE=1천만 원/년** → 공개 차단/암호화/감사 자동화로 **저감**.

---

## IAM 핵심 원칙 & 멀티클라우드 스니펫

### 원칙(시험 키워드)

- **최소권한(Least Privilege)**, **업무·권한 분리**, **MFA/FIDO2**, **JIT(필요 시 임시 승격)**
- **IdP 연동(SSO/OIDC/SAML)** 로 **휴먼·머신** 정체성을 중앙화

### 실전 예시

#### (A) AWS IAM 정책(JSON) — 특정 S3 버킷 **읽기 전용** + MFA

```json
{
  "Version": "2012-10-17",
  "Statement": [{
    "Sid": "ReadOnlyS3Bucket",
    "Effect": "Allow",
    "Action": ["s3:GetObject", "s3:ListBucket"],
    "Resource": [
      "arn:aws:s3:::corp-logs-bucket",
      "arn:aws:s3:::corp-logs-bucket/*"
    ],
    "Condition": { "Bool": { "aws:MultiFactorAuthPresent": "true" } }
  }]
}
```

#### (B) Azure 역할(Entra ID) — Blob 조회 전용

```bash
SUBSCRIPTION_ID=<sub>
RESOURCE_GROUP=rg-prod
STG=stlogsprod
USER_UPN="analyst@corp.example"

az role assignment create \
  --assignee "$USER_UPN" \
  --role "Storage Blob Data Reader" \
  --scope "/subscriptions/$SUBSCRIPTION_ID/resourceGroups/$RESOURCE_GROUP/providers/Microsoft.Storage/storageAccounts/$STG"
```
(역할 기반 접근제어는 Azure RBAC/Entra ID 모델에 따른다.)

#### (C) GCP BigQuery 데이터셋 **뷰어**

```bash
PROJECT=corp-prod
DATASET=logs
MEMBER="group:sec-analysts@corp.example"

gcloud bigquery datasets add-iam-policy-binding $DATASET \
  --project=$PROJECT --member="$MEMBER" --role="roles/bigquery.dataViewer"
```

---

## 워크로드 보안 — 하이퍼바이저·이미지·서명

- IaaS에서 **하이퍼바이저/호스트/펌웨어**는 공급자 책임, **게스트 OS 하드닝·패치**는 고객 책임.
- **골든 이미지 파이프라인**: 베이스 OS → 패치·에이전트 → CIS 벤치마크 → **서명/무결성**
- **컨테이너 서명/검증**(cosign) 예:
```bash
COSIGN_EXPERIMENTAL=1 cosign sign ghcr.io/corp/app@sha256:<digest>
COSIGN_EXPERIMENTAL=1 cosign verify ghcr.io/corp/app@sha256:<digest>
```


---

## 데이터 보호(At Rest / In Transit) — **최신 포인트**

- **S3**: 2023-01-05 이후 **신규 객체 자동 암호화(SSE-S3)** 가 기본값. 정책·가시화는 여전히 필요.
- **EBS**: **Encryption by default** 기능으로 새 볼륨을 자동 암호화(리전/계정 설정). CLI `enable-ebs-encryption-by-default`.

**전송 중 암호화 강제(버킷 정책)**:
```json
{
  "Version":"2012-10-17",
  "Statement":[{
    "Sid":"DenyInsecureTransport",
    "Effect":"Deny",
    "Principal":"*",
    "Action":"s3:*",
    "Resource":[
      "arn:aws:s3:::corp-logs-bucket",
      "arn:aws:s3:::corp-logs-bucket/*"
    ],
    "Condition":{"Bool":{"aws:SecureTransport":"false"}}
  }]
}
```

**EBS 기본 암호화 활성화(요약)**
```bash
aws ec2 enable-ebs-encryption-by-default
```
(동작·제약은 AWS EC2/EBS 문서 참조.)

---

## 로깅·탐지·Posture(CSPM/CWPP/CNAPP)

- **AWS CloudTrail**: 계정/API 활동 감사를 위한 표준.
- **Amazon GuardDuty**: CloudTrail/VPC Flow/DNS/EKS 감사 로그로 위협 탐지.
- **Microsoft Defender for Cloud**: **CSPM + CWPP** 통합(CNAPP), 하이브리드/멀티클라우드 지원.
- **Google Cloud Security Command Center(SCC)**: 자산·취약점·오구성·위협 가시화.

**Terraform 예시(AWS) — CloudTrail + GuardDuty + 로그 버킷**
```hcl
provider "aws" { region = "ap-northeast-2" }

resource "aws_s3_bucket" "logs" {
  bucket        = "corp-cloudtrail-logs-kr"
  force_destroy = true
}

resource "aws_cloudtrail" "org" {
  name                          = "org-trail"
  s3_bucket_name                = aws_s3_bucket.logs.id
  include_global_service_events = true
  is_multi_region_trail         = true
  enable_log_file_validation    = true
}

resource "aws_guardduty_detector" "this" {
  enable = true
}
```
(CloudTrail/GuardDuty 개념은 각 공식 문서 기준.)

---

## 네트워크·세그멘테이션·원격접속 — **Zero Trust** 접목

- **NIST ZTA**: 신뢰는 **연속적 평가(정체성·디바이스·행위)** 를 기반으로 부여·조정. 클라우드/원격접속에 적합.
- **ENISA(2025)**: **ZTNA, 마이크로세그멘테이션, EDR, 알려진 기기 허용** 등 기술 지침 제공.

**Azure NSG — 관리망만 SSH 허용(예시)**
```bash
az network nsg rule create \
  --resource-group rg-prod --nsg-name nsg-app \
  --name allow-ssh-office --priority 100 \
  --source-address-prefixes 203.0.113.0/24 \
  --destination-port-ranges 22 \
  --protocol Tcp --access Allow --direction Inbound
```
(NSG 개념/CLI 참조.)

**ASCII 다이어그램(세그멘테이션 + 전용 경로)**

```
[IdP/SSO]──(OIDC/SAML)──[ZT Policy Engine]
                          │
[VPC/Hub]───[WAF/DDoS]───[Private Endpoint/Proxy]───[App PaaS]───[DB/KMS]
   │                 │
   └─[Jump/Bastion]──┴───[Mgmt Subnet (NSG: Office IP만 22/tcp)]
```

---

## **SECaaS(Security as a Service)** — 카테고리 & 적용

**CSA**는 SECaaS를 **IAM, DLP, 웹/이메일 보안, 침입관리, SIEM, 암호화, BCDR/DRaaS, 네트워크 보안** 등으로 분류한다. 실무에서는 **CASB(또는 SSPM)**, **CNAPP**, **MDR/XDR** 과 결합해 SaaS/클라우드 데이터를 보호한다.

**CASB(예: Microsoft Defender for Cloud Apps)** — SaaS 앱 가시성/세션 제어/OAuth 앱 거버넌스.

---

## **랜딩존 기준 아키텍처**(시험형 요약)

```
[IdP/SSO]──(OIDC/SAML)──[Cloud IAM]
                          │
                   [Org/Account/Project Landing Zone]
                    ├─ [Networking Hub: Shared VPC/Transit]
                    ├─ [Security] CloudTrail/Defender/SCC + SIEM
                    ├─ [KMS/HSM] CMK & Key Policy
                    ├─ [Secrets] Manager/Vault
                    ├─ [Dev]  PaaS/Serverless/Containers
                    └─ [Data] Storage(DB,Object) via Private Endpoint
```

---

## **컴플라이언스 맵핑**(샘플)

| 요구 | 구현 레버 | 참고 표준/문서 |
|---|---|---|
| 책임 경계 | 서비스 모델별 **RACI** · 계약/SLA | ISO/IEC 27017, 각 공급자 Shared Responsibility  |
| 접근통제 | IAM/MFA/JIT, Role 기반 승인 | NIST ZTA  |
| 로깅/모니터링 | CloudTrail/Defender/SCC + SIEM | AWS/Azure/GCP 보안 문서  |
| 데이터 보호 | KMS, **기본 암호화**, TLS 강제 | AWS S3/EBS 공식 문서/공지  |

---

## **10분 가드레일**(멀티클라우드 속성)

### AWS

1) S3 **Public Access Block**
2) **CloudTrail(조직 트레일)**
3) EBS **기본 암호화**
4) **GuardDuty** 활성화

```bash
# S3 퍼블릭 차단(계정 단위)

aws s3control put-public-access-block \
  --account-id $ACCOUNT \
  --public-access-block-configuration BlockPublicAcls=true,IgnorePublicAcls=true,BlockPublicPolicy=true,RestrictPublicBuckets=true

# CloudTrail

aws cloudtrail create-trail --name org-trail --s3-bucket-name corp-cloudtrail-logs-kr --is-multi-region-trail
aws cloudtrail start-logging --name org-trail

# EBS 기본 암호화

aws ec2 enable-ebs-encryption-by-default

# GuardDuty

for r in ap-northeast-2 ap-northeast-1 us-east-1; do
  aws guardduty create-detector --enable --region $r
done
```
(CloudTrail/GuardDuty/EBS 문서 참조.)

### Azure — **Policy** 로 필수 태그/암호화/퍼블릭 IP 제한

```bash
SCOPE="/subscriptions/$SUBSCRIPTION_ID"
POLICY_DEF="/providers/Microsoft.Authorization/policyDefinitions/4a9e...tag"
az policy assignment create --name require-env-tag --scope "$SCOPE" \
  --policy "$POLICY_DEF" --params '{ "tagName": { "value": "env" }, "tagValue": { "value": "prod" } }'
```
(Defender for Cloud/Policy 개념 문서 참조.)

### GCP — **SCC** 활성화 + Organization Policy(외부 IP 제한 등)

```bash
ORG_ID=<org>
gcloud scc settings update --organization=$ORG_ID --enable-asset-discovery
# Org Policy는 환경별 제약 키에 맞춰 별도 YAML 적용

gcloud org-policies set-policy policy.yaml
```
(SCC 개요 문서 참조.)

---

## 운영 **체크리스트**

- **정체성**: SSO/MFA 의무화, 휴먼·머신 계정 분리, JIT 권한승격 로그 감사
- **네트워크**: 기본 차단·필요포트 허용, Private Endpoint 우선, WAF/Anti-DDoS
- **데이터**: S3/EBS/DB 암호화 상태, KMS 키 로테이션·키정책 검토, **전송 중 TLS** 강제
- **로깅/탐지**: CloudTrail/Activity/Audit Logs 중앙 수집, GuardDuty/Defender/SCC 활성화
- **CSPM**: 오구성/퍼블릭 노출 탐지, IaC 정책(OPA/Policy-as-Code)
- **이미지/스냅샷**: 골든이미지·서명(cosign), 취약점 스캔(빌드 게이트)
- **Zero Trust**: 사용자·디바이스·세션 컨텍스트 기반 접근, 마이크로세그멘테이션(ENISA)
- **테스트**: 가드레일 회귀, 침투/레드팀, 백업·복구 리허설

---

## 자주 묻는 질문(시험/실무 하이브리드)

**Q1. S3가 기본 암호화면 끝?**
A. **아님.** 저장암호화는 공개범위/버킷 정책/키 수명주기/전송 중 암호화와 **별개**. **Public Access Block**과 **TLS 강제 정책**을 함께 본다.

**Q2. ‘로그’는 어디까지?**
A. **계정/API(CloudTrail)** → **리소스 감사** → **네트워크(Flow)** → **앱/DB** 까지 다층. 탐지(GuardDuty/Defender/SCC)와 연계.

**Q3. 책임 경계는 누가 확정?**
A. 공급자 문서/계약/표준(**ISO/IEC 27017**) 기반으로 **RACI**에 명문화.

---

## 부록 — **RACI & Policy-as-Code**

### RACI(예시)

| 영역 | R(수행) | A(책임) | C(자문) | I(통보) |
|---|---|---|---|---|
| 계정/역할 설계 | SecOps | CISO | App 팀 | 내부감사 |
| 로그 설계/보관 | SecOps | CISO | IT운영 | 내부감사 |
| 데이터 분류/암호화 | Data Owner | CISO | SecOps | 내부감사 |

### OPA(Rego) — **S3 퍼블릭 금지**

```rego
package s3.public

deny[msg] {
  input.resource.type == "aws_s3_bucket"
  input.configuration.acl == "public-read"
  msg := sprintf("Public ACL 금지: %s", [input.resource.name])
}
```
(OPA 정책 언어 Rego 문서 참조.)

---

## 결론(시험용 핵심 문장)

1) **Shared Responsibility**: IaaS/PaaS/SaaS에 따라 경계가 다르다(AWS/Azure/GCP 공식).
2) **표준**: ISO/IEC 27017(클라우드 특화 통제), NIST SP 800-207(Zero Trust)로 방향성 고정.
3) **데이터 보호**: S3 **기본 암호화**와 EBS **Encryption by default** + **TLS 강제**가 기본선.
4) **가시성/탐지**: CloudTrail·GuardDuty·Defender for Cloud·GCP SCC로 **CNAPP** 구성.
5) **ZTA 운영**: NSG/보안그룹 최소허용, ZTNA·마이크로세그멘테이션(ENISA)로 **연속적 신뢰 평가**.
