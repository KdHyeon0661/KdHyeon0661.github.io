---
layout: post
title: CSS - 테두리 및 그림자
date: 2025-04-06 20:20:23 +0900
category: CSS
---
# CSS 테두리 및 그림자 (border, border-radius, box-shadow)

## 개념 리마인드: 박스 모델과 테두리/그림자

- **border**: 요소 **경계선**. 레이아웃(박스 크기, 라운드, 클립)에 직접 영향.
- **box-shadow**: 요소 **외곽/내부**에 투사되는 음영. 레이아웃에는 영향 없음(시각적 효과).
- **outline**: 레이아웃에 영향 없이 **바깥쪽** 표시(접근성 포커스 링에 적합).

> 박스 총 너비(수평)는
> $$\text{TotalWidth} = \text{width} + \text{padding-left} + \text{padding-right} + \text{border-left} + \text{border-right}$$
> (`box-sizing: border-box`이면 `width`에 padding/border가 포함)

---

## `border` — 테두리의 모든 것

### 기본 문법과 조합

```css
/* 축약 */
.card { border: 2px solid #333; }

/* 개별 */
.card {
  border-top: 1px solid red;
  border-right: 2px dashed blue;
  border-bottom: none;
  border-left: 3px dotted green;
}

/* 색상 투명도 */
.card-ghost { border: 2px solid rgba(0,0,0,.2); }
```

| 스타일 | 의미/사용감 |
|---|---|
| `none` | 없음 |
| `solid` | 실선 (가장 일반적) |
| `dashed` | 점선(긴 대시), 시각적 구분선 |
| `dotted` | 점점점, 안티앨리어싱 이슈 있을 수 있음 |
| `double` | 이중선(선 두께에 따라 간격 자동) |
| `groove` / `ridge` / `inset` / `outset` | 레거시 3D 풍, 제한적 사용 권장 |

#### 논리 속성(다국어/세로쓰기 대응)

```css
/* 물리적 방향 대신 block/inline 축 사용 */
.panel {
  border-block-start: 2px solid #111;  /* top/ bottom 대응 */
  border-inline-end: 1px dashed #999;  /* left/ right 대응 */
}
```

### `outline`과의 차이 (접근성)

```css
button:focus-visible { outline: 2px solid #1d4ed8; outline-offset: 3px; }
```
- `outline`: **박스 밖**에 그려지고 레이아웃에 영향 없음. 둥근 모서리 따라가지 않음.
- 키보드 포커스 표시에는 `outline` 권장, 디자인은 `border`/`box-shadow` 병행 가능.

### 보더 — 하이 DPI

```css
/* iOS 사파리 등 고DPI에서 0.5px 지원 */
.hairline { border-top: .5px solid rgba(0,0,0,.2); }

/* 또는 스케일 트릭 */
.hairline-virtual::before{
  content:""; display:block; height:1px; background:rgba(0,0,0,.2);
  transform: scaleY(.5); transform-origin: 50% 0;
}
```

---

## `border-radius` — 둥근/타원/클립

### 기본/사방/개별

```css
.box { border-radius: 10px; }
.box2 { border-radius: 10px 0 20px 5px; } /* ↖ ↗ ↘ ↙ (시계 방향) */

.box-corners {
  border-top-left-radius: 12px;
  border-bottom-right-radius: 24px;
}
```

### 문법

```css
/* 수평/수직 반경을 분리 지정: rx / ry */
.pill { border-radius: 9999px / 50%; }
.ellipse { border-radius: 32px 8px / 16px 24px; }
```
- 각 코너의 **수평 반경 \(r_x\)**, **수직 반경 \(r_y\)**를 따로 지정.
- 원형은 \(r_x = r_y\), 타원은 \(r_x \neq r_y\).

### 원형/아바타

```css
.avatar {
  width: 80px; height: 80px; border-radius: 50%; overflow: hidden;
}
```
- **중요**: 둥근 모서리로 콘텐츠를 가릴 때는 `overflow: hidden`이 필요.

### 라운드와 그림자의 상호작용

- `box-shadow`는 라운드 형태를 **따라** 부드럽게 렌더링됨.
- 클립(잘림) 요구 시 부모에 라운드 + `overflow:hidden`을 적용하고, 자식에 그림자를 주면 그림자가 잘릴 수 있음 → **WRAP 레이어** 설계로 해결.

---

## `box-shadow` — 깊이/레이어/링

### 문법과 파라미터

```
box-shadow: [x-offset] [y-offset] [blur] [spread] [color] [inset?];
```

| 파라미터 | 설명 |
|---|---|
| x-offset | +오른쪽 / −왼쪽 |
| y-offset | +아래 / −위 |
| blur | 흐림 반경(커질수록 부드럽고 옅어짐) |
| spread | 그림자 면적 확장(양수=팽창, 음수=수축) |
| color | 색/투명도 |
| inset | 내부 그림자 |

```css
.card {
  box-shadow: 0 4px 10px rgba(0,0,0,.1);
}
```

### 다중 그림자(콤마)로 리치 레이어

```css
/* 부드러운 베이스 + 장식적인 컨택트 쉐도 */
.card-elev {
  box-shadow:
    0 1px 2px rgba(0,0,0,.06),
    0 4px 12px rgba(0,0,0,.10);
}
```

### — blur=0, spread 이용

```css
/* 테두리보다 바깥쪽 링을 그림자로 */
.is-focused {
  box-shadow:
    0 0 0 2px #fff,                  /* 내부 버퍼(배경색) */
    0 0 0 4px rgba(37,99,235,.6);    /* 실제 포커스 링 */
}
```
- 프레임워크의 `ring-*` 유틸은 이 패턴을 활용.
- 명시적 포커스 표시가 필요하면 `:focus-visible`과 조합.

### 글로우/경고 상태

```css
.input-error {
  border-color: #ef4444;
  box-shadow: 0 0 0 3px rgba(239,68,68,.15);
}
```

### Inset 조합(눌림/내부 깊이)

```css
.input {
  box-shadow: inset 0 1px 2px rgba(0,0,0,.08),
              0 1px 2px rgba(0,0,0,.04);
}
```

### Elevation 단계(토큰화 예시)

```css
:root{
  --elev-1: 0 1px 2px rgba(0,0,0,.06), 0 1px 3px rgba(0,0,0,.08);
  --elev-2: 0 3px 6px rgba(0,0,0,.08), 0 8px 16px rgba(0,0,0,.06);
  --elev-3: 0 6px 12px rgba(0,0,0,.10), 0 12px 24px rgba(0,0,0,.10);
}
.card     { box-shadow: var(--elev-1); }
.dropdown { box-shadow: var(--elev-2); }
.modal    { box-shadow: var(--elev-3); }
```

---

## 그라디언트/이미지/이중 보더 — 실전 패턴

### 두 줄 보더(안쪽 얇은 선 + 바깥 링)

```css
/* outline + border 조합 */
.token {
  border: 1px solid rgba(0,0,0,.08);
  outline: 2px solid rgba(0,0,0,.04);
  outline-offset: -2px; /* 바싹 붙이는 경우는 음수 offset */
}
```

### **그라디언트 보더** (background-clip 트릭)

```css
.badge {
  --g: linear-gradient(90deg,#f59e0b,#ef4444,#8b5cf6);
  border: 2px solid transparent;
  background:
    padding-box #fff,   /* 내부 채움 */
    border-box var(--g);/* 테두리에 그라디언트 */
  border-radius: 999px;
}
```

### `border-image` — 이미지/그라디언트 슬라이스

```css
.ribbon {
  border: 8px solid transparent;
  border-image: linear-gradient(45deg,#06b6d4,#10b981) 1; /* 100% = 1 */
  border-radius: 12px;
}
```
- 복잡한 장식 테두리는 `border-image`가 깔끔하지만 **모서리 반복/늘임**을 이해해야 함.

### 마스크/클리핑으로 원형/도넛 링

```css
.ring {
  --c: #2563eb;
  background: var(--c);
  -webkit-mask:
    radial-gradient(farthest-side,transparent calc(100% - 4px), #000 0);
          mask:
    radial-gradient(farthest-side,transparent calc(100% - 4px), #000 0);
  width: 64px; height: 64px; border-radius: 50%;
}
```
- 내부 비우기(도넛 링)는 `mask`가 단순/성능 유리.

---

## 컴포넌트 스니펫

### 카드(Card)

```css
.card {
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 12px;
  box-shadow: var(--elev-1, 0 2px 8px rgba(0,0,0,.08));
  padding: 16px; background: #fff;
}
.card:hover { box-shadow: var(--elev-2, 0 6px 16px rgba(0,0,0,.10)); }
```

### 버튼(Button)

```css
.btn {
  --ring: 0 0 0 0 rgba(0,0,0,0);
  display:inline-flex; align-items:center; gap:.5em;
  padding:.6em 1em; border-radius: 10px;
  border:1px solid rgba(0,0,0,.08); background:#fff; color:#111;
  box-shadow: var(--ring);
  transition: box-shadow .2s ease, transform .05s ease;
}
.btn:hover  { box-shadow: 0 1px 2px rgba(0,0,0,.06), 0 4px 8px rgba(0,0,0,.08); }
.btn:active { transform: translateY(1px); }
.btn:focus-visible {
  box-shadow:
    0 0 0 2px #fff,
    0 0 0 4px rgba(37,99,235,.6);
  outline: 0;
}
```

### 입력창(Input)

```css
.input {
  width: 100%; padding:.625rem .75rem; border-radius: 10px;
  border:1px solid rgba(2,6,23,.12);
  background:#fff; transition: box-shadow .2s ease, border-color .2s ease;
}
.input:focus {
  border-color:#2563eb;
  box-shadow: 0 0 0 3px rgba(37,99,235,.15);
  outline:0;
}
.input.error {
  border-color:#ef4444;
  box-shadow: 0 0 0 3px rgba(239,68,68,.15);
}
```

### 컨테이너

```css
.modal {
  border-radius: 16px;
  box-shadow:
    0 12px 24px rgba(0,0,0,.16),
    0 24px 48px rgba(0,0,0,.18);
  background:#fff; overflow:hidden;
}
.modal-header {
  padding: 16px; border-bottom: 1px solid rgba(0,0,0,.06);
}
```

### 토글 스위치(Inset + 링)

```css
.switch {
  width: 44px; height: 26px; border-radius: 999px; position: relative;
  background: #e5e7eb; border:1px solid rgba(0,0,0,.06);
  box-shadow: inset 0 1.5px 3px rgba(0,0,0,.12);
  transition: background .2s ease;
}
.switch::after {
  content:""; position:absolute; top:2px; left:2px; width:22px; height:22px;
  background:#fff; border-radius:50%;
  box-shadow: 0 1px 2px rgba(0,0,0,.15);
  transition: transform .2s ease;
}
.switch[aria-checked="true"] {
  background: #60a5fa; border-color: rgba(0,0,0,.08);
  box-shadow:
    inset 0 1.5px 3px rgba(0,0,0,.08),
    0 0 0 3px rgba(96,165,250,.2); /* 링 */
}
.switch[aria-checked="true"]::after { transform: translateX(18px); }
```

---

## 성능/렌더링/모바일 이슈

- **과도한 블러**(큰 `blur` 반경)와 다층 그림자는 GPU/CPU 비용↑.
  - 스크롤 리스트/모바일에서는 **레이어 수 축소**, `blur` 줄이기.
- **고정 포지셔닝 + 그림자**는 합성 레이어 증가 → 과도하면 스터터 발생.
- **라운드 + `overflow: hidden` + 큰 이미지**는 클리핑 비용 → 섬네일은 **이미지 자체 라운드**(SVG/마스크) 고려.
- **다크 모드**: 그림자 색상도 배경 대비로 조정(밝은 배경은 어두운 그림자, 어두운 배경은 **밝은 내광(glow)**).

---

## 디자인 토큰/스케일 제안

```css
:root{
  /* radius scale */
  --r-0: 0px;
  --r-1: 6px;
  --r-2: 10px;
  --r-3: 14px;
  --r-full: 9999px;

  /* border scale */
  --b-0: 0;
  --b-1: 1px;
  --b-2: 2px;

  /* shadow scale (위에서 정의했던 것 재활용 가능) */
  --shadow-1: 0 1px 2px rgba(0,0,0,.06), 0 1px 3px rgba(0,0,0,.08);
  --shadow-2: 0 3px 6px rgba(0,0,0,.08), 0 8px 16px rgba(0,0,0,.06);
  --shadow-3: 0 6px 12px rgba(0,0,0,.10), 0 12px 24px rgba(0,0,0,.10);
}
.card { border-radius: var(--r-2); box-shadow: var(--shadow-1); }
.btn  { border-radius: var(--r-2); }
.pill { border-radius: var(--r-full); }
```
- 토큰화를 통해 **일관성/유지보수** 강화.

---

## 고급 기법 모음

### 만들기

```css
/* border 대신 box-shadow spread로 1px 외곽선 */
.frame {
  box-shadow: 0 0 0 1px rgba(0,0,0,.08);
  border-radius: 12px; background:#fff;
}
```
- 라운드/반투명과 좋은 상성. 상태별 레이어 추가도 수월.

### 네오모피즘(주의: 대비 낮음)

```css
.neu {
  border-radius: 20px; background: #e9eef5;
  box-shadow:
    9px 9px 18px #c6ccd3,
   -9px -9px 18px #fff;
}
```
- 실제 제품에선 **명암/콘트라스트** 부족으로 접근성 취약 → 보조 패턴으로 제한적 권장.

### 분리된 그림자 레이어(래핑)

```html
<div class="wrap">
  <div class="shadow"></div>
  <div class="content">...</div>
</div>
```

```css
.wrap { position:relative; border-radius:16px; }
.shadow{
  position:absolute; inset:0; border-radius:inherit; pointer-events:none;
  box-shadow: 0 8px 24px rgba(0,0,0,.12);
}
.content{
  position:relative; border-radius:inherit; overflow:hidden; /* 내용 클립 */
}
```
- 그림자와 콘텐츠를 분리하면 **클립/스택 컨텍스트** 문제를 완화.

---

## 통합 샘플 (카드/버튼/입력/배지/그라디언트 보더)

```html
<!doctype html>
<meta charset="utf-8">
<title>Border & Shadow Demo</title>
<style>
  :root{
    --r-1: 8px; --r-2: 12px; --r-3: 16px; --r-full: 9999px;
    --shadow-1: 0 1px 2px rgba(0,0,0,.06), 0 4px 8px rgba(0,0,0,.06);
    --shadow-2: 0 6px 12px rgba(0,0,0,.10), 0 12px 24px rgba(0,0,0,.10);
  }
  body { font-family: system-ui, -apple-system, "Noto Sans KR", sans-serif; margin:2rem; color:#111; }
  .grid { display:grid; gap:20px; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }

  .card {
    border:1px solid rgba(0,0,0,.08);
    border-radius: var(--r-2);
    box-shadow: var(--shadow-1);
    background:#fff; padding:16px; display:grid; gap:12px;
  }
  .card:hover { box-shadow: var(--shadow-2); }

  .btn {
    display:inline-flex; align-items:center; gap:.5em;
    border-radius: var(--r-1); border:1px solid rgba(0,0,0,.08);
    background:#fff; padding:.6em 1em; cursor:pointer;
    transition: box-shadow .15s ease, transform .05s ease;
  }
  .btn:hover { box-shadow: 0 1px 2px rgba(0,0,0,.06), 0 6px 12px rgba(0,0,0,.08); }
  .btn:focus-visible {
    outline:0; box-shadow: 0 0 0 2px #fff, 0 0 0 4px rgba(37,99,235,.6);
  }

  .input {
    width:100%; border-radius: var(--r-1);
    border:1px solid rgba(2,6,23,.12); padding:.625rem .75rem;
    transition: box-shadow .2s ease, border-color .2s ease;
  }
  .input:focus {
    border-color:#2563eb; outline:0;
    box-shadow: 0 0 0 3px rgba(37,99,235,.15);
  }

  .badge {
    border:2px solid transparent; border-radius: var(--r-full);
    background: padding-box #fff, border-box linear-gradient(90deg,#f59e0b,#ef4444,#8b5cf6);
    padding:.25em .6em; font-weight:600; font-size:.9rem;
  }

  .avatar { width:72px; height:72px; border-radius:50%; overflow:hidden; box-shadow: 0 2px 8px rgba(0,0,0,.12); }
  .avatar img { width:100%; height:100%; object-fit:cover; display:block; }

  .ribbon {
    border:8px solid transparent;
    border-image: linear-gradient(45deg,#06b6d4,#10b981) 1;
    border-radius: var(--r-1);
  }
</style>

<section class="grid">
  <article class="card">
    <h3 class="ribbon" style="padding:8px;border-radius:8px;">그라디언트 보더</h3>
    <p>border-image를 사용하면 복잡한 장식 라인을 쉽게 만들 수 있습니다.</p>
    <span class="badge">NEW</span>
    <button class="btn">자세히 보기</button>
  </article>

  <article class="card">
    <div class="avatar"><img src="https://picsum.photos/200/200" alt="아바타"></div>
    <p>둥근 모서리(50%) + overflow:hidden 조합으로 이미지 클리핑.</p>
    <input class="input" placeholder="포커스 시 링/테두리 변화" />
  </article>
</section>
```

---

## 문제해결 FAQ

- **그림자가 잘린다** → 해당 요소/부모에 `overflow: visible` 또는 **래핑 레이어**로 그림자 분리.
- **둥근 모서리 경계가 거칠다** → 반경을 픽셀 그리드에 맞추거나 대비/알파 값 조절.
- **모바일 스크롤에서 프레임 드랍** → 그림자 레이어/블러 수 줄이고, 중요한 요소에만 적용.
- **포커스 링이 디자인을 깨뜨린다** → `:focus-visible`로 **키보드만** 링 표시, 마우스 클릭은 제외.

---

## 요약 표

| 항목 | 핵심 |
|---|---|
| `border` | 레이아웃 영향(두께/모서리), 스타일/색/논리 속성, 헤어라인 팁 |
| `border-radius` | 둥근/타원(슬래시 문법), 클리핑/overflow, 라운드+섀도 궁합 |
| `box-shadow` | 레이아웃 무영향, 레이어 조합(링/글로우/inset), elevation 토큰 |
| 고급 | gradient border(clip), border-image, mask로 링/도넛, wrapping |
| 접근성 | 포커스는 `:focus-visible` + 링, 대비/저동작 고려 |
| 성능 | 레이어/블러 최소화, 그림자 분리, 고DPI/모바일 최적화 |

---

## 체크리스트

- [ ] 라운드/그림자 **토큰화**로 일관성 유지
- [ ] 포커스 링은 **가시적이고** `:focus-visible`에 한정
- [ ] 큰 리스트에는 **그림자 축소**(elevation 단계 제한)
- [ ] 둥근 클립 시 **overflow 처리**/래핑 레이어 고려
- [ ] 다크 모드에서 그림자 **대비 재설정**
