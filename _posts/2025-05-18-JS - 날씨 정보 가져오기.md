---
layout: post
title: JavaScript - ë‚ ì”¨ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
date: 2025-05-18 22:20:23 +0900
category: JavaScript
---
# ğŸŒ¤ï¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë‚ ì”¨ ì •ë³´ ê°€ì ¸ì˜¤ê¸° (API í™œìš©)

ì™¸ë¶€ APIë¥¼ í™œìš©í•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì€ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì˜ ì¤‘ìš”í•œ ê¸°ìˆ  ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.  
ì´ë²ˆ ê¸€ì—ì„œëŠ” **ê³µê³µ ë˜ëŠ” ìƒìš© ë‚ ì”¨ API**ë¥¼ í™œìš©í•˜ì—¬, ì‚¬ìš©ìì˜ ìœ„ì¹˜ ë˜ëŠ” ë„ì‹œëª…ì„ ê¸°ì¤€ìœ¼ë¡œ **í˜„ì¬ ë‚ ì”¨ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì›¹ ì•±**ì„ ë§Œë“¤ì–´ë´…ë‹ˆë‹¤.

---

## âœ… ì‚¬ìš©í•  ê¸°ìˆ  ìŠ¤íƒ

- HTML / CSS
- JavaScript (ES6+)
- fetch API (ë¹„ë™ê¸° ì²˜ë¦¬)
- [OpenWeatherMap](https://openweathermap.org/) API

---

## ğŸ”‘ OpenWeatherMap API í‚¤ ë°œê¸‰

1. [https://openweathermap.org/](https://openweathermap.org/) íšŒì›ê°€ì…
2. API Keys ë©”ë‰´ì—ì„œ API í‚¤ ë°œê¸‰
3. `https://api.openweathermap.org/data/2.5/weather?q=Seoul&appid=YOUR_API_KEY&units=metric` í˜•íƒœë¡œ ì‚¬ìš©

> `units=metric`ì€ ì„­ì”¨(Â°C) ì‚¬ìš©, ê¸°ë³¸ì€ Kelvinì…ë‹ˆë‹¤.

---

## ğŸ§± 1. HTML êµ¬ì¡°

```html
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë‚ ì”¨ ì •ë³´</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>ğŸŒ¤ï¸ ë‚ ì”¨ ì •ë³´ ì¡°íšŒ</h1>
  <input type="text" id="cityInput" placeholder="ë„ì‹œëª…ì„ ì…ë ¥í•˜ì„¸ìš”" />
  <button id="searchBtn">ê²€ìƒ‰</button>

  <div id="weatherResult" class="card"></div>

  <script src="app.js"></script>
</body>
</html>
```

---

## ğŸ¨ 2. ê°„ë‹¨í•œ ìŠ¤íƒ€ì¼

```css
/* style.css */
body {
  font-family: sans-serif;
  text-align: center;
  margin-top: 50px;
}

input, button {
  padding: 0.5rem;
  font-size: 1rem;
  margin: 5px;
}

.card {
  margin-top: 20px;
  border: 1px solid #ccc;
  padding: 1rem;
  display: inline-block;
  min-width: 250px;
}
```

---

## ğŸ§  3. JavaScript (ë‚ ì”¨ ê°€ì ¸ì˜¤ê¸° ë¡œì§)

```js
const API_KEY = "YOUR_API_KEY"; // OpenWeatherMap API í‚¤ë¡œ êµì²´
const searchBtn = document.getElementById("searchBtn");
const cityInput = document.getElementById("cityInput");
const resultDiv = document.getElementById("weatherResult");

searchBtn.addEventListener("click", () => {
  const city = cityInput.value.trim();
  if (!city) {
    alert("ë„ì‹œëª…ì„ ì…ë ¥í•˜ì„¸ìš”!");
    return;
  }
  fetchWeather(city);
});

async function fetchWeather(city) {
  const url = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(
    city
  )}&appid=${API_KEY}&units=metric&lang=kr`;

  try {
    const res = await fetch(url);
    if (!res.ok) throw new Error("ë„ì‹œ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");

    const data = await res.json();
    displayWeather(data);
  } catch (err) {
    resultDiv.innerHTML = `<p style="color:red;">âŒ ì˜¤ë¥˜: ${err.message}</p>`;
  }
}

function displayWeather(data) {
  const name = data.name;
  const temp = data.main.temp;
  const weather = data.weather[0].description;
  const icon = data.weather[0].icon;

  resultDiv.innerHTML = `
    <h2>${name}</h2>
    <img src="https://openweathermap.org/img/wn/${icon}@2x.png" alt="${weather}" />
    <p>ğŸŒ¡ï¸ í˜„ì¬ ì˜¨ë„: ${temp}â„ƒ</p>
    <p>â˜ï¸ ë‚ ì”¨: ${weather}</p>
  `;
}
```

---

## ğŸ“Œ ì˜ˆì‹œ ìš”ì²­ URL

```
https://api.openweathermap.org/data/2.5/weather?q=Seoul&appid=abcdef123456&units=metric
```

---

## âœ… í™•ì¥ ì•„ì´ë””ì–´

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ | `navigator.geolocation`ì„ í™œìš©í•œ í˜„ì¬ ìœ„ì¹˜ ë‚ ì”¨ |
| 5ì¼ ì˜ˆë³´ | `forecast` API í™œìš© (3ì‹œê°„ ë‹¨ìœ„ ì˜ˆë³´) |
| ì¦ê²¨ì°¾ê¸° ë„ì‹œ ì €ì¥ | localStorageì— ë„ì‹œ ëª©ë¡ ì €ì¥ |
| ë‹¤êµ­ì–´ ì§€ì› | `lang=kr`, `lang=en` ë“± ì‚¬ìš© ê°€ëŠ¥ |
| ë¡œë”© ìƒíƒœ í‘œì‹œ | fetch ì „ì— ìŠ¤í”¼ë„ˆ ë˜ëŠ” "ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..." ë©”ì‹œì§€ í‘œì‹œ |

---

## ğŸŒ Geolocation ê¸°ë°˜ ë‚ ì”¨ (ë³´ë„ˆìŠ¤)

```js
navigator.geolocation.getCurrentPosition((pos) => {
  const lat = pos.coords.latitude;
  const lon = pos.coords.longitude;
  fetchWeatherByCoords(lat, lon);
});

async function fetchWeatherByCoords(lat, lon) {
  const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric&lang=kr`;
  const res = await fetch(url);
  const data = await res.json();
  displayWeather(data);
}
```

---

## ğŸ§  ë§ˆë¬´ë¦¬

- ì™¸ë¶€ APIë¥¼ ì‚¬ìš©í•˜ë©´ ê°„ë‹¨í•œ ì½”ë“œë¡œë„ ìœ ìš©í•œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë¹„ë™ê¸° ì²˜ë¦¬(`async/await`), fetch, JSON íŒŒì‹±, ì—ëŸ¬ í•¸ë“¤ë§ ë“±ì˜ ê¸°ì´ˆë¥¼ ì œëŒ€ë¡œ ìµíˆëŠ” ë° í° ë„ì›€ì´ ë©ë‹ˆë‹¤.
- ì¶”í›„ ë‚ ì”¨ë¿ë§Œ ì•„ë‹ˆë¼ ë‰´ìŠ¤, í™˜ìœ¨, ìœ„ì¹˜ ë“± ë‹¤ì–‘í•œ APIì™€ ì—°ë™í•˜ì—¬ **ë°ì´í„° ê¸°ë°˜ ì›¹ ì•±**ì„ í™•ì¥í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ”— ì°¸ê³  ìë£Œ

- OpenWeatherMap API: https://openweathermap.org/api
- API key ë³´ì•ˆ ì²˜ë¦¬ íŒ: `.env` ì‚¬ìš© ë˜ëŠ” í”„ë¡ì‹œ ì„œë²„ ì„¤ì •
- ë‚ ì”¨ ì•„ì´ì½˜ ëª©ë¡: https://openweathermap.org/weather-conditions