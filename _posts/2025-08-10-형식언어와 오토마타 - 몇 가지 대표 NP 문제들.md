---
layout: post
title: 형식언어와 오토마타 - 몇 가지 대표 NP 문제들
date: 2025-08-10 23:20:23 +0900
category: 형식언어와 오토마타
---
# 몇 가지 대표 **NP 문제들** — 정의, 핵심 성질, 고전적 감소, 알고리즘/근사/파라미터화 관점

아래에서는 널리 쓰이는 NP 문제들을 **정의 → 왜 어려운가(감소) → 어떤 알고리즘이 있는가(정확/근사/파라미터)** 순서로 정리한다.  

---

## 0) 예열: NP·NP-완전 개관
- **NP**: “예(Yes) 사례는 다항시간 **증명서(증인)** 로 검증 가능”한 결정 문제 집합.  
- **NP-완전**: (i) NP에 속하고, (ii) NP의 모든 문제로부터 다항시간 **변환(reduction)** 이 가능한 문제.  
  대표 출발점은 **SAT/3-SAT**이며, 많은 그래프·조합 최적화 문제가 여기에 귀속된다.

---

## 1) SAT / 3-SAT
**정의**: CNF 식 \(\phi\)가 **만족 가능**(참으로 만드는 대입 존재)한가?  
- **Cook–Levin 정리**: SAT는 **NP-완전**.  
- **3-SAT**: 각 절(clause)이 리터럴 3개로 제한된 형태도 **NP-완전**.  
- **감소 허브**: 3-SAT  \(\longrightarrow\) (CLIQUE, VERTEX-COVER, HAM-PATH, TSP, COLORING …)로 이어지는 **표준 출발점**.

**실무 알고리즘**  
- DPLL, **CDCL**(절 간 충돌 학습), VSIDS/LSIDS 휴리스틱, 단항 전파(UP), **SAT-프리프로세싱**(subsump., blocked clause 제거).  
- **MAX-SAT**(최대 만족)에는 1/2-근사, 가중치/2-SAT/ Horn-SAT 등 특수 경우 **다항시간**.

---

## 2) CLIQUE · INDEPENDENT SET · VERTEX COVER
**정의**
- **CLIQUE**: 그래프 \(G=(V,E)\)에 크기 \(\ge k\)인 **완전 부분그래프** 존재?  
- **INDEPENDENT SET**: 서로 인접하지 않는 정점 집합 크기 \(\ge k\)?  
- **VERTEX COVER**: 모든 간선을 덮는 정점 집합 크기 \(\le k\)?

**관계**
\[
S\subseteq V\ \text{가 독립집합} \iff V\setminus S\ \text{가 커버},\qquad
\text{CLIQUE}(G,k) \iff \text{IND.SET}(\overline{G},k).
\]
**난이도**: 셋 모두 **NP-완전**(3-SAT에서의 고전적 감소).

**근사/파라미터**
- **Vertex-Cover**:  
  - **2-근사** 존재(최대 매칭 기반 or LP-half-integrality).  
  - **FPT**: 매개변수 \(k\)에 대해 \(O(1.27^k + kn)\) 등.  
- **Independent-Set / Clique**: 일반 그래프에 **상수 근사 불가**(강한 근사 불가능성). 파라미터화도 **난해(W[1]-완전)**.  
- **특수 그래프**: 이분 그래프 VC는 **정확**(최대 매칭=최소 커버, Kőnig), 끈폭/트리폭 작은 경우 FPT.

---

## 3) HAMILTONIAN PATH/CYCLE (HAM-PATH/CYCLE)
**정의**: 모든 정점을 정확히 한 번씩 지나는 경로/사이클 존재?  
- **NP-완전**(3-SAT → 가젯 그래프).  
- **특수 판정식**: Dirac/Ore 조건(차수 합 조건)이 **충분조건**으로 알려져 있으나 **필요는 아님**.

**연결고리**: TSP(결정판)과 가깝다 — 가중치를 모두 1/2로 만들면 **Hamiltonian** 존재 여부와 등가.

---

## 4) TSP (결정판)
**정의(결정)**: 완전 그래프에서 길이 \(\le B\)인 해밀턴 순회 존재?  
- **NP-완전**.  
- **일반 TSP 근사 불가**: 삼각부등식이 **없으면** 어떤 상수 비율 근사도 불가(다항시간에서).  
- **Metric TSP**(삼각부등식 성립)  
  - **Christofides 1.5-근사**(MST + 홀수차 정점 최소 퍼펙트 매칭 + 숏컷).  
  - Held–Karp **DP**(정확): \(O(n^2 2^n)\) 시간, \(O(n2^n)\) 공간.

```text
# Held–Karp (부분집합 DP) 의사코드
DP[S][j] = min_{i∈S\{j}} DP[S\{j}][i] + dist(i,j),  S⊆V, 1∈S, j∈S
답 = min_j DP[V][j] + dist(j,1)
```

---

## 5) SUBSET-SUM · PARTITION · 0/1-KNAPSACK
**정의**
- **Subset-Sum**: 집합 \(A\)에 합이 정확히 \(T\)인 부분집합 존재? (NP-완전)  
- **Partition**: 절반 합으로 분할 가능? (NP-완전)  
- **0/1-Knapsack(결정)**: 가치 합 \(\ge B\), 무게 \(\le W\) 선택 가능? (NP-완전)

**의미 있는 “가까운 다항식”**
- **의사다항식 DP**: 수치 매개(합/용량)가 \(U\)일 때 \(O(nU)\) 시간/공간.  
- **근사**:  
  - Knapsack **FPTAS**(가치 스케일링).  
  - Subset-Sum/Partition **FPTAS**(리스트-trim + 스케일).

```text
# Subset-Sum (리스트-트림 스케치)
L := {0}
for x in A:
  L := trim( sort( L ∪ {ℓ+x | ℓ∈L} ), ε/(2n) )
return max{ℓ ∈ L | ℓ ≤ T}
```

---

## 6) GRAPH COLORING
**정의**: 그래프를 **k-색**으로 색칠(인접 정점 다른 색)할 수 있는가?  
- \(k\ge 3\)에 대해 **NP-완전**.  
- **Chromatic Number**(최소 색 수) 결정/근사 모두 **매우 어려움**: \(n^{1-\varepsilon}\) 내 근사 불가(표준 가정 하).

**특수 케이스**  
- **2-Coloring**(이분 그래프 판정)은 **선형시간**(BFS/DFS).

---

## 7) SET COVER · HITTING SET
**정의**: 우주 \(U\)와 부분집합 패밀리 \(\mathcal{S}\)가 주어질 때 최소 크기로 \(U\)를 덮는 \(\mathcal{C}\subseteq \mathcal{S}\) 존재?  
- **NP-완전**.  
- **근사**: 탐욕(Greedy)로 \((1+\ln |U|)\)-근사(분석은 하모닉 수).  
- **하한**: \((1-o(1))\ln n\) 보다 좋은 근사 **불가**(P≠NP 가정).  
- Vertex-Cover는 Set-Cover의 **특수형**(각 간선을 원소, 정점을 집합으로).

---

## 8) 전형적 **감소 사슬** 한눈에
\[
\text{3-SAT} \;\Rightarrow\; \text{CLIQUE} \;\Leftrightarrow\; \text{IND.SET} \;\Rightarrow\; \text{VERTEX-COVER}
\]
\[
\text{3-SAT} \;\Rightarrow\; \text{HAM-PATH/CYCLE} \;\Rightarrow\; \text{TSP(decision)}
\]
\[
\text{3-SAT} \;\Rightarrow\; \text{COLORING (k≥3)},\qquad
\text{PCP} \Rightarrow \text{근사 불가능성(SET-COVER/CLIQUE/CHROMATIC)}
\]

핵심 아이디어: **변수/절 가젯**으로 그래프/가중치 인스턴스를 만들고, **예=예, 아니오=아니오**의 논리 동치를 보장.

---

## 9) 알고리즘 레시피(정확·근사·FPT)
- **정확(지수)**: 브랜치-앤-바운드, Meet-in-the-Middle(Subset-Sum \(O(2^{n/2})\)), 비트셋 DP, Inclusion–Exclusion.  
- **근사**:  
  - Metric-TSP **1.5**, Set-Cover **\(\ln n\)**, Vertex-Cover **2**, Max-Cut **0.878**(Goemans–Williamson).  
- **파라미터(FPT)**:  
  - Vertex-Cover(\(k\)), Feedback-Vertex-Set, Treewidth 기반 DP(많은 NP-완전 문제를 \(f(\text{tw})\cdot n\) 시간).  
  - **유의**: Clique/Independent-Set은 \(k\)-파라미터에서 **W[1]-완전**.

---

## 10) 작동 예 — Vertex-Cover 2-근사(최대 매칭)
```text
Approx-VC(G):
  M := any maximal matching
  C := { 모든 (u,v)∈M 의 u,v }
  return C         # |C| ≤ 2·OPT
```
- **근거**: 매칭의 각 간선은 서로 다른 커버 정점을 요구 ⇒ OPT ≥ |M|.  
  우리는 간선마다 2개를 넣었으니 \(|C|\le 2\cdot\text{OPT}\).

---

## 11) 마무리 요약
- **SAT/3-SAT**는 NP-완전의 **시작점**; 그래프/순회/색칠/부분집합 문제들이 여기에 연결된다.  
- **근사·FPT·의사다항식**은 “다항식으로는 정확히 못 푼다”는 벽을 **우회**하는 실전 도구.  
- **근사 불가능성(PCP)** 과 **파라미터 난이도(W-계층)** 는 “어디까지 가능한가”를 알려주는 **지도**다.
