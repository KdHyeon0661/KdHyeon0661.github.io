---
layout: post
title: 객체지향설계 - 캡슐화
date: 2025-07-10 18:20:23 +0900
category: 객체지향설계
---
# 캡슐화 (Encapsulation): 객체 지향 설계의 기초

## 1. 캡슐화란 무엇인가?

**캡슐화(Encapsulation)**는 객체 지향 설계(OOD)의 핵심 원칙 중 하나로,  
**데이터(속성)**와 그 데이터를 다루는 **행동(메서드)**을 하나의 객체로 묶고,  
**외부로부터 내부 구현을 숨기는 것**을 의미합니다.

> ✅ **정의 요약**:  
> 캡슐화는 "객체의 상태(데이터)를 직접 노출하지 않고,  
> 허용된 방식(메서드)으로만 접근하게 만드는 메커니즘"입니다.

---

## 2. 왜 캡슐화가 필요한가?

### 🎯 1. 내부 구현을 보호
- 외부에서 객체의 상태를 직접 조작할 수 없도록 막음
- 예: 은행 계좌 객체에서 `balance`를 마음대로 수정할 수 없다면?

### 🎯 2. 유지보수성과 유연성 향상
- 내부 구현을 변경해도 외부에 영향을 주지 않음
- 공개된 인터페이스만 지키면 코드 변경이 자유로움

### 🎯 3. 유효성 검사를 통한 안정성
- 잘못된 값이나 비정상적인 동작을 방지
- 예: 나이를 음수로 설정하려 할 때 거부 가능

### 🎯 4. 책임과 역할 분리
- 외부는 객체의 '어떻게'가 아닌 '무엇'을 요청할지만 알면 됨
- 구현 세부사항은 객체 내부에 숨겨둠 (추상화와 연계됨)

---

## 3. 캡슐화의 구현 방법

객체 지향 언어에서는 다음과 같은 방식으로 캡슐화를 구현합니다:

### ✅ 1. 접근 제어자 (Access Modifiers)
- `private`: 외부 접근 불가 → **캡슐화의 핵심**
- `protected`: 같은 클래스나 하위 클래스에서 접근 가능
- `public`: 외부 접근 가능 (공개된 인터페이스)

```java
public class BankAccount {
    private int balance = 0;

    public void deposit(int amount) {
        if (amount > 0) {
            balance += amount;
        }
    }

    public int getBalance() {
        return balance;
    }
}
```

> 👆 `balance`는 `private`으로 외부에서 직접 변경할 수 없습니다.  
> 오직 `deposit()` 메서드를 통해서만 값을 변경할 수 있습니다.

---

## 4. 캡슐화의 구성 요소

| 구성 요소 | 설명 |
|-----------|------|
| **데이터 은닉 (Information Hiding)** | 내부 상태를 외부에서 직접 볼 수 없도록 감춤 |
| **접근자 / 설정자 (Getter / Setter)** | 상태를 읽거나 수정할 수 있는 메서드 제공 |
| **공개 인터페이스** | 객체가 외부에 제공하는 기능(method) |
| **불변성 유지** | 외부 조작으로부터 객체 상태 보호 가능 |

---

## 5. 캡슐화가 잘 된 예 vs 잘못된 예

### ❌ 캡슐화가 없는 코드
```java
public class User {
    public String name;
    public int age;
}
```
- 외부에서 `user.age = -100;`과 같이 잘못된 값 설정 가능

### ✅ 캡슐화된 코드
```java
public class User {
    private String name;
    private int age;

    public void setAge(int age) {
        if (age >= 0) {
            this.age = age;
        }
    }

    public int getAge() {
        return age;
    }
}
```
- 외부에서는 `setAge()`를 통해서만 값을 변경 가능
- 음수 나이는 거부됨 → **객체의 유효성 보장**

---

## 6. 캡슐화와 관련된 개념들

| 개념 | 설명 |
|------|------|
| **정보 은닉 (Information Hiding)** | 캡슐화의 핵심 아이디어, 불필요한 세부사항 감춤 |
| **불변 객체 (Immutable Object)** | 내부 상태가 절대 변하지 않도록 설계된 객체 |
| **인터페이스 기반 설계** | 외부는 공개된 메서드(인터페이스)만 알고, 구현은 숨김 |
| **모듈화 (Modularity)** | 캡슐화된 객체는 독립적으로 작동 가능하므로 재사용성과 모듈성이 높아짐 |

---

## 7. 캡슐화의 한계와 주의할 점

- 캡슐화만으로 모든 문제를 해결할 수 없음  
  → 잘못된 설계는 **캡슐화된 쓰레기**를 만들 수 있음 (정보 은닉만 하고 역할 분리가 안 됨)
- **Setter 남용**은 캡슐화를 깨뜨릴 수 있음  
  → 객체가 아닌 외부에서 상태를 제어하게 됨

> 💡 Tip: 상태를 직접 변경하게 하기보다는  
> **객체의 행위로 상태를 간접 변경**하게 하라!

---

## 8. 결론

캡슐화는 객체 지향 설계의 **첫걸음이자 핵심 철학**입니다.  
외부와 내부를 분리하고, 책임과 역할을 명확히 하며, 안정적이고 유연한 시스템을 만들기 위한 **기초 설계 원칙**입니다.

> 객체의 상태를 안전하게 보호하고,  
> 외부는 객체가 **무엇을 할 수 있는지**만 알면 된다면,  
> 당신은 이미 좋은 캡슐화를 하고 있는 것입니다.