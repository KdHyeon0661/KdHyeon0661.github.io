---
layout: post
title: Java - 날짜와 시간 처리
date: 2025-07-19 23:20:23 +0900
category: Java
---
# 날짜와 시간 처리 (Java)

Java에서는 날짜와 시간을 다루기 위해 다양한 클래스가 제공됩니다. 주요 클래스들은 다음과 같습니다:

- `Date` (구버전, java.util)
- `Calendar` (구버전, java.util)
- `LocalDate`, `LocalTime`, `LocalDateTime`, `ZonedDateTime` 등 (신버전, java.time 패키지)
- `DateTimeFormatter` (날짜/시간 포맷 지정)

---

## 1. `Date` 클래스 (`java.util.Date`)

### 특징
- Java 1.0부터 제공된 **기본적인 날짜 클래스**
- **많은 메서드가 deprecated** 되었고, `Calendar` 또는 `java.time` 패키지로 대체됨
- 내부적으로 시간 정보를 밀리초(`long`)로 저장

### 사용 예시
```java
import java.util.Date;

public class DateExample {
    public static void main(String[] args) {
        Date now = new Date();  // 현재 날짜와 시간
        System.out.println(now);  // Wed Aug 07 01:23:45 KST 2025
    }
}
```

### 문제점
- 시간대를 직접 다루기 어렵고,
- 월(Month)이 0부터 시작하고,
- 많은 메서드가 직관적이지 않음

---

## 2. `Calendar` 클래스 (`java.util.Calendar`)

### 특징
- `Date` 클래스의 단점을 보완하기 위해 Java 1.1에서 도입
- 추상 클래스이며, `Calendar.getInstance()`로 객체 생성
- 날짜를 **조작하거나 계산할 때 유용**

### 사용 예시
```java
import java.util.Calendar;

public class CalendarExample {
    public static void main(String[] args) {
        Calendar cal = Calendar.getInstance();

        // 현재 날짜 출력
        System.out.println("Year: " + cal.get(Calendar.YEAR));
        System.out.println("Month: " + (cal.get(Calendar.MONTH) + 1)); // 0-based
        System.out.println("Day: " + cal.get(Calendar.DAY_OF_MONTH));
    }
}
```

### 날짜 조작
```java
cal.add(Calendar.DATE, 7);  // 7일 뒤로 이동
cal.add(Calendar.MONTH, -1); // 한 달 전
```

### 단점
- 가독성이 떨어지고, 불변(immutable)하지 않음
- 스레드에 안전하지 않음

---

## 3. `java.time` 패키지 (Java 8+)

### 주요 클래스들
| 클래스            | 설명                            |
|-------------------|----------------------------------|
| `LocalDate`       | 날짜 정보만 (yyyy-MM-dd)         |
| `LocalTime`       | 시간 정보만 (HH:mm:ss)           |
| `LocalDateTime`   | 날짜 + 시간 (yyyy-MM-dd HH:mm:ss)|
| `ZonedDateTime`   | 날짜 + 시간 + 시간대             |
| `Instant`         | UTC 기준의 timestamp             |
| `DateTimeFormatter` | 날짜/시간 포맷 지정용           |

---

### 3.1. `LocalDate`

```java
import java.time.LocalDate;

public class LocalDateExample {
    public static void main(String[] args) {
        LocalDate today = LocalDate.now();
        System.out.println(today);  // 2025-08-07

        LocalDate specificDate = LocalDate.of(2020, 5, 10);
        System.out.println(specificDate);  // 2020-05-10
    }
}
```

---

### 3.2. `LocalDateTime`

```java
import java.time.LocalDateTime;

public class LocalDateTimeExample {
    public static void main(String[] args) {
        LocalDateTime now = LocalDateTime.now();
        System.out.println(now);  // 2025-08-07T01:25:00
    }
}
```

---

### 3.3. 날짜 조작

```java
LocalDate today = LocalDate.now();

LocalDate tomorrow = today.plusDays(1);
LocalDate nextMonth = today.plusMonths(1);
LocalDate lastYear = today.minusYears(1);

System.out.println(tomorrow);
System.out.println(nextMonth);
System.out.println(lastYear);
```

---

### 3.4. 날짜 비교

```java
LocalDate date1 = LocalDate.of(2025, 1, 1);
LocalDate date2 = LocalDate.of(2025, 12, 31);

System.out.println(date1.isBefore(date2));  // true
System.out.println(date1.isAfter(date2));   // false
System.out.println(date1.equals(date2));    // false
```

---

## 4. `DateTimeFormatter`

### 날짜 포맷 지정

```java
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;

public class FormatExample {
    public static void main(String[] args) {
        LocalDateTime now = LocalDateTime.now();

        DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");
        String formatted = now.format(formatter);

        System.out.println(formatted);  // 2025-08-07 01:30:00
    }
}
```

### 파싱
```java
String input = "2025-12-25 20:30:00";
DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");

LocalDateTime dateTime = LocalDateTime.parse(input, formatter);
System.out.println(dateTime); // 2025-12-25T20:30
```

---

## 5. 구버전(Date/Calendar) ↔ 신버전(LocalDate 등) 변환

### `Date` → `LocalDateTime`
```java
import java.util.Date;
import java.time.LocalDateTime;
import java.time.ZoneId;

Date date = new Date();
LocalDateTime ldt = date.toInstant()
                        .atZone(ZoneId.systemDefault())
                        .toLocalDateTime();
```

### `LocalDateTime` → `Date`
```java
import java.time.LocalDateTime;
import java.time.ZoneId;
import java.util.Date;

LocalDateTime ldt = LocalDateTime.now();
Date date = Date.from(ldt.atZone(ZoneId.systemDefault()).toInstant());
```

---

## 6. `ZonedDateTime` & 시간대 처리

```java
import java.time.ZonedDateTime;
import java.time.ZoneId;

ZonedDateTime zdt = ZonedDateTime.now(ZoneId.of("Asia/Seoul"));
System.out.println(zdt);
```

---

## 7. 비교 요약

| 클래스           | 버전 | 가변성 | 스레드 안전 | 시간대 지원 | 사용 추천 |
|------------------|------|--------|--------------|--------------|------------|
| `Date`           | old  | O      | X            | X            | ❌ (구버전) |
| `Calendar`       | old  | O      | X            | O            | ❌ (구버전) |
| `LocalDate`      | new  | ❌     | ✅            | X            | ✅          |
| `LocalDateTime`  | new  | ❌     | ✅            | X            | ✅          |
| `ZonedDateTime`  | new  | ❌     | ✅            | ✅            | ✅          |
| `DateTimeFormatter` | new | ❌ | ✅            | N/A          | ✅          |

---

## 결론

- `Date`, `Calendar`는 **레거시(legacy)** 코드와의 호환용
- Java 8부터는 `java.time` 패키지 사용을 권장
- **불변 객체**(immutable), **스레드 안전**, **가독성 향상** 측면에서 `LocalDate`, `LocalDateTime`, `ZonedDateTime`이 우수함
- 날짜 포맷은 `DateTimeFormatter`로 직관적으로 처리 가능

> **Tip:** 새 프로젝트에서는 반드시 `java.time` 패키지를 사용하세요.