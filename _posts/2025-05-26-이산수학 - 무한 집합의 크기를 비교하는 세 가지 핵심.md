---
layout: post
title: 이산수학 - 무한 집합의 크기를 비교하는 세 가지 핵심
date: 2025-05-26 18:20:23 +0900
category: 이산수학
---
# 무한 집합의 크기를 비교하는 세 가지 핵심 개념

## 개요

무한 집합의 크기(카디널리티)를 비교하는 데에는 세 가지 축이 있다.

1) **일대일 대응(전단사) 구성법:** $$A \leftrightarrow B$$ 인 전단사 함수를 **구성**하면 $$|A|=|B|$$ 이다.
2) **칸토어의 대각선 논법:** $$|\mathbb{R}|>|\mathbb{N}|$$ 즉, 실수는 자연수보다 **엄청나게 큰 무한**임을 보인다.
3) **멱집합 정리(칸토어 정리):** 임의의 집합 $$A$$ 에 대해 $$|A|<|\mathcal{P}(A)|$$. 무한에는 **더 큰 무한이 항상 존재**한다.

이 세 축으로 가산/비가산, 연속체 크기, 카디널 산술의 직관이 잡힌다.

---

## 일대일 대응(전단사) 구성법

### 정의와 철학

두 집합 $$A,B$$ 에 대해 **전단사** $$f:A\to B$$ 가 존재하면 $$A$$ 와 $$B$$ 는 **동수**(같은 크기)다.
$$
|A|=|B| \iff \exists f:A\to B\ \text{bijective}.
$$
무한에서 “크기”는 **열거/짝짓기 가능성**으로 정의된다.

### 고전 예시들

#### 예시 1: $$\mathbb{N} \leftrightarrow 2\mathbb{N}$$

$$
f(n)=2n.
$$
- 단사: $$f(n_1)=f(n_2)\Rightarrow 2n_1=2n_2\Rightarrow n_1=n_2.$$
- 전사: 임의의 짝수 $$2k$$ 에 대해 $$f(k)=2k.$$
따라서 $$|\mathbb{N}|=|2\mathbb{N}|=\aleph_0.$$

#### 예시 2: $$\mathbb{N} \leftrightarrow \mathbb{Z}$$

다음 전단사를 쓴다.
$$
f(2k+1)=k,\qquad f(2k)=-k\quad (k\in\mathbb{N}\cup\{0\}).
$$
테이블:
```text
n : 1  2  3  4   5   6   7   8  ...
f(n): 0 -1  1 -2   2  -3   3  -4 ...
```
따라서 $$|\mathbb{Z}|=\aleph_0$$.

#### 예시 3: $$\mathbb{N}^2 \leftrightarrow \mathbb{N}$$ (칸토어 페어링)

$$
\pi(a,b)=\frac{(a+b)(a+b+1)}{2}+b.
$$
이는 전단사다. 역함수도 명시적으로 준다(대각선 합을 복구). 따라서 유한 곱 $$\mathbb{N}^k$$ 는 모두 가산.

#### 예시 4: $$\mathbb{N} \leftrightarrow \mathbb{Q}$$ (가산성)

양의 기약분수 $$p/q$$ 를 분자+분모가 같은 대각선 순으로 열거하고(최대공약수 1 필터), 부호를 교대로 섞으면 $$\mathbb{Q}$$ 전체를 가산 열거할 수 있다. 결론: $$|\mathbb{Q}|=\aleph_0$$.

#### 예시 5: 유한/유한 제거의 불변성

$$
\mathbb{N}\setminus\{1,\dots,m\}\sim \mathbb{N},\qquad 2\mathbb{N}\sim \mathbb{N},\qquad \mathbb{N}\cup\mathbb{N}\sim\mathbb{N}.
$$
“힐베르트 호텔” 직관: **가산은 스스로를 수용 확장** 가능.

### 보조 정리: 슈뢰더–베른스타인 정리

집합 $$A,B$$ 에 대해 $$A\preceq B$$(단사 $$A\to B$$ 존재), $$B\preceq A$$ 가 둘 다 성립하면 $$A\sim B$$(전단사 존재). 상호 단사만 보여도 동수를 결론.

---

## 칸토어의 대각선 논법 — $$\mathbb{R}$$ 의 비가산성

### 정리(아이디어)

$$(0,1)$$ 을 자연수로 **열거할 수 없다는**(가산 불가) 것을 보인다. 즉 $$|(0,1)|>|\mathbb{N}|$$.

### 증명(10진 전개 버전, 개요)

가정: $$(0,1)$$ 의 모든 실수를
$$
x_1=0.a_{11}a_{12}a_{13}\cdots,\
x_2=0.a_{21}a_{22}a_{23}\cdots,\
x_3=0.a_{31}a_{32}a_{33}\cdots,\ \dots
$$
로 **모두** 나열했다고 하자. 여기서 각 $$a_{ij}\in\{0,\dots,9\}$$.

대각선 숫자 $$a_{11},a_{22},a_{33},\dots$$ 를 보고 새로운 수
$$
y=0.b_1b_2b_3\cdots\quad(\text{예: } b_i = (a_{ii}+1)\bmod 10)
$$
를 만든다. 그러면 $$y$$ 는 각 $$x_i$$ 와 **적어도 소수점 이하 $$i$$번째 자리에서 다르다**. 따라서 $$y$$ 는 리스트에 없다. 가정 모순. 결론: $$(0,1)$$ 비가산.

#### 소수 전개의 중복 처리

$$0.0999\cdots=0.1000\cdots$$ 류의 **이중 표기**를 피하려면 “무한히 9로 끝나는 전개는 쓰지 않는다” 같은 표준화 규칙을 채택한다.

### 2진수/비트열 버전

비트열 집합 $$\{0,1\}^{\mathbb{N}}$$ 은 부분집합 $$\mathcal{P}(\mathbb{N})$$ 과 동일(지시함수 일대일대응). 같은 대각선 논법으로 **비가산**임을 보인다. 나아가
$$
|\{0,1\}^{\mathbb{N}}|=|\mathcal{P}(\mathbb{N})|=2^{\aleph_0}.
$$
그리고 이 크기가 $$|\mathbb{R}|$$ 과 같다(§4 참고).

---

## 멱집합의 크기 증가 — 칸토어 정리

### 정리

임의의 집합 $$A$$ 에 대해
$$
|A|<|\mathcal{P}(A)|.
$$

### 증명(반증법, 대각 집합)

임의의 함수 $$f:A\to\mathcal{P}(A)$$ 를 잡자(특히 전사라고 가정). 다음 “대각 집합”을 정의:
$$
D=\{a\in A\mid a\notin f(a)\}.
$$
전사라면 어떤 $$a_0\in A$$ 에 대해 $$f(a_0)=D$$ 여야 한다. 그런데
- 만약 $$a_0\in D$$ 이면 정의상 $$a_0\notin f(a_0)=D$$. 모순.
- 만약 $$a_0\notin D$$ 이면 정의상 $$a_0\in f(a_0)=D$$. 모순.
모든 경우 모순이므로 **전사 함수는 존재하지 않는다**. 따라서 $$|A|<|\mathcal{P}(A)|$$.

### 귀결

- 유한 $$|A|=n$$ 에서는 $$|\mathcal{P}(A)|=2^n$$(멱집합 크기 공식).
- 무한 $$A$$ 에서도 “항상 더 큰 무한”이 성립한다. 특히
$$
|\mathbb{N}|=\aleph_0\quad\Rightarrow\quad|\mathcal{P}(\mathbb{N})|=2^{\aleph_0}>\aleph_0.
$$

---

## $$|\mathbb{R}|=|\mathcal{P}(\mathbb{N})|$$ 과 연속체

### 비트열 ↔ 부분집합

부분집합 $$S\subseteq\mathbb{N}$$ 를 지시함수 $$\chi_S:\mathbb{N}\to\{0,1\}$$ 로 본다. 이는 무한 비트열과 일대일대응:
$$
S\longleftrightarrow (b_1,b_2,b_3,\dots),\quad b_n=\chi_S(n).
$$

### 비트열 ↔ 실수 $$(0,1)$$

이 비트열을 2진 소수로 본다:
$$
x=\sum_{n=1}^\infty \frac{b_n}{2^n}=0.b_1b_2b_3\cdots\ (\text{base }2).
$$
단, **이중 표기**(예: $$0.0111\cdots=0.1000\cdots$$)는 한쪽만 채택. 그러면 전단사(사실 전단사에 준하는) 관계가 성립하여
$$
|\mathbb{R}|=|(0,1)|=|\{0,1\}^{\mathbb{N}}|=|\mathcal{P}(\mathbb{N})|=2^{\aleph_0}.
$$

### 구간과 전체 실수의 동수

전형적 전단사:
$$
(0,1)\xrightarrow{\quad x\mapsto \tan\big(\pi(x-\tfrac12)\big)\quad}\mathbb{R}.
$$
역함수는 $$y\mapsto \frac{1}{\pi}\arctan(y)+\frac12$$. 따라서 $$(0,1)\sim \mathbb{R}\sim (a,b)\sim [0,1]$$(공집합이 아닌 유계/무계 구간들).

---

## 가산성과 그 기법들

### 가산 합의 가산성

$$
\bigcup_{n\in\mathbb{N}} A_n,\quad \text{각 }A_n\text{ 이 가산} \ \Rightarrow\ \text{합집합도 가산}.
$$
증명 아이디어: $$\mathbb{N}^2$$ 의 대각선 열거를 사용.

### 가산 곱의 주의

유한 차원의 곱 $$\mathbb{N}^k$$ 는 가산. 그러나 **가산 무한 차원 곱** $$\mathbb{N}^{\mathbb{N}}$$ 은 $$|\mathbb{R}|$$ 과 같은 크기(비가산). 비트열과 같은 논리.

---

## 파이썬 실습 — 전단사/대각선/멱집합 직관

주의: 코드는 **유한 절단** 수준에서 직관을 보인다. 무한 전체에 대한 증명은 수학적 논증이 담당한다.

### 칸토어 페어링과 역함수(구성적 전단사)

```python
import math

def cantor_pair(a, b):
    s = a + b
    return (s * (s + 1)) // 2 + b

def cantor_unpair(z):
    w = int((math.isqrt(8*z + 1) - 1) // 2)
    t = (w * (w + 1)) // 2
    b = z - t
    a = w - b
    return a, b

# 검증

for a in range(4):
    for b in range(4):
        z = cantor_pair(a, b)
        aa, bb = cantor_unpair(z)
        assert (a, b) == (aa, bb)
print("Cantor pair/unpair OK for small cases.")
```

### 정수의 가산 열거(지그재그 전단사)

```python
def enumerate_Z(limit):
    # 0, 1, -1, 2, -2, ...
    yield 0
    k = 1
    while k <= limit:
        yield k
        yield -k
        k += 1

print(list(enumerate_Z(6)))
```

### 유리수의 가산 열거(기약분수 + 대각선)

```python
from math import gcd

def enumerate_Q(limit_sum=12, include_zero=True):
    if include_zero:
        yield 0
    seen = set()
    for s in range(2, limit_sum + 1):
        for p in range(1, s):
            q = s - p
            if gcd(p, q) != 1:
                continue  # 기약만
            for sign in (1, -1):
                num = sign * p
                if (num, q) not in seen:
                    seen.add((num, q))
                    yield num / q

out = []
for x in enumerate_Q(20):
    out.append(x)
    if len(out) >= 12:
        break
print(out)
```

### 대각선 논법의 유한 모형(문자열 리스트)

```python
def diagonal_counterexample(strings, base_chars="0123456789"):
    # strings: 같은 길이의 숫자 문자열들(가정)
    # 각 i번째 문자열의 i번째 문자를 반전시켜 새로운 anti-diagonal 구성
    n = min(len(s) for s in strings)
    m = len(base_chars)
    anti = []
    for i in range(n):
        c = strings[i][i]
        idx = base_chars.index(c) if c in base_chars else 0
        anti.append(base_chars[(idx + 1) % m])
    return "".join(anti)

rows = [
    "12345",
    "45678",
    "78901",
    "11111",
    "22222",
]
print("anti:", diagonal_counterexample(rows))
```

### 멱집합 크기의 유한 검증(부분집합 개수)

```python
def power_set_size(n):
    return 2**n

for n in range(1, 8):
    print(n, power_set_size(n))
```

---

## 자주 하는 오해와 정리

1) **길이 vs 크기**: 구간 $$(0,1)$$ 과 $$(0,2)$$ 는 길이는 다르지만 **카디널리티는 같다**.
2) **부분집합 크기**: 무한에서는 $$2\mathbb{N}\subset\mathbb{N}$$ 이지만 $$|2\mathbb{N}|=|\mathbb{N}|$$ 가능.
3) **멱집합의 우위**: $$|A|<|\mathcal{P}(A)|$$ 는 유한/무한 모두에 적용.
4) **가산 곱/합**: 가산 개의 가산 합은 가산이나, $$\mathbb{N}^{\mathbb{N}}$$ 은 비가산.
5) **소수 전개의 중복**: 대각선 논법/2진대응에서 **표준화 규칙**(무한 9 반복 배제 등)을 명시해야 전단사 구성이 깔끔하다.

---

## 연습문제(해설 스케치)

1) $$\mathbb{N}\times\mathbb{N}$$ 이 가산임을 **대각선 열거**로 직접 기술하라.
   스케치: 합이 같은 격자선마다 순회.

2) $$\mathbb{Q}$$ 가 가산임을 **정밀하게** 서술: 기약 분수 필터와 부호 삽입을 포함.
   스케치: 분자+분모 대각선 순회, $$\gcd(p,q)=1$$.

3) $$(0,1)$$ 의 비가산성 대각선 논법을 **2진수**로 재작성하고 이중 표기 처리 규칙을 명시하라.
   스케치: 끝이 **무한 1**인 전개를 배제.

4) 칸토어 정리를 $$A=\mathbb{N}$$ 일 때의 특수 경우로 적어 $$|\mathbb{N}|<|\mathcal{P}(\mathbb{N})|$$ 를 증명하라.
   스케치: “대각 집합”을 구성.

5) $$\mathbb{R}\sim(0,1)$$ 인 전단사를 한 가지 이상 제시하고 역함수를 써라.
   스케치: 탄젠트 전단사.

6) $$\bigcup_{n\in\mathbb{N}} A_n$$ 의 가산성: $$A_n\sim\mathbb{N}$$ 각각을 이용해 $$\mathbb{N}^2$$ 에 매입 후 대각선 열거.
   스케치: 표준 구조화.

---

## 요약

- **일대일 대응**은 무한 크기 비교의 **정의**이자 실전 도구다.
- **대각선 논법**은 실수의 비가산성과 “열거 불가능성”을 구조적으로 보여 준다.
- **멱집합 정리**는 “항상 더 큰 무한”을 보장하며, $$|\mathbb{R}|=|\mathcal{P}(\mathbb{N})|=2^{\aleph_0}$$ 가 그 대표 사례다.
- 이 세 축을 숙달하면 **가산/비가산**, **연속체**, **카디널 산술**과 그 응용(알고리즘 상태공간, 데이터 조합, 형식적 한계)을 체계적으로 이해할 수 있다.
