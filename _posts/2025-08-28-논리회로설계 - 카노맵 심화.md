---
layout: post
title: 논리회로설계 - 카노맵 심화
date: 2025-08-28 22:25:23 +0900
category: 논리회로설계
---
# 카노맵 심화 — **5변수 K-map**, **카노맵의 다른 사용법**, **다른 형태(변형) K-map**

> 표기: \(+\)=OR, \(\cdot\) 또는 생략=AND, \(\overline{A}\)=NOT \(A\).  
> 카노맵의 행·열 라벨은 **그레이 코드(00, 01, 11, 10)** 를 사용합니다.  
> 목표: 4변수를 넘어 **5변수 K-map**을 정확히 다루고, **설계·검증에 활용하는 다양한 사용법**, 그리고 **다른 형태의 K-map**까지 체계적으로 정리합니다.

---

## 1) 5변수 카노맵 (K-map for 5 Variables)

### 1.1 배치 원리
- 5번째 변수(예: \(E\))를 분리하여 **4변수 K-map 두 장**으로 나눕니다.
  - 왼쪽 판: \(E=0\), 오른쪽 판: \(E=1\)  
  - 각 판은 \(AB\) (행), \(CD\) (열) 그레이 코드 4×4 배치

```
          E=0                           E=1
AB\CD | 00  01  11  10        AB\CD | 00  01  11  10
------+----------------        ------+----------------
 00   | m0  m1  m3  m2           00 | m16 m17 m19 m18
 01   | m4  m5  m7  m6           01 | m20 m21 m23 m22
 11   | m12 m13 m15 m14          11 | m28 m29 m31 m30
 10   | m8  m9  m11 m10          10 | m24 m25 m27 m26
```

> **인접성 규칙**  
> - 같은 판 내부: 상·하·좌·우 인접 + **테두리 래핑**(좌↔우, 상↔하)  
> - **두 판 사이의 대응 셀(동일 좌표)**: \(E\)만 다르므로 **서로 인접**

### 1.2 묶음(그룹) 크기
- 1, 2, 4, 8, 16 **셀 단위**(2의 거듭제곱).  
- 5변수에서는 **최대 16셀 묶음**까지 가능(예: \(E\)에 대해 두 판을 **겹쳐 묶기**).

### 1.3 교차-판 묶음의 의미
- 동일 좌표 셀을 **두 판에서 함께 묶으면** \(E\)가 **소거**됩니다.  
  \[
  E\cdot X \;+\; \overline{E}\cdot X \;=\; X
  \]
  ⇒ 5번째 변수 \(E\)가 **사라진 곱항**을 얻음.

### 1.4 절차 요약
1) 두 판에 1(또는 don’t care \(X\))를 채운다.  
2) **가능한 가장 큰** 묶음부터 만든다(판 **내부** + **판 간**).  
3) 묶음마다 **변하지 않는 변수**만 남겨 곱항을 쓴다.  
4) 모든 1을 덮도록 최소 개수의 묶음을 선택한다(필수 주항부터, §4 참조).

### 1.5 예시(개념) — \(E\) 제거 묶음
- 가령 두 판에서 동일 열(예: \(C=1, D=0\))의 **모든 행**이 1이라면, 그 8셀(왼 4 + 오 4)을 하나로 묶어
  \[
  \boxed{F \supset C\,\overline{D}}
  \]
  (이때 \(A,B,E\)는 변하며 소거됨)

---

## 2) 카노맵의 **다른 사용법** (설계·검증 활용)

### 2.1 **POS 최소화(0-묶기)**
- SOP는 1을 묶지만, POS는 **0을 묶어 합항**을 얻습니다.  
- 동일한 배치·인접 규칙을 사용하고, 0-묶음 하나가 \((\text{합항})\) 한 개를 제공합니다.  
  \[
  \overline{F}=\sum m(\text{0인 인덱스}) \Rightarrow F=\prod M(\cdot)
  \]

### 2.2 **don’t care(\(X\)) 적극 활용**
- \(X\)는 1 또는 0로 **임의 할당** 가능 — **묶음을 키우는 방향**으로 포함.  
- 단, 시스템 관점에서 그 입력 조합이 **실제로 발생하지 않음**이 보장되어야 안전.

### 2.3 **해저드(글리치) 분석/완화**
- **정적-1 해저드**: 이론상 1이 유지돼야 하는 입력 전이에서 순간 0이 튀는 현상.  
- K-map에서 인접 1들이 **서로 다른 묶음**에 의해 덮이고 **중첩이 없을 때** 발생 가능.  
- **해결**: 합의항(중첩되는 제3의 묶음) **추가**  
  \[
  F=AB+\overline{A}C \;\Rightarrow\; F'=AB+\overline{A}C+BC
  \]
  (K-map에서 \(BC\) 영역으로 **겹침**을 만들어 해저드 완화)

### 2.4 **다중 출력 공유(PLA/공유 임플리컨트)**
- 여러 출력의 카노맵을 **겹쳐보면**, 공통 묶음(곱항)을 찾아 **하나의 논리 블록**으로 공유 가능 → 게이트/PLA 면적 절감.

### 2.5 **상태 부호화/그레이 할당 직관**
- 순차회로 **상태 할당**에서 **그레이 코드**를 써 **인접 전이**를 1비트 변화로 제한하면 해저드 완화에 유리.  
- K-map의 그레이 배치가 이 직관을 시각적으로 제공합니다.

### 2.6 **MUX/디코더 구현으로의 매핑**
- 묶음이 열(또는 행) 전체를 덮을 때, 그 변수 집합을 **선택선/디코더 출력**으로 삼아 **간단한 MUX/디코더 구현**으로 변환 가능.

---

## 3) 카노맵의 **다른 형태(변형)**

### 3.1 **Variable-Entered K-map (VEK / VEM, 변수 입력 K-map)**
- 셀에 0/1 대신 **변수(혹은 보수)**를 직접 기입하여 **지도 자체가 식**을 표현.  
- 장점: 5~6변수에서도 **지도 크기를 늘리지 않고** 표현 가능, **인수화/공통인수**가 눈에 잘 보임.  
- 용도: **합성가능한 형태**로 빠르게 전개/인수화, **배타적 패턴**(XOR 계열) 직관 강화.

### 3.2 **6변수 이상의 K-map**
- 6변수: **4변수 K-map 4장**을 2×2로 배치(예: \(E,F\) 조합이 장(판) 선택)  
  - 인접성: 같은 좌표 내에서 \(E,F\) 비트 하나만 다른 **이웃 판**과 **인접**  
- 7변수: 8장(2×2×2), 8변수: 16장 …  
- 실무적으로는 6변수를 넘기면 **퀘인–맥클러스키/에스프레소(ESPRESSO)** 같은 알고리즘적 최소화가 효율적.

### 3.3 **접힌(folded)/원통·토러스 표현**
- K-map의 테두리 래핑을 **시각적으로 드러내기 위한** 변형  
  - 좌우를 붙여 **원통**, 상하까지 붙여 **토러스**로 그려 **인접성 오류**를 줄임.

### 3.4 **Veitch 다이어그램/대수용 격자**
- 카노맵의 전신(베치 다이어그램) 표기. 동일 개념이지만 **격자 기반**으로 표현하여  
  대수적 전개(샤논 전개, 인수화)와의 대응을 강조.

### 3.5 **ESOP/Reed–Muller 관점(참고)**
- XOR/XNOR 기반의 **등가 전개(ESOP)** 를 다룰 때, K-map에서 **체커보드 패턴**(1과 0이 번갈아 나오는) 구역은 SOP로는 큰 묶음이 어려움 →  
  VEK나 **다른 기저(폴라리티) 전개**를 함께 사용하면 더 간결한 식을 얻을 수 있음.

---

## 4) **필수 주항(EPI)**을 이용한 최소식 결정(5변수 포함)

### 4.1 용어
- **PI(소수 주항)**: 더 확장 불가능한 최대 크기 묶음  
- **EPI(필수 주항)**: 특정 1셀을 **오직 자신만** 덮는 PI

### 4.2 절차(요약)
1) 두 판(또는 여러 판)에서 **모든 PI**를 찾는다 — 내부/경계/판 간 묶음.  
2) **커버링 차트**를 작성하여 각 1셀이 어떤 PI에 의해 덮이는지 표시.  
3) **EPI를 우선 선택**하여 해당 1셀을 제거.  
4) 남은 1셀은 **최소 개수의 PI**로 덮는다(큰 묶음·많이 덮는 PI 우선).

> 5변수에서도 동일. 단, **교차-판 PI**(E가 소거된 곱항)를 적극적으로 만들어 **리터럴 수**를 줄이는 것이 핵심.

---

## 5) 5변수 종합 예(개념 절차)

**문제**  \(F(A,B,C,D,E)\) 의 K-map 두 판에서,  
- 열 \(CD=01\) 과 \(CD=11\) 에 해당하는 모든 행이 \(E=0,1\) 모두에서 1이라고 하자(나머지는 0).  

**해결**  
1) 각 판에서 열 2개(01, 11)가 **세로 4셀 묶음**이 되고,  
2) 두 판에서 **좌표가 같은 열**을 합쳐 **8셀 묶음** 2개 형성 → \(E\) 소거.  
3) 두 묶음은 각각 \(C=1, D=0\) 과 \(C=1, D=1\) 을 고정하므로
\[
F = C\overline{D} + CD = C
\]
(최소식)

> 메시지: **판 간 묶음**은 5번째 변수 소거의 핵심이며, **큰 묶음 우선**이 식을 가장 짧게 만듭니다.

---

## 6) 실무 체크리스트

- [ ] **그레이 코드** 순서를 **일관**되게 사용(01↔11 순서 혼동 금지).  
- [ ] 5변수는 **두 판의 동일 좌표 인접**을 항상 고려(큰 묶음 기회).  
- [ ] **X(don’t care)** 는 묶음 확장에만 포함(오동작 방지).  
- [ ] SOP와 POS를 **둘 다** 고려하면 검증·구현(예: NOR-only) 선택이 쉬워짐.  
- [ ] 해저드 우려가 있으면 **합의항**으로 중첩을 만들어 안정화.  
- [ ] 변수 순서(행·열 배치)를 바꿔 **묶음이 최대**가 되도록 시도.

---

## 7) 연습문제

1) **5변수**: \(F=\sum m(1,3,5,7,\,17,19,21,23)\).  
   - (a) 5변수 K-map 두 판에 표시하고,  
   - (b) 판 간 묶음으로 최소식을 구하라(힌트: \(E\) 소거).

2) **해저드 완화**: 4변수 \(F=AB+\overline{A}C\).  
   - (a) K-map에서 정적-1 해저드가 있는 영역을 표시하고,  
   - (b) 합의항을 추가해 해저드를 제거한 식을 쓰라.

3) **VEK**: 4변수 VEK로 \(F=A(B+C)+\overline{A}C\) 를 표현하고, 인수화를 통해 최소식으로 유도하라.

4) **POS 최소화**: 5변수에서 \(F=0\) 인 조합만 주어졌을 때(0-셋 제공), 0-묶기로 POS 최소식을 구하고 SOP로 쌍대식을 확인하라.
