---
layout: post
title: CSS - 색상 단위
date: 2025-03-08 19:20:23 +0900
category: CSS
---
# 색상 단위와 사용법 — hex, rgb, hsl (그리고 최신 oklch, color(), color-mix())
## 0) 왜 색상 표기 방식을 알아야 하나

- **표현력**: 같은 빨강이라도 RGB/HSL/OKLCH로 **조절 감각**이 달라집니다.
- **일관성**: 디자인 토큰과 테마(라이트/다크)에서 **의도대로** 밝기·채도를 유지.
- **품질**: 넓은 색역(P3)·OKLCH를 쓰면 **선명도와 계조**가 좋아집니다.
- **접근성**: 대비를 수치로 관리하고, 불투명/혼합으로 **읽기성**을 보장.

---

## 1) 기본 색상 표기 — HEX

### 1.1 구조
- `#RRGGBB` (0x00–0xFF)
- 축약 `#RGB` → `#RRGGBB`
- **알파 채널** 가능: `#RRGGBBAA`, `#RGBA`

```css
/* 6자리 */
color: #ff0000;   /* 빨강 */
color: #00ff00;   /* 초록 */
color: #0000ff;   /* 파랑 */
color: #333333;   /* 어두운 회색 */

/* 3자리 축약 */
color: #f00;      /* #ff0000 */

/* 8자리 (알파 포함: AA) */
color: #ff000080; /* 50% 불투명 빨강 */
```

**장점**: 짧고 보편적, 에셋/디자인에서 흔함  
**단점**: 밝기/채도 조절이 **직관적이지 않음**

---

## 2) RGB / RGBA

- **구문 2종**(둘 다 표준)
  - 구 문법: `rgb(255, 0, 0)`, `rgba(255, 0, 0, .5)`
  - **신 문법**(권장): `rgb(255 0 0 / .5)` — 쉼표 대신 공백, 알파는 `/`

```css
color: rgb(255 0 0);       /* 빨강 */
color: rgb(0 255 0 / .3);  /* 30% 불투명 초록 */
background: rgba(0,0,0,.5);/* 레거시도 여전히 허용 */
```

**장점**: 디바이스 친화, 수치가 명확  
**단점**: 밝기/채도 변화가 직관적이지 않음

---

## 3) HSL / HSLA

- **Hue(0–360)**, **Saturation(%)**, **Lightness(%)**
- 구 문법: `hsl(0, 100%, 50%)`, `hsla(..., .5)`
- **신 문법**: `hsl(0 100% 50% / .5)`

```css
color: hsl(0 100% 50%);        /* 빨강 */
color: hsl(120 100% 50% / .3); /* 30% 불투명 초록 */
```

**장점**: **밝기/채도 슬라이더**처럼 직관적  
**단점**: 균등한 지각 스케일이 아님 → 같은 ΔL%가 **항상** 같은 체감 밝기 변화가 아님

---

## 4) 색상 이름(Color Keywords)

약 140개 키워드(예: `red`, `blue`, `lightgray`, `dodgerblue`, `tomato`)

```css
color: dodgerblue;
background: lightgray;
```

**장점**: 빠름, 기억하기 쉬움  
**단점**: 선택 폭이 제한, 정확한 수치 제어 어려움

---

## 5) 최신 색상 공간 — HWB/Lab/LCH/OKLab/OKLCH

### 5.1 `hwb(h w% b%)`
- Hue/Whiteness/Blackness
- *화이트/블랙 섞기* 감각으로 색을 다룸

```css
color: hwb(210 0% 0%);   /* 순도 높은 파랑계 */
color: hwb(210 20% 0%);  /* 흰기 20% 섞인 파랑 */
```

### 5.2 `lab()` / `lch()`
- 인간 지각에 가깝게 만든 **균등 색 공간**(CIE Lab 계열)
- `lch(L C H)`가 더 직관적(L=밝기, C=채도, H=색상)

```css
color: lch(60% 60 30);   /* L 60%, C 60, H 30deg */
```

### 5.3 `oklab()` / `oklch()` — **현대 웹 권장**
- `oklch(L C h)` : **균등성** 좋고, 그라데이션/팔레트 품질 우수
- **디자인 토큰**에 매우 적합

```css
:root {
  --brand: oklch(63% 0.18 240);
}
a { color: var(--brand); }
```

**장점**: 밝기/채도/색상 바꾸기가 **매우 직관적**, 그라데이션 밴딩 적음  
**유의**: 구형 브라우저는 폴백 필요할 수 있음(아래 “호환성/폴백” 참고)

---

## 6) 넓은 색역(P3) — `color(display-p3 ...)` / `color()` 함수

디스플레이가 sRGB보다 **넓은 색역**을 지원(P3 등)할 때 더 **선명하고 풍부**한 색.

```css
/* sRGB */
color: rgb(0 122 255);

/* P3 (더 선명한 블루) */
color: color(display-p3 0 0.48 1);
```

- `color(<profile> r g b / a?)` 형태
- 프로필 예: `srgb`, `display-p3`
- **자동 감마 보정/가뮤트 매핑**은 브라우저가 수행

**전략**: P3 우선 + sRGB 폴백  
```css
/* 폴백 → P3 (지원 시 상쇄) */
:root {
  --link: #0a84ff; /* sRGB */
}
@supports (color: color(display-p3 1 1 1)) {
  :root { --link: color(display-p3 0 0.48 1); }
}
a { color: var(--link); }
```

---

## 7) `color-mix()` — 색 혼합(테마/상태 색 만들기)

```css
/* 문법: color-mix(in <space>, <color> <pct>, <color> <pct>) */
.button:hover {
  background: color-mix(in oklab, var(--brand) 85%, black 15%);
}
.badge.muted {
  color: color-mix(in srgb, currentColor 70%, gray 30%);
}
```

- **색 공간**을 지정해야 일관된 결과(권장: `oklab`/`oklch`)
- **밝기·채도 보존**에 유리, 상태 색 파생에 최적

---

## 8) 상대 색상 문법(Relative Color Syntax)

이미 정의된 색에서 **상대적으로** 조절:

```css
:root {
  --brand: oklch(63% 0.18 240);
}

/* brand에서 밝기만 살짝 올린 버전 */
.btn--alt {
  color: oklch(from var(--brand) calc(L + 0.1) C h);
}

/* brand를 30% 투명으로 */
.overlay {
  background: oklch(from var(--brand) L C h / 0.3);
}
```

- `rgb(from ...)`, `hsl(from ...)`, `oklch(from ...)` 등 사용 가능
- 팔레트 **유지·변형**에 강력

---

## 9) 알파(투명도)와 합성

- **알파**는 **색 자체의 불투명도**. 레이어 합성 시 **배경색과 섞임**.
- 같은 시각 결과라도 **알파가 있는 전경 vs 불투명 전경 + 반투명 배경**은 **블렌딩 결과**가 다릅니다.

```css
/* 전경을 반투명 */
color: rgb(0 0 0 / .6);

/* 배경을 반투명 (밑바닥 색에 따라 달라짐) */
background: rgba(0,0,0,.6);
```

**실무 팁**: 텍스트는 **불투명** + **배경 레이어**를 조절하는 쪽이 **가독성**에 유리한 경우가 많습니다.

---

## 10) 그라데이션/블렌딩: 품질과 균등성

- 균등공간(OKLCH/OKLAB)에서 **밴딩 덜한** 그라데이션:

```css
.hero {
  background: linear-gradient(
    90deg,
    oklch(70% 0.12 260),
    oklch(70% 0.12 320)
  );
}
```

- `mix-blend-mode`, `background-blend-mode`로 레이어 조합 가능(콘텐츠 대비 주의)

---

## 11) 대비(Contrast)와 접근성

### 11.1 sRGB 상대 휘도 기반(간단 요약)
대비비
$$
\text{Contrast} = \frac{L_\text{max} + 0.05}{L_\text{min} + 0.05}
$$
- WCAG 2.x 권장: 본문 4.5:1 이상, 대문자/굵은 큰 글자 3:1 이상  
- **OKLCH**를 쓰면 **밝기(L) 조절**로 대비를 유지하기 쉬움

### 11.2 실전 레시피(OKLCH로 대비 보정)
```css
:root { --fg: oklch(85% 0.02 250); --bg: oklch(18% 0.02 250); }
@media (prefers-color-scheme: dark) {
  :root { --fg: oklch(92% 0.02 250); --bg: oklch(10% 0.02 250); }
}
body { color: var(--fg); background: var(--bg); }

/* 링크: 배경 대비에 따라 채도/밝기 보정 */
.link {
  color: var(--brand);
}
.link.on-dark {
  color: color-mix(in oklch, var(--brand) 80%, white 20%);
}
```

---

## 12) 디자인 토큰과 테마 스위치

```css
:root {
  --brand: oklch(63% 0.18 240);
  --text:  oklch(18% 0.02 260);
  --bg:    oklch(98% 0.02 260);
}

@media (prefers-color-scheme: dark) {
  :root {
    --text: oklch(92% 0.02 260);
    --bg:   oklch(12% 0.02 260);
  }
}

.btn {
  color: var(--bg);
  background: var(--brand);
}
```

- **OKLCH**로 토큰을 정의하면, 다크/라이트에서 **밝기/채도 유지**가 쉬움
- 프로젝트 초기에 **토큰 표준화**를 강력히 추천

---

## 13) 호환성과 폴백 전략

- 최신 기능(OKLCH, `color()`, `color-mix()`)은 **대체 색**을 먼저 선언하고 **지원 시 덮어쓰기**

```css
.button {
  background: #2563eb; /* sRGB 폴백 */
}
@supports (color: oklch(0% 0 0)) {
  .button { background: oklch(63% 0.18 240); }
}
```

- 외부 CDN 색상은 **SRI**와 함께, 내부 토큰으로 **한곳에서 관리**

---

## 14) 실전 예제 모음

### 14.1 알파/블러 오버레이 카드
```html
<section class="cards">
  <article class="card">
    <h3>제목</h3>
    <p>내용</p>
    <a class="btn" href="#">자세히</a>
  </article>
</section>
```
```css
.cards {
  display: grid; gap: 1.25rem;
  background: linear-gradient(180deg,
    oklch(95% 0.01 250), oklch(98% 0.01 250));
  padding: 2rem;
}
.card {
  background: color-mix(in oklab, white 70%, oklch(90% 0.03 250) 30%);
  border: 1px solid color-mix(in oklab, currentColor 12%, transparent 88%);
  border-radius: .75rem;
  padding: 1.25rem;
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
}
.btn {
  background: oklch(63% 0.18 240);
  color: white;
  padding: .5rem .9rem; border-radius: .5rem; border: 0;
}
.btn:hover {
  background: color-mix(in oklab, oklch(63% 0.18 240) 85%, black 15%);
}
```

### 14.2 색상 토큰에서 상태 파생(hover/active/disabled)
```css
:root {
  --brand: oklch(63% 0.18 240);
}
.button {
  background: var(--brand);
}
.button:hover {
  background: color-mix(in oklab, var(--brand) 80%, black 20%);
}
.button:active {
  background: color-mix(in oklab, var(--brand) 70%, black 30%);
}
.button[disabled] {
  background: color-mix(in oklab, var(--brand) 30%, gray 70%);
}
```

### 14.3 P3 색 + sRGB 폴백
```css
.link { color: #0a84ff; } /* fallback sRGB */
@supports (color: color(display-p3 1 1 1)) {
  .link { color: color(display-p3 0 0.48 1); }
}
```

---

## 15) 색상 선택 가이드(확장판)

| 목적 | 추천 표기 |
|---|---|
| 빠르게 지정/레거시 호환 | HEX, 색상 이름 |
| 투명도 제어 | `rgb(... / a)`, `hsl(... / a)`, `#RRGGBBAA` |
| 직관적 조절(밝기/채도/색상) | **OKLCH/OKLAB**, HSL |
| 고품질 그라데이션/팔레트 | **OKLCH/OKLAB** |
| 넓은 색역(고급 화면) | `color(display-p3 ...)` + 폴백 |
| 상태 색 파생/혼합 | `color-mix()` |
| 기존 색에서 상대 변형 | 상대 색상 문법 `oklch(from ...)` 등 |

---

## 16) 작은 수학: HSL → RGB 변환 요약(참고)

HSL의 파라미터를 \( H\in[0,360), S\in[0,1], L\in[0,1] \)라 하면,
중간 값 \(C = (1 - |2L - 1|)\cdot S\), 보정 \(m = L - C/2\).  
\(H' = H/60\) 구간에 따라 \( (R',G',B') \)를 정하고,
최종 \( (R,G,B) = ((R'+m),(G'+m),(B'+m)) \).

> 실제 구현은 브라우저가 수행하지만, **S/L 변화가 색에 미치는 영향**을 이해하는 데 유용합니다.

---

## 17) 체크리스트

- 프로젝트 초기에 **색상 공간 전략**을 정한다: sRGB only vs OKLCH + P3 폴백
- 토큰은 **OKLCH**로: `--brand: oklch(L C h)`
- 혼합은 `color-mix(in oklab, ...)`
- 알파는 전경/배경 중 **어느 레이어**에 둘지 의도적으로 선택
- 대비는 최소 4.5:1(본문) / 3:1(크거나 굵은 텍스트)을 지향
- 넓은 색역은 `@supports`로 안전하게 적용

---

## 18) 요약 표

| 방식 | 예시 | 특징 |
|---|---|---|
| HEX | `#ff0000`, `#ff000080` | 짧고 보편, 알파는 8자리 |
| RGB(A) | `rgb(255 0 0 / .5)` | 디바이스 친화, 알파 명확 |
| HSL(A) | `hsl(0 100% 50% / .5)` | 직관적 슬라이더 감각 |
| HWB | `hwb(210 20% 0%)` | 흰기/검은기 섞기 |
| LCH/OKLCH | `oklch(63% 0.18 240)` | 균등성 우수, 팔레트·그라데이션 강력 |
| color() | `color(display-p3 …)` | 넓은 색역, P3 대응 |
| color-mix() | `color-mix(in oklab, a 80%, b 20%)` | 상태 색 파생 |
| 상대 색상 | `oklch(from var(--brand) ...)` | 토큰 변형/파생 |

---

## 19) 빠른 실무 템플릿

```css
:root {
  /* sRGB 폴백 */
  --brand: #2563eb;
  --bg: #ffffff;
  --fg: #111111;
}
@supports (color: oklch(0% 0 0)) {
  :root {
    --brand: oklch(63% 0.18 240);
    --bg:   oklch(98% 0.01 250);
    --fg:   oklch(12% 0.02 250);
  }
}
@media (prefers-color-scheme: dark) {
  :root {
    --bg: oklch(12% 0.02 250);
    --fg: oklch(92% 0.02 250);
  }
}

/* 사용 */
body { background: var(--bg); color: var(--fg); }
a    { color: var(--brand); }
a:hover {
  color: color-mix(in oklab, var(--brand) 85%, black 15%);
}
```

---

## 20) 결론

- 기존 **HEX/RGB/HSL**만으로도 충분히 작업할 수 있지만,  
  **OKLCH/OKLAB + color-mix()/color(display-p3)**를 더하면 **팔레트 품질·일관성·접근성**이 한 단계 올라갑니다.
- 앞으로의 기본값을 **OKLCH 토큰**으로 두고, sRGB/브라우저 폴백만 깔끔히 챙기면,  
  테마/상태/그라데이션/다국어·다크모드까지 **예측 가능한 컬러 시스템**을 만들 수 있습니다.