---
layout: post
title: ë””ìì¸íŒ¨í„´ - ë””ìì¸ íŒ¨í„´ì„ í™œìš©í•œ ì½”ë“œ ë¦¬íŒ©í† ë§ ì‚¬ë¡€
date: 2025-07-05 23:20:23 +0900
category: ë””ìì¸íŒ¨í„´
---
# ë””ìì¸ íŒ¨í„´ì„ í™œìš©í•œ ì½”ë“œ ë¦¬íŒ©í† ë§ ì‚¬ë¡€

---

## ğŸ¯ ê°œìš”

ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì»¤ì§ˆìˆ˜ë¡ ìœ ì§€ë³´ìˆ˜ì™€ í™•ì¥ì„±ì€ í•„ìˆ˜ ì¡°ê±´ì´ ë©ë‹ˆë‹¤.  
í•˜ì§€ë§Œ ì²˜ìŒë¶€í„° ì™„ë²½í•œ êµ¬ì¡°ë¡œ ì§œê¸´ ì–´ë µê¸° ë•Œë¬¸ì—,  
**ë¦¬íŒ©í† ë§(Refactoring)** ê³¼ì •ì—ì„œ **ë””ìì¸ íŒ¨í„´**ì„ ì ê·¹ í™œìš©í•˜ë©´  
ì½”ë“œì˜ í’ˆì§ˆì„ ëˆˆì— ë„ê²Œ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ ê¸€ì—ì„œëŠ” ì‹¤ì „ì—ì„œ ìì£¼ ë§ˆì£¼ì¹˜ëŠ” ë¬¸ì œë¥¼ ë””ìì¸ íŒ¨í„´ìœ¼ë¡œ ë¦¬íŒ©í† ë§í•˜ëŠ” ì‚¬ë¡€ë¥¼ í†µí•´  
**Before â†’ After** ë°©ì‹ìœ¼ë¡œ ì†Œê°œí•©ë‹ˆë‹¤.

---

## 1ï¸âƒ£ ì¡°ê±´ë¬¸/ë¶„ê¸°ë¬¸ ë‚¨ë°œ â†’ **Strategy íŒ¨í„´**ìœ¼ë¡œ ë¦¬íŒ©í† ë§

### âœ… ë¦¬íŒ©í† ë§ ì „

```python
def calculate_price(product_type, amount):
    if product_type == "A":
        return amount * 100
    elif product_type == "B":
        return amount * 80
    elif product_type == "C":
        return amount * 120
    else:
        raise ValueError("Invalid product type")
```

- ìƒˆë¡œìš´ íƒ€ì… ì¶”ê°€ ì‹œ if/elif í™•ì¥ í•„ìš”
- OCP(Open/Closed Principle) ìœ„ë°°
- í…ŒìŠ¤íŠ¸, ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€

---

### âœ… ë¦¬íŒ©í† ë§ í›„ (Strategy íŒ¨í„´)

```python
class PricingStrategy:
    def calculate(self, amount): pass

class ProductA(PricingStrategy):
    def calculate(self, amount): return amount * 100

class ProductB(PricingStrategy):
    def calculate(self, amount): return amount * 80

class ProductC(PricingStrategy):
    def calculate(self, amount): return amount * 120

class PriceCalculator:
    def __init__(self, strategy: PricingStrategy):
        self.strategy = strategy

    def calculate(self, amount):
        return self.strategy.calculate(amount)

# ì‚¬ìš© ì˜ˆì‹œ
calc = PriceCalculator(ProductA())
print(calc.calculate(5))  # 500
```

### ğŸ’¡ ì¥ì 

- ìƒˆë¡œìš´ ìƒí’ˆì´ ìƒê²¨ë„ ê¸°ì¡´ ì½”ë“œë¥¼ **ìˆ˜ì •í•  í•„ìš” ì—†ìŒ**
- ê° ì „ëµì´ ë…ë¦½ì  â†’ í…ŒìŠ¤íŠ¸/ê´€ë¦¬ ì‰¬ì›€

---

## 2ï¸âƒ£ ì „ì—­ ì¸ìŠ¤í„´ìŠ¤ ë‚¨ìš© â†’ **Singleton íŒ¨í„´**ìœ¼ë¡œ ë¦¬íŒ©í† ë§

### âœ… ë¦¬íŒ©í† ë§ ì „

```python
config = {"env": "production"}

def get_config():
    return config
```

- ì–´ë””ì„œë“  ë³€ê²½ ê°€ëŠ¥ â†’ ì¶”ì  ì–´ë ¤ì›€
- ì˜ì¡´ì„± ëª…ì‹œ ì—†ìŒ â†’ í…ŒìŠ¤íŠ¸ ì‹œ ëª¨í‚¹ ì–´ë ¤ì›€

---

### âœ… ë¦¬íŒ©í† ë§ í›„ (Singleton íŒ¨í„´)

```python
class Config:
    _instance = None

    def __new__(cls):
        if not cls._instance:
            cls._instance = super().__new__(cls)
            cls._instance.env = "production"
        return cls._instance

# ì‚¬ìš©
cfg = Config()
print(cfg.env)
```

### ğŸ’¡ ì¥ì 

- ì „ì—­ ì ‘ê·¼ì€ ê°€ëŠ¥í•˜ì§€ë§Œ **í†µì œëœ ë°©ì‹**ìœ¼ë¡œ ê´€ë¦¬
- ìƒíƒœë¥¼ ê°€ì§€ëŠ” ì „ì—­ ê°ì²´ ê´€ë¦¬ì— ì í•©

---

## 3ï¸âƒ£ ë³µì¡í•œ ê°ì²´ ìƒì„± â†’ **Builder íŒ¨í„´**ìœ¼ë¡œ ë¦¬íŒ©í† ë§

### âœ… ë¦¬íŒ©í† ë§ ì „

```python
user = {
    "name": "Alice",
    "email": "alice@example.com",
    "address": "Seoul",
    "phone": None,
    "role": "admin"
}
```

- ì„ íƒì  ì¸ìê°€ ë§ì•„ì§ˆìˆ˜ë¡ ê´€ë¦¬ ë³µì¡
- ìƒì„±ì or dictë¡œëŠ” ê°€ë…ì„± ì €í•˜

---

### âœ… ë¦¬íŒ©í† ë§ í›„ (Builder íŒ¨í„´)

```python
class UserBuilder:
    def __init__(self):
        self.user = {}

    def set_name(self, name): self.user["name"] = name; return self
    def set_email(self, email): self.user["email"] = email; return self
    def set_address(self, address): self.user["address"] = address; return self
    def set_phone(self, phone): self.user["phone"] = phone; return self
    def set_role(self, role): self.user["role"] = role; return self
    def build(self): return self.user

# ì‚¬ìš©
user = (
    UserBuilder()
    .set_name("Alice")
    .set_email("alice@example.com")
    .set_role("admin")
    .build()
)
```

### ğŸ’¡ ì¥ì 

- í•„ìˆ˜/ì„ íƒ ì¸ìë¥¼ ëª…í™•íˆ êµ¬ë¶„
- ë©”ì„œë“œ ì²´ì´ë‹ìœ¼ë¡œ **ê°€ë…ì„± í–¥ìƒ**
- ë¶ˆë³€ ê°ì²´ ìƒì„±ì—ë„ ìœ ë¦¬

---

## 4ï¸âƒ£ ìƒíƒœ ì „í™˜ì„ ifë¡œ ì²˜ë¦¬ â†’ **State íŒ¨í„´**ìœ¼ë¡œ ë¦¬íŒ©í† ë§

### âœ… ë¦¬íŒ©í† ë§ ì „

```python
def get_discount(user_type):
    if user_type == "guest":
        return 0
    elif user_type == "member":
        return 10
    elif user_type == "vip":
        return 20
```

- user_typeì´ ëŠ˜ì–´ë‚˜ë©´ ì¡°ê±´ë¬¸ ì¦ê°€
- ì¤‘ë³µ ë¡œì§ ê°€ëŠ¥ì„±

---

### âœ… ë¦¬íŒ©í† ë§ í›„ (State íŒ¨í„´)

```python
class UserState:
    def get_discount(self): pass

class Guest(UserState):
    def get_discount(self): return 0

class Member(UserState):
    def get_discount(self): return 10

class VIP(UserState):
    def get_discount(self): return 20

# ì‚¬ìš©
user = VIP()
print(user.get_discount())  # 20
```

### ğŸ’¡ ì¥ì 

- **ìƒíƒœ ê°ì²´ ê°„ ì „í™˜ë„ êµ¬í˜„ ê°€ëŠ¥**
- ê° ìƒíƒœë¥¼ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬ â†’ ì‘ì§‘ë„ ì¦ê°€

---

## âœ… ë§ˆë¬´ë¦¬ ìš”ì•½

| ë¦¬íŒ©í† ë§ ì „ ë¬¸ì œ | ì‚¬ìš©ëœ íŒ¨í„´ | ê¸°ëŒ€ íš¨ê³¼ |
|------------------|--------------|-------------|
| ì¡°ê±´ë¬¸ ë‚¨ë°œ | Strategy | OCP ì¤€ìˆ˜, í™•ì¥ì„± í–¥ìƒ |
| ì „ì—­ ê°ì²´ | Singleton | ì „ì—­ ê´€ë¦¬ ì•ˆì „í™” |
| ë³µì¡í•œ ìƒì„±ì | Builder | ê°€ë…ì„±, ìœ ì—°í•œ ê°ì²´ ìƒì„± |
| ìƒíƒœ ë¶„ê¸°ë¬¸ | State | ëª…í™•í•œ ìƒíƒœ ì „ì´ ëª¨ë¸ë§ |

ë””ìì¸ íŒ¨í„´ì€ ë‹¨ìˆœíˆ ì´ë¡ ì´ ì•„ë‹ˆë¼  
**ì‹¤ì œ ì½”ë“œì—ì„œ ë§ˆì£¼ì¹˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì‹¤ìš©ì ì¸ ë„êµ¬**ì…ë‹ˆë‹¤.

---

## âœ¨ ë³´ë„ˆìŠ¤: ë¦¬íŒ©í† ë§ ê°€ì´ë“œ

- ì¡°ê±´ë¬¸ì´ ëŠ˜ì–´ë‚˜ë©´ â†’ `Strategy` / `State`
- ë™ì¼í•œ ê°ì²´ë¥¼ ë°˜ë³µ ìƒì„±í•˜ë©´ â†’ `Factory` / `Prototype`
- ìƒì„±ìê°€ ë„ˆë¬´ ë³µì¡í•˜ë©´ â†’ `Builder`
- ì „ì—­ ê°ì²´ê°€ ë§ë‹¤ë©´ â†’ `Singleton` + `DI`
- ê°ì²´ ê°„ í†µì‹ ì´ ë³µì¡í•˜ë©´ â†’ `Observer`, `Mediator`, `Command`