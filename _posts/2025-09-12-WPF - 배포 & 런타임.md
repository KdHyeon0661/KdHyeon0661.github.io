---
layout: post
title: WPF - 배포 & 런타임
date: 2025-09-12 15:25:23 +0900
category: WPF
---
# 🚀 WPF 배포 & 런타임 전략 끝장 가이드
**주제:**
1) **ClickOnce 배포**
2) **.NET Core / .NET 5+에서의 WPF** (WindowsDesktop SDK)
3) **단일 실행 파일(Single-file) / Self-contained 배포**

> 실무 기준으로 “누락 없이” 정리했습니다. Visual Studio, `dotnet` CLI, `csproj` 예제, 서명/업데이트/서버 배포, 런타임 식별자(RID), 트리밍/ReadyToRun, ARM64, 제한사항, 문제 해결까지 모두 포함합니다.

---

## 0. 큰 그림: 배포 선택지 맵

- **ClickOnce**
  - 간편 자동 업데이트/증분 배포, 설치 권한 낮음(Per-user), 롤백 쉬움
  - 웹/파일 공유/UNC에서 배포 & 자동 업데이트 채널
  - 엔터프라이즈(사내망)에서 특히 유리
- **MSI/MSIX** (참고)
  - MSI(예: WiX Toolset) — 정통 설치 관리자(레지스트리/서비스/드라이버 등)
  - MSIX — 현대식 패키징/샌드박스/업데이트, 스토어/사내 배포 적합
- **단일 실행 파일 / Self-contained**
  - .NET 런타임 동봉, 이식성 높음(대상 PC에 .NET 불필요)
  - `PublishSingleFile`, `SelfContained`, `RuntimeIdentifier` 조합
  - 업데이트/배포는 자체적으로(ClickOnce/필요 시 다른 메커니즘과 결합 가능)

이 문서의 중심은 **ClickOnce**와 **Self-contained/Single-file**이며, **WPF on .NET 5+**의 필수 설정을 중간에 정리합니다.

---

# 1. .NET Core / .NET 5+에서의 WPF

## 1.1 프로젝트 기본 형태

### csproj 기본
```xml
<Project Sdk="Microsoft.NET.Sdk.WindowsDesktop">
  <PropertyGroup>
    <OutputType>WinExe</OutputType>
    <TargetFramework>net8.0-windows</TargetFramework>
    <UseWPF>true</UseWPF>

    <!-- (권장) 명시적 Windows TFM: 최소 OS 기능 타겟이 필요하면 버전 지정 -->
    <!-- <TargetFramework>net8.0-windows10.0.19041.0</TargetFramework> -->

    <!-- DPI 인식, High DPI 텍스트 선명도 등은 app.manifest에서 설정 -->
  </PropertyGroup>
</Project>
```

### Program/Main
```csharp
// .NET 5+ WPF도 App.xaml/Application을 사용(WinForms 처럼 top-level Program은 선택).
// App.xaml.cs에서 Startup 처리: Host/DI 등록 등 현대화 가능.
```

### App.xaml (예)
```xml
<Application x:Class="MyApp.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             StartupUri="MainWindow.xaml">
  <Application.Resources/>
</Application>
```

### app.manifest 주요 포인트
```xml
<!-- UAC 권한, DPI 인식, OS 호환성 선언 -->
<requestedExecutionLevel level="asInvoker" uiAccess="false" />
<!-- Per Monitor v2 DPI Awareness 등 필요 시 스위치 -->
```

## 1.2 런타임 식별자(RID) & 플랫폼 타겟
- `win-x64`, `win-x86`, `win-arm64` 등
- **ARM64** 배포는 `RuntimeIdentifier`를 ARM64로 별도 publish
- AnyCPU 빌드라도 **Self-contained**/단일파일 배포 시에는 **RID 필수**

```xml
<PropertyGroup>
  <RuntimeIdentifier>win-x64</RuntimeIdentifier>
  <!-- 멀티 RID는 RuntimeIdentifiers (복수 콤마) -->
</PropertyGroup>
```

## 1.3 WPF + .NET 5+ 특징/이점
- **WindowsDesktop SDK**(WPF/WinForms 포함)
- 최신 C#/JIT/GC/성능/Diagnostics 개선
- **ReadyToRun**(사전 JIT) 지원
- **Single-file**/Self-contained 지원(아래 3장에서 자세히)

> **NativeAOT**: 현재 WPF는 NativeAOT 대상이 아닙니다(WinUI/콘솔 일부와 다름). WPF는 JIT/Reflection/COM/Win32 interop 기반.

---

# 2. ClickOnce 배포 (WPF on .NET 5+ 포함)

## 2.1 언제 ClickOnce?
- 사용자/현장 PC에 **관리자 권한 없이** 배포 & 자동 업데이트가 필요할 때
- **사내망/내부 웹 서버/파일 공유** 등에서 손쉽게 채널을 운영할 때
- 앱이 **Per-user** 설치에 적합할 때(레지스트리/서비스 설치 등 고급 설치는 적합하지 않음)

## 2.2 Visual Studio로 ClickOnce 설정(요약)
1. **프로젝트 속성** → **Publish** → **ClickOnce** 선택
2. **설치 모드**: 온라인 전용 vs 오프라인 가능(바탕화면/시작 메뉴에 설치)
3. **게시 대상**:
   - **웹**(HTTP/HTTPS) — 웹 서버에 파일 복사
   - **파일 공유**(SMB/UNC)
   - **로컬 폴더** — 이후 외부로 복사/배포
4. **자동 업데이트**: 앱 시작 시 업데이트 확인(채널 URL 지정)
5. **서명(Signing)**: **배포 매니페스트 서명**(인증서), 타임스탬프 서버 설정
6. **필수 구성 요소**(.NET Desktop Runtime 등 — .NET 5+ 부터는 Self-contained가 아니면 런타임 사전 설치 필요)

> VS 2019/2022의 **ClickOnce Publish Profile**을 함께 쓰면 이후 빌드 자동화가 쉬워집니다.

## 2.3 .NET 5+ 프로젝트에서 ClickOnce (csproj / CLI)

### csproj 예시(필수 속성만)
```xml
<PropertyGroup>
  <TargetFramework>net8.0-windows</TargetFramework>
  <UseWPF>true</UseWPF>

  <!-- ClickOnce용 PublishSingleFile/SelfContained는 선택(가능).
       전통적으로 ClickOnce는 Framework Dependent였지만 .NET 5+에서는 Self-contained도 가능 -->
  <!-- SelfContained>true</SelfContained> -->
  <!-- PublishSingleFile>false</PublishSingleFile>  (ClickOnce는 다중 파일 배포가 일반적) -->

  <GenerateManifests>true</GenerateManifests>
  <PublishProtocol>ClickOnce</PublishProtocol>
  <PublishDir>$(MSBuildProjectDirectory)\publish\clickonce\</PublishDir>
  <Install>true</Install>                        <!-- 오프라인 설치 -->
  <CreateDesktopShortcut>true</CreateDesktopShortcut>
  <PublisherName>My Company</PublisherName>
  <ProductName>My WPF App</ProductName>
  <ApplicationRevision>1</ApplicationRevision>
  <ApplicationVersion>1.0.0.*</ApplicationVersion> <!-- *: 자동 증가 -->
  <UpdateEnabled>true</UpdateEnabled>
  <UpdateMode>Foreground</UpdateMode>            <!-- 앱 시작 시 업데이트 확인 -->
  <UpdateInterval>1</UpdateInterval>
  <UpdateIntervalUnits>Days</UpdateIntervalUnits>
  <UpdateUrl>https://intranet.example.com/app/</UpdateUrl> <!-- 게시 위치(매니페스트/파일) -->
</PropertyGroup>
```

### CLI로 게시
```bash
# PublishProfile(예: Properties\PublishProfiles\ClickOnceProfile.pubxml) 사용
dotnet publish -c Release /p:PublishProfile=ClickOnceProfile

# 또는 csproj 속성 기반
dotnet publish -c Release
```

> **팁**: 배포 디렉터리(`PublishDir`)를 웹 서버/파일 공유 루트와 맞추거나, CI에서 게시물 업로드/미러링 스텝을 추가하세요.

## 2.4 서명(Signing)
- **배포 매니페스트**(ClickOnce manifest)는 **인증서로 서명**하여 무결성/신뢰 보장
- 자체 서명(개발/테스트) vs 공인 코드 서명 인증서(운영 권장)
- 인증서 만료/교체 시 **신뢰 경고**가 바뀔 수 있으므로 **타임스탬프 서버** 설정 권장

VS UI 또는 `csproj`:
```xml
<PropertyGroup>
  <ManifestCertificateThumbprint>‎‎0011223344AABBCCDDEEFF...</ManifestCertificateThumbprint>
  <ManifestCertificateStoreName>My</ManifestCertificateStoreName>
  <ManifestTimestampUrl>http://timestamp.digicert.com</ManifestTimestampUrl>
</PropertyGroup>
```

## 2.5 자동 업데이트/롤백
- 업데이트 채널(URL/UNC)을 지정하면 앱 시작 시 **Manifest 비교** → 새 버전 다운로드 후 설치
- 문제가 생기면 **이전 버전으로 롤백** 선택 가능(ClickOnce 캐시 보관)
- 증분 배포: 변경 파일만 전송

## 2.6 프록시/인증/오프라인
- 사내망 프록시/인증 환경에서는 **ClickOnce 다운로드가 차단**될 수 있음 → 네트워크 팀과 **도메인 화이트리스트** 조율
- 오프라인 설치 모드면 최초 설치 후 **네트워크 없이 실행 가능**

## 2.7 데이터/설정 파일(업데이트에 안전하게)
- ClickOnce는 앱 파일을 **프로그램 캐시**에 두고 **Read-only**로 관리
- 사용자 데이터/설정은 **`ApplicationDeployment.CurrentDeployment.DataDirectory`** 또는 `%LOCALAPPDATA%` 하위 폴더에 저장
- `.config`/외부 Json 등 **사용자 수정 파일은 DataDirectory**로 둬야 업데이트 시 덮어쓰지 않음

```csharp
if (ApplicationDeployment.IsNetworkDeployed)
{
    var dataDir = ApplicationDeployment.CurrentDeployment.DataDirectory;
    var userJson = Path.Combine(dataDir, "user-settings.json");
}
```

## 2.8 ClickOnce + Self-contained 가능?
- .NET 5+부터 **가능**합니다.
- 단, **배포 크기 증가**(런타임 포함) / **업데이트 다운로드량 증가** 주의
- 보통 사내망이거나 런타임 설치가 번거로운 환경에서 고려

```xml
<PropertyGroup>
  <SelfContained>true</SelfContained>
  <RuntimeIdentifier>win-x64</RuntimeIdentifier>
</PropertyGroup>
```

## 2.9 흔한 문제 & 해결
| 문제 | 원인 | 해결 |
|---|---|---|
| 설치/업데이트 시 신뢰 경고 | 서명/인증서/게시 URL 신뢰 부족 | 공인 인증서 사용, 타임스탬프, 사내 배포 규정에 도메인 등록 |
| “구성 요소 없음(.NET)” | FDD(Framework Dependent)인데 대상 PC에 런타임 없음 | **Self-contained**로 배포하거나 런타임 사전 설치 |
| 업데이트 후 설정 초기화 | 앱 폴더에 쓰던 파일이 업데이트로 교체 | 데이터는 **DataDirectory/로밍 AppData**에 분리 |
| 파일 잠금/다운로드 실패 | 프록시/백신/권한 | 네트워크/보안 정책 조율, 예외(화이트리스트) 등록 |
| 웹서버에 올리면 클릭 시 404 | MIME/폴더 구조/파일 누락 | Publish 폴더 전체 업로드, `*.application`/`manifest` MIME 확인 |

---

# 3. 단일 실행 파일 / Self-contained 배포

## 3.1 개념 정리
- **Self-contained**: .NET 런타임을 앱에 동봉 → 대상 PC에 .NET 미설치여도 실행
- **Single-file**: 빌드 결과를 **단일 exe** 하나(또는 exe + 일부 파일)로 묶어 배포
  - .NET 6+: 기본 **single-file 내부에서 필요 파일을 앱 시작 시 임시 폴더로 압축 해제**(Self-extract)
  - Native/COM/리소스 등은 **외부 파일**로 남는 경우가 있음
- **Framework-dependent**(FDD): 대상 PC에 **런타임 설치 필요**, 앱은 가벼움

## 3.2 최소 설정(권장 값 주석 포함)

### csproj
```xml
<Project Sdk="Microsoft.NET.Sdk.WindowsDesktop">
  <PropertyGroup>
    <OutputType>WinExe</OutputType>
    <TargetFramework>net8.0-windows</TargetFramework>
    <UseWPF>true</UseWPF>

    <!-- Self-contained: 런타임 포함 -->
    <SelfContained>true</SelfContained>
    <RuntimeIdentifier>win-x64</RuntimeIdentifier>  <!-- win-arm64 등 타겟별로 별도 빌드 -->

    <!-- Single-file: 단일 실행 파일 -->
    <PublishSingleFile>true</PublishSingleFile>
    <IncludeAllContentForSelfExtract>true</IncludeAllContentForSelfExtract> <!-- 리소스/콘텐츠도 자체 추출 -->
    <EnableCompressionInSingleFile>true</EnableCompressionInSingleFile>     <!-- 압축(용량↓/시작 약간↑) -->

    <!-- (선택) ReadyToRun: 시작/첫 JIT 개선, 빌드/용량↑ -->
    <PublishReadyToRun>true</PublishReadyToRun>

    <!-- (신중) Trim: WPF는 리플렉션 의존이 많아 위험. 기본 false 권장 -->
    <PublishTrimmed>false</PublishTrimmed>
  </PropertyGroup>
</Project>
```

### CLI
```bash
# 릴리스 빌드 + 단일 실행 파일 + Self-contained
dotnet publish -c Release -r win-x64 --self-contained true /p:PublishSingleFile=true

# ReadyToRun 포함
dotnet publish -c Release -r win-x64 --self-contained true \
  /p:PublishSingleFile=true /p:PublishReadyToRun=true
```

> **트리밍 주의:** WPF/프레임워크 내부가 리플렉션/동적 로딩이 많아 **Trim 위험**이 큽니다.
> 특정 어셈블리만 Trimming 제어하려면 `TrimmerRootDescriptor`/`DynamicallyAccessedMembers` 특성을 정교하게 설정해야 합니다.
> **일반 WPF 앱은 `PublishTrimmed=false` 권장.**

## 3.3 Single-file 제약/알아둘 점
- **Native/COM 의존** DLL은 **외부 파일 유지**될 수 있음(또는 추출 후 로드).
- 실행 시 **임시 폴더 추출**: 경로 의존 코드가 있다면 `AppContext.BaseDirectory` 사용 권장.
- 스캐너/백신이 **압축 해제 동작**을 느리게 만들 수 있음 → 대기업 환경에서 화이트리스트 필요할 수 있음.
- 첫 실행 시 느리면 **ReadyToRun**로 개선 가능(용량↑ 빌드↑).

## 3.4 다중 아키텍처 빌드(예: x64 + arm64)
- 서로 다른 RID로 **별도 publish**
- 아웃풋 폴더 구분(`publish\win-x64`, `publish\win-arm64`)
- 배포 파이프라인에서 **플랫폼 자동 감지**/다운로드(업데이트 서버) 구성 가능

### 멀티 RID 예 (CI에서 매트릭스)
```bash
dotnet publish -c Release -r win-x64 --self-contained true /p:PublishSingleFile=true
dotnet publish -c Release -r win-arm64 --self-contained true /p:PublishSingleFile=true
```

## 3.5 ClickOnce 없이 “그냥 배포”
- Zip로 압축 → 사내 포털/전자결재 시스템으로 배포
- 사내 자동 업데이트(예: 자체 런처) 구현
- Winget/Chocolatey 사내 리포지토리로 배포

> 자동 업데이트가 필요하면 **ClickOnce 또는 MSIX/업데이트 런처**를 고민.

---

# 4. 실전 예제 — 세 가지 방식 비교

## 4.1 ClickOnce (FDD, 작은 크기)
```xml
<PropertyGroup>
  <TargetFramework>net8.0-windows</TargetFramework>
  <UseWPF>true</UseWPF>

  <PublishProtocol>ClickOnce</PublishProtocol>
  <GenerateManifests>true</GenerateManifests>
  <Install>true</Install>
  <UpdateEnabled>true</UpdateEnabled>
  <UpdateUrl>https://deploy.mycorp.local/myapp/</UpdateUrl>

  <!-- FDD: 런타임 미포함, 대상 PC에 .NET Desktop Runtime 필요 -->
  <SelfContained>false</SelfContained>
</PropertyGroup>
```

## 4.2 ClickOnce (Self-contained, 런타임 포함)
```xml
<PropertyGroup>
  <PublishProtocol>ClickOnce</PublishProtocol>
  <GenerateManifests>true</GenerateManifests>
  <Install>true</Install>
  <UpdateEnabled>true</UpdateEnabled>
  <UpdateUrl>https://deploy.mycorp.local/myapp/</UpdateUrl>

  <SelfContained>true</SelfContained>
  <RuntimeIdentifier>win-x64</RuntimeIdentifier>
  <PublishSingleFile>false</PublishSingleFile> <!-- ClickOnce는 다중파일 배포가 통상적 -->
</PropertyGroup>
```

## 4.3 단일 실행 파일 (Self-contained, ClickOnce 미사용)
```xml
<PropertyGroup>
  <SelfContained>true</SelfContained>
  <RuntimeIdentifier>win-x64</RuntimeIdentifier>
  <PublishSingleFile>true</PublishSingleFile>
  <EnableCompressionInSingleFile>true</EnableCompressionInSingleFile>
  <PublishReadyToRun>true</PublishReadyToRun>
  <PublishTrimmed>false</PublishTrimmed>
</PropertyGroup>
```

---

# 5. 보안/서명/신뢰

- **코드 서명(Authenticode)**: exe/dll 서명은 SmartScreen/AV/EDR 환경에서 신뢰 향상
- **ClickOnce 서명**: 배포 매니페스트 인증서
- 사내 AD/그룹 정책에서 **신뢰할 수 있는 게시자** 등록
- **타임스탬프**: 인증서 만료 후에도 서명 시점 신뢰 유지

---

# 6. 업데이트 전략

- **ClickOnce**: 시작 시 자동 확인, 증분/롤백
- **단일 실행 파일**:
  - 앱 내 업데이트 체크(REST/JSON: 최신 버전/다운로드 URL)
  - 배포 서버에서 **SHA256** 제공 → 다운로드 후 검증, 원자적 교체(기존 exe 잠금 주의)
  - 런처(업데이트 관리자) 별도 프로세스로 교체 수행

---

# 7. WPF 특화 체크리스트(.NET 5+)

- **High DPI**: app.manifest에서 `PerMonitorV2` DPI 인식, WPF 설정(`EnableMultiMonitorHighDpi` 등)
- **Win10+ 기능**: TFM에 OS 버전 명시 시 API 접근(컴파일 타임 가드)
- **ICU 글로벌라이제이션**: .NET 7+ Windows의 ICU/Globalization 설정은 기본 OS 의존
- **Native/COM**: P/Invoke DLL은 **출력 디렉터리 복사**(`CopyToOutputDirectory`)
- **ReadyToRun/단일파일**: 로딩 경로/리소스 접근은 `AppContext.BaseDirectory` 사용

---

# 8. 문제 해결(FAQ)

**Q1. 단일 파일인데 옆에 파일이 많이 생겨요.**
A: 네이티브/리소스/COM/프레임워크 제약으로 **외부 파일**이 필요할 수 있습니다. 완전 단일화를 원하면
의존 라이브러리를 줄이고, `IncludeAllContentForSelfExtract`로 최대한 추출/로딩하게 만들되, 100% 단일은 어려울 수 있습니다.

**Q2. 첫 실행이 느린데요?**
A: `PublishReadyToRun=true`, `EnableCompressionInSingleFile=true`(압축은 이득/손해 케이스 측정 필요).
백신 제외/화이트리스트도 영향이 큼.

**Q3. 트리밍 해도 되나요?**
A: **WPF는 권장하지 않음**. 리플렉션/바인딩 동적 접근이 많아 런타임 오류 위험.

**Q4. ClickOnce에서 환경설정 파일이 업데이트 때마다 초기화됩니다.**
A: 앱 폴더가 아닌 **DataDirectory/로밍 AppData**에 저장 경로를 변경하세요.

**Q5. ARM64도 지원하고 싶어요.**
A: `-r win-arm64`로 별도 publish. 설치 페이지에서 아키텍처 선택 UX 제공.

---

# 9. CI/CD 예시 스니펫 (GitHub Actions)

```yaml
name: publish-wpf
on:
  push:
    tags:
      - 'v*'

jobs:
  publish:
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v4
    - name: Setup .NET
      uses: actions/setup-dotnet@v4
      with:
        dotnet-version: '8.0.x'
    - name: Restore
      run: dotnet restore MyApp.sln
    - name: Publish (Single-file, x64)
      run: dotnet publish src/MyApp/MyApp.csproj -c Release -r win-x64 --self-contained true /p:PublishSingleFile=true
    - name: Publish (Single-file, ARM64)
      run: dotnet publish src/MyApp/MyApp.csproj -c Release -r win-arm64 --self-contained true /p:PublishSingleFile=true
    - name: Upload artifacts
      uses: actions/upload-artifact@v4
      with:
        name: packages
        path: |
          src/MyApp/bin/Release/net8.0-windows/win-x64/publish/**
          src/MyApp/bin/Release/net8.0-windows/win-arm64/publish/**
```

---

# 10. “붙여넣어 바로 쓰는” PublishProfiles

## 10.1 ClickOnce (파일 공유 게시)
`Properties\PublishProfiles\ClickOnceFileShare.pubxml`
```xml
<Project>
  <PropertyGroup>
    <PublishProtocol>ClickOnce</PublishProtocol>
    <Configuration>Release</Configuration>
    <Platform>AnyCPU</Platform>
    <TargetFramework>net8.0-windows</TargetFramework>
    <PublishDir>\\fileserver\deploy\MyApp\</PublishDir>
    <Install>true</Install>
    <UpdateEnabled>true</UpdateEnabled>
    <UpdateUrl>\\fileserver\deploy\MyApp\</UpdateUrl>
    <PublisherName>My Company</PublisherName>
    <ProductName>My WPF App</ProductName>
    <CreateDesktopShortcut>true</CreateDesktopShortcut>
    <ApplicationVersion>1.0.0.*</ApplicationVersion>
  </PropertyGroup>
</Project>
```

CLI:
```bash
dotnet publish /p:PublishProfile=ClickOnceFileShare
```

## 10.2 Single-file Self-contained (폴더)
`Properties\PublishProfiles\SingleFile.win-x64.pubxml`
```xml
<Project>
  <PropertyGroup>
    <Configuration>Release</Configuration>
    <TargetFramework>net8.0-windows</TargetFramework>
    <RuntimeIdentifier>win-x64</RuntimeIdentifier>
    <SelfContained>true</SelfContained>
    <PublishSingleFile>true</PublishSingleFile>
    <PublishReadyToRun>true</PublishReadyToRun>
    <PublishDir>$(MSBuildThisFileDirectory)..\..\artifacts\win-x64\</PublishDir>
  </PropertyGroup>
</Project>
```

---

# 11. 운영 팁

- **버전 관리**: 파일/ClickOnce/런처 모두 **Semantic Versioning** 일관 유지
- **릴리스 노트**: 앱 내부 “업데이트 확인” 대화상자에 릴리스 노트 링크/요약
- **진단**: 크래시/로그 수집(Serilog, EventSource), 사용자 환경 정보(OS/CPU/메모리/런타임)
- **용량 관리**: 단일 파일 압축/리소스 최적화/이미지 포맷(WebP/AVIF 디코더 유무 확인)
- **배포 테스트**: 깨끗한 VM(런타임 없음) / 프록시/EDR 켜진 사내환경 / 느린 네트워크 시뮬레이션

---

# 12. 체크리스트 요약

**ClickOnce**
- [ ] PublishProfile 구성(설치 모드/업데이트 URL)
- [ ] 배포 매니페스트 **서명 + 타임스탬프**
- [ ] 데이터/설정은 **DataDirectory/AppData**
- [ ] 사내망 프록시/화이트리스트 확인
- [ ] FDD vs Self-contained 선택

**WPF on .NET 5+**
- [ ] `Microsoft.NET.Sdk.WindowsDesktop` + `<UseWPF>true</UseWPF>`
- [ ] TFM: `netX.Y-windows`(+ OS 버전 필요 시 명시)
- [ ] RID/플랫폼 타겟 정리(x64/arm64)
- [ ] High DPI/Manifest 정리

**Single-file / Self-contained**
- [ ] `<SelfContained>true</SelfContained>` + `<RuntimeIdentifier>`
- [ ] `<PublishSingleFile>true</PublishSingleFile>`
- [ ] ReadyToRun(선택) / Trim(일반 WPF는 **비권장**)
- [ ] Native/COM 의존 파일 경로/복사 검토
- [ ] 첫 실행 속도/백신 영향 테스트

---

## 마무리

- **ClickOnce**는 “간편 설치 + 자동 업데이트 + 롤백”이 필요한 **사내/현장 배포**에서 여전히 강력합니다.
- **.NET 5+ WPF**는 최신 런타임 개선을 누리면서도 **WindowsDesktop SDK**로 기존 XAML 생태계를 유지합니다.
- **Self-contained + Single-file**은 **런타임 미설치 환경**을 겨냥한 **가장 휴대성 높은** 배포 방식입니다.
