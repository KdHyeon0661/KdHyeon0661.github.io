---
layout: post
title: 디자인패턴 - Facade
date: 2025-06-20 22:20:23 +0900
category: 디자인패턴
---
# Facade (퍼사드 패턴)

## ✅ 정의

**퍼사드 패턴(Facade Pattern)**은 복잡한 서브시스템들의 집합에 대해 **단순한 인터페이스**를 제공함으로써,  
외부 클라이언트가 서브시스템 내부 구조를 몰라도 쉽게 사용할 수 있도록 만드는 **구조 패턴(Structural Pattern)**입니다.

> “복잡한 시스템에 대한 간단한 출입구(Facade)를 만들어준다.”

---

## 🎯 의도 (Intent)

- **복잡한 시스템을 단순화**하여, 사용자가 쉽게 접근하고 사용할 수 있도록 한다.
- 여러 개의 객체나 클래스를 조합한 복잡한 인터페이스를, **간단한 인터페이스 하나로 감싸서 제공**한다.

---

## 📦 구조 (UML)

```
┌─────────────┐
│   Client    │
└─────┬───────┘
      │
      ▼
┌─────────────┐         ┌────────────┐
│   Facade    │◄───────▶│ SubSystemA │
└─────────────┘         └────────────┘
      │                 ┌────────────┐
      └────────────────▶│ SubSystemB │
                        └────────────┘
                          ...
```

- **Client**: 퍼사드를 사용하는 사용자
- **Facade**: 클라이언트와 서브시스템 사이의 단순한 인터페이스 제공
- **SubSystems**: 복잡한 내부 구성 요소들

---

## 🧑‍💻 구현 예시 (Python)

```python
# 복잡한 서브시스템
class CPU:
    def freeze(self):
        print("CPU: 동작 멈춤")

    def jump(self, position):
        print(f"CPU: {position} 위치로 점프")

    def execute(self):
        print("CPU: 명령어 실행")

class Memory:
    def load(self, position, data):
        print(f"Memory: {position} 위치에 {data} 로드")

class HardDrive:
    def read(self, sector):
        print(f"HardDrive: {sector} 섹터 읽기")
        return "OS 부트로더"

# 퍼사드 클래스
class Computer:
    def __init__(self):
        self.cpu = CPU()
        self.memory = Memory()
        self.hard_drive = HardDrive()

    def start_computer(self):
        print("[컴퓨터 부팅 시작]")
        self.cpu.freeze()
        boot_data = self.hard_drive.read(100)
        self.memory.load(0, boot_data)
        self.cpu.jump(0)
        self.cpu.execute()
        print("[컴퓨터 부팅 완료]")

# 클라이언트
computer = Computer()
computer.start_computer()
```

**출력:**
```
[컴퓨터 부팅 시작]
CPU: 동작 멈춤
HardDrive: 100 섹터 읽기
Memory: 0 위치에 OS 부트로더 로드
CPU: 0 위치로 점프
CPU: 명령어 실행
[컴퓨터 부팅 완료]
```

---

## ✅ 장점

- 복잡한 시스템을 **단순한 인터페이스**로 추상화
- 클라이언트는 서브시스템 내부 구현을 몰라도 됨 (캡슐화)
- **결합도를 낮추고 유지보수를 용이**하게 함
- 시스템 초기화, 작업 흐름 자동화 등에 유리

---

## ⚠️ 단점

- 퍼사드가 너무 많은 기능을 가지면 **모놀리식(monolithic)** 구조가 될 수 있음
- 서브시스템에 대한 세부 제어가 어려워질 수 있음
- 퍼사드를 무분별하게 도입하면, 코드 중복 또는 관리 대상 증가 우려

---

## 📌 사용 사례

| 사례 | 설명 |
|------|------|
| **Spring의 JdbcTemplate** | JDBC 처리 과정을 간단하게 감싼 퍼사드 |
| **웹 프레임워크의 컨트롤러** | 여러 서비스 호출을 하나의 진입점으로 묶음 |
| **미디어 플레이어** | 디코더, 버퍼, 렌더러 등을 퍼사드로 감쌈 |
| **컴퓨터 전원 버튼** | 전원, 부트, 메모리 로드 등 복잡한 과정을 하나의 인터페이스로 묶음 |
| **빌더와 함께 사용** | 빌더 내부에서 퍼사드를 통해 객체 조합을 단순화 |

---

## 🧠 Facade vs Mediator vs Adapter

| 패턴       | 목적 | 관계 중심 | 외부 노출 여부 |
|------------|------|-----------|----------------|
| **Facade**   | 단순화 | 외부 → 내부 | 내부를 감추고 단순화 |
| **Mediator** | 중재자 | 객체 ↔ 객체 | 서로 간의 상호작용을 중앙 집중화 |
| **Adapter**  | 인터페이스 변환 | 외부 ↔ 외부 | 기존 인터페이스를 변환하여 호환성 제공 |

---

## 🧠 마무리

**퍼사드 패턴**은 복잡한 서브시스템을 외부에서 쉽게 사용할 수 있도록 **간단한 인터페이스를 제공**하는 매우 실용적인 패턴입니다.  
특히 **초기화, 설정, 프로세스 실행, API 조합** 등 여러 객체가 복합적으로 작동하는 시스템에서 큰 효과를 발휘합니다.

단, 너무 많은 책임이 퍼사드에 집중되지 않도록 **단일 책임 원칙(SRP)**을 함께 고려하는 것이 중요합니다.
