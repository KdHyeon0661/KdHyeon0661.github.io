---
layout: post
title: JavaScript - ë””ë²„ê¹… ë° ì„±ëŠ¥ ì¸¡ì •
date: 2025-05-27 22:20:23 +0900
category: JavaScript
---
# ë””ë²„ê¹… ë° ì„±ëŠ¥ ì¸¡ì • (Debugging & Performance Analysis)

## 1. ë””ë²„ê¹…ì˜ ëª©ì ê³¼ 6-ë‹¨ê³„ ë£¨í‹´

> ë””ë²„ê¹…ì€ **ì´ìƒ ì§•í›„(ë²„ê·¸/ì§€ì—°/ë©”ëª¨ë¦¬ ì¦ê°€)**ì˜ ì›ì¸ì„ ì¶”ì Â·ê²©ë¦¬Â·ìˆ˜ì •í•˜ê¸° ìœ„í•œ ì²´ê³„ì  í™œë™ì…ë‹ˆë‹¤.

1. **ê°€ì„¤ ì„¸ìš°ê¸°**: ì–´ë””ì„œ, ì–¸ì œ, ë¬´ì—‡ì„ í•  ë•Œ ë¬¸ì œê°€ í„°ì§€ëŠ”ê°€?
2. **ì¬í˜„ ìŠ¤í¬ë¦½íŠ¸**: ê°€ì¥ ì§§ì€ ì¬í˜„ ì ˆì°¨ë¥¼ ë§Œë“ ë‹¤ (ì…ë ¥Â·í´ë¦­Â·ë¼ìš°íŒ… ë“±).
3. **ê´€ì¸¡ í¬ì¸íŠ¸ ë°°ì¹˜**: ë¡œê·¸/ì¤‘ë‹¨ì /íƒ€ì´ë¨¸/ë„¤íŠ¸ì›Œí¬/ë©”ëª¨ë¦¬ ìŠ¤ëƒ…ìƒ·.
4. **ë¶„í•´**: ì´ì§„ íƒìƒ‰(ì½”ë“œ ë¸”ë¡ ë¹„í™œì„±)Â·íŠ¹ì • í”Œë˜ê·¸ë¡œ ë²”ìœ„ë¥¼ ì¤„ì¸ë‹¤.
5. **ìˆ˜ë¦¬**: ë³€ê²½ ë²”ìœ„ë¥¼ ìµœì†Œí™” â†’ íšŒê·€ í…ŒìŠ¤íŠ¸ ì¶”ê°€.
6. **íšŒê·€ ë°©ì§€**: ìœ ë‹›/í†µí•© í…ŒìŠ¤íŠ¸, ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§, ì•Œë¦¼.

---

## 2. ë¸Œë¼ìš°ì € DevToolsë¡œ ì†ŒìŠ¤ ë””ë²„ê¹…

### 2.1 Sources íƒ­ í•µì‹¬
- **ì¤‘ë‹¨ì (Breakpoint)**: ë¼ì¸ í´ë¦­, ì¡°ê±´ë¶€(ì˜ˆ: `x > 100 && flag`), DOM Breakpoint(íŠ¹ì • ë…¸ë“œ ë³€ê²½ ì‹œ), XHR/Fetch Breakpoint(íŠ¹ì • URL í¬í•¨ ì‹œ).
- **Step over/into/out**: í•¨ìˆ˜ ê²½ê³„ë¥¼ ë„˜ë‚˜ë“¤ë©° íë¦„ ì¶”ì .
- **Call Stack / Scope / Watch**: í˜„ì¬ í”„ë ˆì„ ë³€ìˆ˜ì™€ í´ë¡œì € ìº¡ì²˜ ìƒíƒœ í™•ì¸.
- **Pause on exceptions**: ì²˜ë¦¬ë˜ì§€ ì•Šì€/ì²˜ë¦¬ëœ ì˜ˆì™¸ì—ì„œ ë©ˆì¶¤.
- **Blackbox script**: ë¼ì´ë¸ŒëŸ¬ë¦¬ íŒŒì¼(react, vue ë“±) ìŠ¤íƒì—ì„œ ìˆ¨ê¹€.

#### ì˜ˆì‹œ: ì¡°ê±´ë¶€ ì¤‘ë‹¨ì 
```js
// ëª©ë¡ ì¤‘ íŠ¹ì • ì•„ì´í…œë§Œ ë¹„ì •ìƒì¼ ë•Œ
items.forEach((it, i) => {
  // DevTools â†’ ë¼ì¸ì— ì¡°ê±´ë¶€ ì¤‘ë‹¨ì : i === 42 && it.status === 'BROKEN'
  process(it);
});
```

### 2.2 `debugger` í‚¤ì›Œë“œë¡œ ëª…ì‹œì  ì¤‘ë‹¨
```js
function greet(name) {
  const message = `Hello, ${name}`;
  debugger;                // DevTools ì—´ë ¤ ìˆìœ¼ë©´ ì´ ì¤„ì—ì„œ ë©ˆì¶¤
  return message;
}
```

### 2.3 ì½˜ì†” ìƒí˜¸ì‘ìš© & ë¼ì´ë¸Œ ìˆ˜ì •
- **Command Menu**: `Ctrl/Cmd + Shift + P` â†’ â€œBlackboxâ€, â€œQuick sourceâ€, â€œCoverageâ€ ë“±.
- **Live Edit**: ì†ŒìŠ¤ íƒ­ì—ì„œ ì¦‰ì‹œ ìˆ˜ì • í›„ ì¬ì‹¤í–‰(ê°œë°œ í™˜ê²½ì—ì„œë§Œ ê¶Œì¥).

---

## 3. ì½˜ì†”(Logging) í™œìš© ê³ ê¸‰ íŒ¨í„´

| API | ìš©ë„ |
|---|---|
| `console.log/info/warn/error` | ìˆ˜ìœ„ë³„ ë©”ì‹œì§€ |
| `console.table(obj[])` | ë°°ì—´Â·ê°ì²´ë¥¼ í‘œë¡œ |
| `console.groupCollapsed()/groupEnd()` | ì„¹ì…˜í™” |
| `console.time(label)/timeEnd(label)` | êµ¬ê°„ ì‹œê°„ ì¸¡ì • |
| `console.trace()` | í˜¸ì¶œ ìŠ¤íƒ ë¤í”„ |
| `%c ìŠ¤íƒ€ì¼` | ì‹œê°ì  êµ¬ë¶„ |

#### ì˜ˆì‹œ: ì„¹ì…˜Â·ì‹œê°„Â·í…Œì´ë¸”
```js
console.groupCollapsed('%cFetch Profile','color:#fff;background:#0a6;padding:2px 6px');
console.time('fetch-profile');
const res = await fetch('/api/profile');
const data = await res.json();
console.table([data]); // ì¸ë„¤ì¼ ì¡°íšŒìˆ˜Â·íŒ”ë¡œì›Œ ë“± êµ¬ì¡° ë³´ê¸°
console.timeEnd('fetch-profile');
console.groupEnd();
```

---

## 4. ë¹„ë™ê¸° ë””ë²„ê¹…(í”„ë¡œë¯¸ìŠ¤/ì´ë²¤íŠ¸ ë£¨í”„/ìŠ¤íƒ)

### 4.1 íŒ¨í„´
- ëª¨ë“  Promise ì²´ì¸ì€ **ë°˜ë“œì‹œ `.catch()`** ë˜ëŠ” `try/catch`ë¡œ ì¢…ë£Œ.
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ **ì—ëŸ¬ë¥¼ throw**í•˜ë©´ ìƒìœ„ë¡œ ì „íŒŒë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ â†’ ì¤‘ì•™ ë¡œê±°ì— ì „ë‹¬.

```js
window.addEventListener('unhandledrejection', (e) => {
  // ë„¤íŠ¸ì›Œí¬/ê¶Œí•œ ì—ëŸ¬ ë“± ë¯¸ì²˜ë¦¬ëœ Promise ì¶”ì 
  report(e.reason);
});
window.addEventListener('error', (e) => {
  report(e.error || e.message);
});
```

### 4.2 ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ vs ë§¤í¬ë¡œíƒœìŠ¤í¬
```js
console.log('A');
Promise.resolve().then(() => console.log('microtask'));
setTimeout(() => console.log('macrotask'), 0);
console.log('B');
// ì¶œë ¥: A, B, microtask, macrotask
```
- **ë Œë”ë§ íƒ€ì´ë°**ê³¼ ì´ë²¤íŠ¸ í•¸ë“¤/ë¹„ë™ê¸° ìˆœì„œë¥¼ ì´í•´í•˜ë©´ ê¹œë¹¡ì„Â·ì§€ì—° ì›ì¸ íŒŒì•…ì´ ì‰¬ì›Œì§‘ë‹ˆë‹¤.

---

## 5. ì„±ëŠ¥(Performance) í”„ë¡œíŒŒì¼ë§ â€” ë¸Œë¼ìš°ì €

### 5.1 Performance íƒ­ ì ˆì°¨
1. **Record** â†’ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í–‰ â†’ **Stop**.
2. **Summary**: Scripting/Rendering/Paint/Idle ë¹„ìœ¨ í™•ì¸.
3. **Flame Chart**: ì‹œê°„ì´ ë§ì´ ë“  í•¨ìˆ˜Â·ì½œìŠ¤íƒ íŒŒì•….
4. **Bottom-Up / Call Tree**: ëˆ„ì  ë¹„ìš©ì´ í° ë£¨í‹´ ì°¾ê¸°.
5. **Long Tasks(>50ms)**: ì…ë ¥ ì§€ì—°ì˜ ì£¼ë²”.

#### ì²´í¬ë¦¬ìŠ¤íŠ¸
- **ë ˆì´ì•„ì›ƒ ìŠ¤ë˜ì‹±**: JSê°€ `offsetWidth` ì½ê³  ê³§ë°”ë¡œ ìŠ¤íƒ€ì¼ ë³€ê²½ ë°˜ë³µ?
- **ê³¼í•œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬**: ìŠ¤í¬ë¡¤/ë¦¬ì‚¬ì´ì¦ˆì—ì„œ ë¬´ê±°ìš´ ì‘ì—…?
- **ìì£¼ ì“°ëŠ” ë™ê¸° XHR**? (ê¸ˆì§€)
- **í° JSON íŒŒì‹±/ëŒ€ëŸ‰ DOM ì‚½ì…**: Web Worker/DocumentFragment/virtualize ê¶Œì¥.

### 5.2 Layout/Style ë³‘ëª© ì˜ˆì‹œ
```js
// ì•ˆí‹° íŒ¨í„´: ì½ê¸°-ì“°ê¸°-ì½ê¸°-ì“°ê¸° ë°˜ë³µ(ê°•ì œ ë™ê¸° ë ˆì´ì•„ì›ƒ ë°œìƒ)
for (const el of list) {
  const w = el.offsetWidth;         // ì½ê¸°(ë ˆì´ì•„ì›ƒ í•„ìš”)
  el.style.width = (w + 10) + 'px'; // ì“°ê¸°(ìŠ¤íƒ€ì¼ ë³€ê²½)
}
// ê°œì„ : ì½ê¸° ìˆ˜ì§‘ â†’ ì“°ê¸° ì¼ê´„
const widths = list.map(el => el.offsetWidth);
list.forEach((el, i) => { el.style.width = (widths[i] + 10) + 'px'; });
```

---

## 6. ì½”ë“œ ë ˆë²¨ ê³„ì¸¡(ê³ ì •ë°€ íƒ€ì´ë°Â·ë§ˆí¬/ë©”ì €)

### 6.1 `performance.now()` / `console.time()`
```js
const t0 = performance.now();
doHeavyTask();
console.log(`heavy: ${(performance.now() - t0).toFixed(2)}ms`);

console.time('batch');
await batchRender();
console.timeEnd('batch');
```

### 6.2 User Timing API: `mark/measure`
```js
performance.mark('render-start');
await renderList();
performance.mark('render-end');
performance.measure('render', 'render-start', 'render-end');

new PerformanceObserver((list) => {
  list.getEntriesByName('render').forEach(e => {
    console.log(`render: ${e.duration.toFixed(2)}ms`);
  });
}).observe({ entryTypes: ['measure'] });
```

---

## 7. ë©”ëª¨ë¦¬ í”„ë¡œíŒŒì¼ë§ & ëˆ„ìˆ˜ ì§„ë‹¨

### 7.1 ì „í˜•ì  ëˆ„ìˆ˜ íŒ¨í„´
- **ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë¯¸ì œê±°**: detached DOM ë…¸ë“œê°€ ë¦¬ìŠ¤ë„ˆ ì°¸ì¡°ë¡œ GC ë¶ˆê°€.
- **ì „ì—­ ìºì‹œ/ë§µ ì¦ê°€**: í‚¤ê°€ ë¬´í•œíˆ ëŠ˜ì–´ë‚¨.
- **í´ë¡œì €ë¡œ í° ê°ì²´ ìœ ì§€**: íƒ€ì„ì•„ì›ƒ/ì¸í„°ë²Œ ë‚´ë¶€ ë³€ìˆ˜.
- **WebSocket/Timer ë¯¸ì •ë¦¬**: í˜ì´ì§€ ì´ë™ í›„ì—ë„ ì‚´ì•„ ìˆìŒ.

#### ì˜ˆì‹œ: ëˆ„ìˆ˜
```js
function leak() {
  const huge = new Array(1e5).fill('ğŸ”¥');
  window.addEventListener('resize', () => {
    // hugeë¥¼ í´ë¡œì €ë¡œ ìº¡ì²˜ â†’ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ë‚¨ì•„ìˆëŠ” í•œ í•´ì œ ë¶ˆê°€
    console.log(huge[0]);
  });
}
```
#### ê°œì„ : í•¸ë“¤ëŸ¬ ë¶„ë¦¬/ì œê±°
```js
function start() {
  const huge = new Array(1e5).fill('ğŸ”¥');
  const handler = () => console.log(huge[0]);
  window.addEventListener('resize', handler);
  return () => window.removeEventListener('resize', handler);
}
const cleanup = start();
// í•„ìš” ì‹œ
cleanup();
```

### 7.2 DevTools Memory íƒ­
- **Heap snapshot**: ëˆ„ìˆ˜ê°€ ì˜ì‹¬ë  ë•Œ ìŠ¤ëƒ…ìƒ· A/B/Cë¥¼ ë¹„êµ â†’ **Retainers**ë¡œ ë¬´ì—‡ì´ ê°ì²´ë¥¼ ë¶™ì¡ëŠ”ì§€ ì¶”ì .
- **Allocation instrumentation**: íŠ¹ì • ìƒí˜¸ì‘ìš© ë™ì•ˆ í• ë‹¹ íŒ¨í„´ ê¸°ë¡.
- **Detached DOM** ì„¹ì…˜: DOMì´ ë¬¸ì„œì—ì„œ ë–¨ì–´ì¡ŒëŠ”ë° ì°¸ì¡°ê°€ ë‚¨ì€ ë…¸ë“œ.

### 7.3 ì•½í•œ ì»¬ë ‰ì…˜
```js
const cache = new WeakMap(); // í‚¤ê°€ GC ëŒ€ìƒì´ë©´ ìë™ ì œê±°
function getOrCreate(keyObj) {
  if (!cache.has(keyObj)) cache.set(keyObj, makeValue(keyObj));
  return cache.get(keyObj);
}
```

---

## 8. ë Œë”ë§ & ì…ë ¥ ë°˜ì‘ì„±(í”„ë ˆì„ ë‹¨ìœ„ ì‚¬ê³ )

### 8.1 í”„ë ˆì„ ì˜ˆì‚°
- 60Hz â†’ **í•œ í”„ë ˆì„ 16.6ms**. JSÂ·ë ˆì´ì•„ì›ƒÂ·í˜ì¸íŠ¸Â·í•©ì„± ëª¨ë‘ ì´ ì•ˆì— ë“¤ì–´ê°€ì•¼ ìŠ¤ë¬´ìŠ¤.
- ë¬´ê±°ìš´ ì‘ì—…ì€ **Web Worker**, í”„ë ˆì„ ê²½ê³„ëŠ” `requestAnimationFrame`ì— ë°°ì¹˜.

```js
function tick() {
  // ì• ë‹ˆë©”ì´ì…˜ ì—…ë°ì´íŠ¸
  updatePositions();
  requestAnimationFrame(tick);
}
requestAnimationFrame(tick);
```

### 8.2 ìŠ¤í¬ë¡¤/ì…ë ¥ í•¸ë“¤ëŸ¬ ìµœì í™”
- **passive:true** ë¡œ ìŠ¤í¬ë¡¤ ì„±ëŠ¥ í–¥ìƒ(ê¸°ë³¸ ë™ì‘ ì·¨ì†Œ ì•ˆí•¨)
```js
window.addEventListener('scroll', onScroll, { passive: true });
```
- **Throttle/Debounce**
```js
export const debounce = (fn, ms=200) => {
  let t; return (...args) => { clearTimeout(t); t = setTimeout(() => fn(...args), ms); };
};
export const throttle = (fn, ms=200) => {
  let last=0; return (...args) => {
    const now=Date.now(); if (now-last>=ms){ last=now; fn(...args); }
  };
};
```

### 8.3 `requestIdleCallback`ë¡œ í•œê°€í•  ë•Œ ì‘ì—…
```js
function scheduleLowPriority(task) {
  if ('requestIdleCallback' in window) {
    requestIdleCallback(() => task(), { timeout: 1000 });
  } else {
    setTimeout(task, 0);
  }
}
```

---

## 9. ë„¤íŠ¸ì›Œí¬Â·ë¡œë”© ì„±ëŠ¥

### 9.1 DevTools Network íƒ­ í¬ì¸íŠ¸
- **Waterfall**: DNS/TCP/TLS/TTFB/Content Download êµ¬ê°„ íŒŒì•….
- **Blocking**: HTTP2 ë™ì‹œì„± ì œí•œì´ë‚˜ ìš°ì„ ìˆœìœ„ ë¬¸ì œ ì˜ì‹¬.
- **Cache**: `200 (from disk cache)` / `304 Not Modified` ì—¬ë¶€.
- **Throttling**: 3G/Slow 4G ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ ì²´ê° í™•ì¸.

### 9.2 ìš”ì²­/ì‘ë‹µ ê³„ì¸¡(ì½”ë“œ)
```js
const t0 = performance.now();
const res = await fetch(url);
const body = await res.text();
const t1 = performance.now();
console.log(`TTFB+DL: ${(t1 - t0).toFixed(1)}ms, size=${body.length}`);
```

### 9.3 ë¦¬ì†ŒìŠ¤ íŒíŠ¸

- `preload`(í•„ìˆ˜ ìì›), `prefetch`(ë‹¤ìŒ ë„¤ë¹„ê²Œì´ì…˜), `dns-prefetch`, `preconnect`.

```liquid
{% highlight html %}
<link rel="preconnect" href="https://cdn.example.com">
<link rel="preload" href="/hero.jpg" as="image" imagesrcset="/hero@2x.jpg 2x">
{% endhighlight %}
```

---

## 10. ì‹¤ì‚¬ìš©ì ëª¨ë‹ˆí„°ë§(RUM) & Web Vitals

### 10.1 PerformanceObserverë¡œ ì§€í‘œ ìˆ˜ì§‘
```js
function observe(type, cb) {
  try {
    const po = new PerformanceObserver((list) => list.getEntries().forEach(cb));
    po.observe({ type, buffered: true });
  } catch {}
}
// LCP
observe('largest-contentful-paint', (e) => report('LCP', e.renderTime || e.loadTime));
// FID
observe('first-input', (e) => report('FID', e.processingStart - e.startTime));
// CLS
let cls = 0;
observe('layout-shift', (e) => { if (!e.hadRecentInput) cls += e.value; report('CLS', cls); });
```

### 10.2 ì§€í‘œ ëª©í‘œ(ê¶Œì¥ ê°’, ì°¸ê³ )
- **LCP** â‰¤ 2.5s, **FID** â‰¤ 100ms, **CLS** â‰¤ 0.1
(ì‹¤ì„œë¹„ìŠ¤ëŠ” í‘œë³¸ ìˆ˜ì§‘ í›„, ë°±ë¶„ìœ„ìˆ˜(90~95p) ê¸°ì¤€ ê´€ë¦¬)

---

## 11. Node.js ë””ë²„ê¹…Â·í”„ë¡œíŒŒì¼ë§(ë°±ì—”ë“œ/ë„êµ¬ ìŠ¤í¬ë¦½íŠ¸)

### 11.1 ì¸ìŠ¤í™í„°
```bash
node --inspect-brk server.js
# â†’ Chrome: chrome://inspect ì ‘ì†
```

### 11.2 CPU í”„ë¡œíŒŒì¼
```bash
node --cpu-prof server.js
# ìƒì„±ëœ isolate-*.cpuprofileì„ DevTools Performanceì— ì—´ì–´ ë¶„ì„
```

### 11.3 í™ ìŠ¤ëƒ…ìƒ·
```bash
node --heap-prof server.js
# heap profile íŒŒì¼ì„ Memory íƒ­ì—ì„œ ì—´ê¸°
```

### 11.4 í”„ë¡œë•ì…˜ ì•ˆì „ ë¡œê·¸
- êµ¬ì¡°í™” ë¡œê·¸(JSON), ìƒê´€ê´€ê³„ ID(traceId), ë¡œê·¸ ë ˆë²¨ ê´€ë¦¬.
- ë¹„ë™ê¸° ì—ëŸ¬ í•¸ë“¤ë§: `process.on('unhandledRejection', ...)`, `process.on('uncaughtException', ...)`ëŠ” **ë¡œê·¸ í›„ ì•ˆì „ ì¢…ë£Œ**ê°€ ì›ì¹™.

---

## 12. ì‹¤íŒ¨ ì›ì¸ ë¶„í•´ ì²´í¬ë¦¬ìŠ¤íŠ¸

- **ìµœê·¼ ë³€ê²½** 3ê°€ì§€? (ì½”ë“œ/ì˜ì¡´ì„±/í™˜ê²½)
- **ì¬í˜„ìœ¨** 0/50/100%?
- **ë°œìƒ ë²”ìœ„** ë¸Œë¼ìš°ì €/OS/ë„¤íŠ¸ì›Œí¬/ê¶Œí•œì— íŠ¹ì´ì ?
- **DevTools**: Long Task ìœ„ì¹˜, Layout thrash, GC ë¹ˆë„, Warnings
- **ë„¤íŠ¸ì›Œí¬**: TTFB/ì½˜í…ì¸  ì‚¬ì´ì¦ˆ ê¸‰ì¦/ìºì‹œ ë¯¸ìŠ¤
- **ë©”ëª¨ë¦¬**: Detached DOM, ê±°ëŒ€ ë°°ì—´, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ëˆ„ìˆ˜
- **íƒ€ì‚¬ ìŠ¤í¬ë¦½íŠ¸**: ê´‘ê³ /íƒœê·¸ ë¡œë”ì˜ ë¸”ë¡œí‚¹?

---

## 13. ë¦¬íŒ©í† ë§ìœ¼ë¡œ ëë‚´ê¸°(íšŒê·€ ë°©ì§€)

- **ë¬¸ì œ ì¬í˜„ í…ŒìŠ¤íŠ¸**ë¥¼ ë¨¼ì € ì¶”ê°€(ë‹¨ìœ„/í†µí•©).
- **ì„±ëŠ¥ íšŒê·€ í…ŒìŠ¤íŠ¸**: ì„ê³„ê°’ ì²´í¬(ì˜ˆ: ë Œë” í•¨ìˆ˜ê°€ 30ms ë„˜ì§€ ì•ŠëŠ”ë‹¤).
- **Lint/TS**ë¡œ ì •ì  ë°©ì–´, `eslint-plugin-unicorn`, `eslint-plugin-react-perf` ë“±.

```js
// ì˜ˆ: ì„±ëŠ¥ íšŒê·€ í…ŒìŠ¤íŠ¸ (Jest)
test('renderList < 30ms', () => {
  const t0 = performance.now();
  renderList(fakeData1000);
  expect(performance.now() - t0).toBeLessThan(30);
});
```

---

## 14. ì‹¤ì „ ì˜ˆì œ ëª¨ìŒ

### 14.1 ëŠë¦° ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ ìµœì í™”
```js
// Before: 5,000ê°œë¥¼ í•œ ë²ˆì— DOMì— ì‚½ì… â†’ í”„ë¦¬ì¦ˆ
function render(items) {
  const ul = document.querySelector('#list');
  ul.innerHTML = '';
  items.forEach(text => {
    const li = document.createElement('li');
    li.textContent = text;
    ul.appendChild(li);
  });
}

// After: DocumentFragment + ì²­í¬ ë°°ì¹˜ + rAF
function renderChunked(items, chunk=200) {
  const ul = document.querySelector('#list');
  ul.innerHTML = '';
  let i = 0;
  function pump() {
    const frag = document.createDocumentFragment();
    for (let c = 0; c < chunk && i < items.length; c++, i++) {
      const li = document.createElement('li');
      li.textContent = items[i];
      frag.appendChild(li);
    }
    ul.appendChild(frag);
    if (i < items.length) requestAnimationFrame(pump);
  }
  requestAnimationFrame(pump);
}
```

### 14.2 í° JSON íŒŒì‹±ì„ ì›Œì»¤ë¡œ ì˜¤í”„ë¡œë“œ
```js
// main.js
const worker = new Worker('parser.js');
worker.postMessage(hugeJsonString);
worker.onmessage = (e) => render(e.data);

// parser.js
self.onmessage = (e) => {
  const data = JSON.parse(e.data);
  // ê°€ê³µ...
  self.postMessage(data);
};
```

### 14.3 ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ëˆ„ìˆ˜ ë°©ì§€ (ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´)
```js
function attach(el) {
  const onClick = (e) => { /* ... */ };
  el.addEventListener('click', onClick);
  return () => el.removeEventListener('click', onClick);
}
const detach = attach(document.querySelector('#btn'));
// í˜ì´ì§€ ë– ë‚  ë•Œ
window.addEventListener('beforeunload', detach);
```

---

## 15. ìš”ì•½ í‘œ

| ì£¼ì œ | í•µì‹¬ |
|---|---|
| DevTools ë””ë²„ê¹… | ì¡°ê±´ë¶€ ì¤‘ë‹¨ì , Pause on exceptions, Blackbox |
| ë¡œê¹… | group/time/table/traceë¡œ êµ¬ì¡°í™” |
| ì„±ëŠ¥(ë¸Œë¼ìš°ì €) | Performance íƒ­ Flame Chart, Long Task, Layout thrash ê°ì§€ |
| ì½”ë“œ ê³„ì¸¡ | `performance.now()`, `mark/measure`, PerformanceObserver |
| ë©”ëª¨ë¦¬ | Heap snapshot, Detached DOM, WeakMap |
| ë°˜ì‘ì„± | 16.6ms í”„ë ˆì„ ì˜ˆì‚°, rAF, passive ì´ë²¤íŠ¸, debounce/throttle |
| ë„¤íŠ¸ì›Œí¬ | Waterfall/TTFB/Cache/Throttling, ë¦¬ì†ŒìŠ¤ íŒíŠ¸ |
| RUM/Vitals | LCP/FID/CLS ê´€ì¸¡Â·ë³´ê³  |
| Node.js | `--inspect`, CPU/Heap í”„ë¡œíŒŒì¼, ì•ˆì „ ì¢…ë£Œ |
| íšŒê·€ ë°©ì§€ | ì¬í˜„ í…ŒìŠ¤íŠ¸ ì¶”ê°€, ì„±ëŠ¥ ì„ê³„ê°’, CIì— í†µí•© |

---

## ì°¸ê³  ìë£Œ
- Chrome DevTools: https://developer.chrome.com/docs/devtools/
- Performance Fundamentals: https://web.dev/performance/
- MDN Performance API: https://developer.mozilla.org/en-US/docs/Web/API/Performance
- Web Vitals: https://web.dev/vitals/
- PageSpeed Insights: https://pagespeed.web.dev/

---
**ê²°ë¡ **: ë””ë²„ê¹…Â·ì„±ëŠ¥ ë¶„ì„ì€ **ê´€ì¸¡ ê°€ëŠ¥í•œ ì‹ í˜¸ë¥¼ ëŠ˜ë¦¬ê³ **, **í”„ë ˆì„ ì˜ˆì‚°Â·ì´ë²¤íŠ¸ ë£¨í”„Â·ë©”ëª¨ë¦¬ ë³´ì¡´ ê·œì¹™**ì„ ì´í•´í•˜ë©°, **ì¸¡ì •-ê°œì„ -ì¬ì¸¡ì •**ì„ ìë™í™”í•˜ëŠ” ì‘ì—…ì…ë‹ˆë‹¤. ìœ„ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ì™€ ìƒ˜í”Œ ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ì ìš©í•˜ë©´, ëŒ€ë¶€ë¶„ì˜ í”„ë¡ íŠ¸ì—”ë“œ ë³‘ëª©ê³¼ ëˆ„ìˆ˜ë¥¼ ë¹ ë¥´ê²Œ ì°¾ì•„ë‚´ê³  íšŒê·€ë¥¼ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
