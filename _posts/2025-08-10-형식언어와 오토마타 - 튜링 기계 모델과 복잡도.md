---
layout: post
title: 형식언어와 오토마타 - 튜링 기계 모델과 복잡도
date: 2025-08-10 20:20:23 +0900
category: 형식언어와 오토마타
---
# 튜링 기계 모델과 복잡도 — 정의·자원(시간/공간) 측정·모델 강건성·계층 정리·클래스 관계·실전 감각

튜링 기계(TM)는 **계산 가능성**의 표준 모델이자, **복잡도**(얼마나 빠르고/적게 쓰는가)를 재는 공통 자입니다.  
여기서는 (1) 모델 정의, (2) 시간/공간 측정법, (3) 모델 변형과 **강건성**(robustness), (4) **계층 정리**와 복잡도 클래스,  
(5) **감소와 완전성**, (6) 실전에서의 해석을 체계적으로 정리합니다. 수식은 MathJax, 의사코드는 코드 블록으로 표기합니다.

---

## 1) 표준 튜링 기계: 언어 인식기 관점

### 1.1 형식 정의
\[
M=(Q,\Sigma,\Gamma,\delta,q_0,q_{\text{acc}},q_{\text{rej}}),
\]
- \(Q\): 상태 집합, \(\Sigma\): 입력 알파벳, \(\Gamma\) (테이프 알파벳, \(\Sigma\subseteq\Gamma\), 공백 \(\sqcup\in\Gamma\))  
- \(\delta:Q\times\Gamma\to Q\times\Gamma\times\{L,R,S\}\) (결정적 TM; 비결정적이면 유한 집합 값)  
- 시작 상태 \(q_0\), 수용/거절 상태 \(q_{\text{acc}},q_{\text{rej}}\)

**구성(configuration)** 은 “테이프 내용·헤드 위치·상태”의 삼중. 한 번의 전이가 한 단계(step)입니다.

### 1.2 승인기(인식기)와 변환기
- **언어 승인기**: 입력 \(w\)를 받아 수용/거절로 끝나면 \(L(M)=\{w:\text{수용}\}\).  
- **변환기(Transducer)**: 출력 트랙(또는 별도 테이프)에 결과를 남깁니다. 언어와 함수 계산을 구분할 때 유용.

---

## 2) 복잡도 측정: 시간·공간

### 2.1 시간/공간 함수
입력 길이 \(n\)에 대해
- **시간**: \(T_M(n)=\max_{|w|=n}\{\text{M이 } w \text{에서 쓰는 단계 수}\}\)  
- **공간**: \(S_M(n)=\max_{|w|=n}\{\text{M이 } w \text{에서 방문한 비공백 칸 수}\}\)

이를 모아 **클래스**를 정의합니다.
\[
\mathrm{TIME}(t(n))=\{L:\exists M,\ \forall w,\, M \text{이 시간 }O(t(|w|)) \text{에 } L \text{을 결정}\}
\]
\[
\mathrm{SPACE}(s(n))=\{L:\exists M,\ \forall w,\, M \text{이 공간 }O(s(|w|)) \text{으로 } L \text{을 결정}\}
\]

### 2.2 다항시간·다항공간: P, PSPACE 등
\[
\mathbf{P}=\bigcup_{k\ge1}\mathrm{TIME}(n^k),\quad
\mathbf{NP}=\bigcup_{k\ge1}\mathrm{NTIME}(n^k),\quad
\mathbf{PSPACE}=\bigcup_{k\ge1}\mathrm{SPACE}(n^k),\quad
\mathbf{EXPTIME}=\bigcup_{k\ge1}\mathrm{TIME}(2^{n^k})
\]
또한 \(\mathbf{L}=\mathrm{SPACE}(\log n)\), \(\mathbf{NL}=\mathrm{NSPACE}(\log n)\).

> **검증자 정의(NP)**: \(L\in\mathbf{NP}\) iff \(\exists\) 다항시간 검증기 \(V\)와 다항 길이 증인 \(y\) s.t.  
> \(\;x\in L\Rightarrow \exists y:\ V(x,y)=1\), \(\;x\notin L\Rightarrow \forall y:\ V(x,y)=0\).

---

## 3) “합리적 모델” 간의 강건성(=Cobham–Edmonds 테제)

**핵심 직관**: “상식적인” 비용 모델(단위 시간 워드 연산 RAM, 다중테이프 TM, 포인터 머신 등) 사이에는  
**다항식 오버헤드**로 상호 모사가 가능—그래서 “다항시간(P)”은 모델에 **불변**입니다.

### 3.1 대표 시뮬레이션 정리
- **k-테이프 → 1-테이프(시간)**: 시간 \(t(n)\)에 멈추는 다중테이프 DTM은  
  단일 테이프 DTM으로 **\(O(t(n)^2)\)** 시간 안에 모사 가능합니다.  
- **공간 보존**: 다중테이프의 공간 \(s(n)\)은 단일 테이프에서 **\(O(s(n))\)** 로 모사(상수 배).  
- **비결정성 공간**: Savitch 정리 \(\mathrm{NSPACE}(s)\subseteq \mathrm{DSPACE}(s^2)\) (특히 PSPACE=NPSPACE).  
- **Stay 이동/일방무한/양방무한 테이프**: 표현력·복잡도는 **동등**(상수 또는 다항 오버헤드).  
- **RAM ↔ TM**: 서로 **다항식** 오버헤드로 모사.

### 3.2 선형 가속(Linear Speedup)
다중테이프에서 많은 경우 “상수배 빨라지는” 기계 재구성 가능:  
임의 \(\epsilon>0\)에 대해 \(t(n)\)-시간 알고리즘을 \(\epsilon t(n)+O(n)\) 시간으로 가속(세부 조건 有).

---

## 4) 계층 정리와 포함 관계

### 4.1 시간/공간 계층 정리
- **Time Hierarchy**: 구성 가능한 \(t_1=o\!\big(\tfrac{t_2}{\log t_2}\big)\Rightarrow \mathrm{TIME}(t_1)\subsetneq \mathrm{TIME}(t_2)\).  
- **Space Hierarchy**: 구성 가능한 \(s_1=o(s_2)\Rightarrow \mathrm{SPACE}(s_1)\subsetneq \mathrm{SPACE}(s_2)\).

여기서 “구성 가능(constructible)”은 계층 정리에 필요한 온건한 기술적 조건(예: \(n\), \(n\log n\), \(n^k\), \(2^{n}\) 등 대부분 충족).

### 4.2 표준 포함/분리
\[
\mathbf{L}\subseteq \mathbf{NL}\subseteq \mathbf{P}\subseteq \mathbf{NP}\subseteq \mathbf{PSPACE}\subseteq \mathbf{EXPTIME}\subseteq \mathbf{EXPSPACE}.
\]
알려진 분리:
- \(\mathbf{P}\subsetneq \mathbf{EXPTIME}\) (시간 계층)  
- \(\mathbf{L}\subsetneq \mathbf{PSPACE}\) (공간 계층)  
- \(\mathbf{NL}=\mathbf{coNL}\) (Immerman–Szelepcsényi)  
- \(\mathbf{PSPACE}=\mathbf{NPSPACE}\) (Savitch)

열린 문제:
- \(\mathbf{P}\stackrel{?}{=}\mathbf{NP}\), \(\mathbf{NP}\stackrel{?}{=}\mathbf{coNP}\), \(\mathbf{L}\stackrel{?}{=}\mathbf{NL}\) 등.

---

## 5) 구성 그래프 관점: 공간과 결정 가능성

입력 길이 \(n\), 공간 \(s(n)\)을 쓰는 TM의 **구성 수**는  
\(|Q|\cdot |\Gamma|^{O(s(n))}\cdot O(s(n))\) 으로 **유한**합니다. 따라서
- **멤버십**은 “시작 구성 → 수용 구성” **도달성** 문제로 환원.  
- \(s(n)=O(\log n)\)이면 구성 수는 **다항** ⇒ 폴리시간 탐색(그래프 탐색) 가능 ⇒ \(\mathbf{NL}\subseteq\mathbf{P}\).

그 유명한 Savitch 알고리즘은 공간을 \(O(s(n)^2)\)만 써서 **재귀적으로** 도달성을 결정합니다.

```text
# Savitch-REACH(u, v, ℓ): 길이 ≤ 2^ℓ 경로가 있는가?
if ℓ == 0: return (u == v) or (u→v in one step)
for all mid:
  if Savitch-REACH(u, mid, ℓ-1) and Savitch-REACH(mid, v, ℓ-1): return true
return false
```

---

## 6) 비결정성과 클래스들

- **NTIME/NSPACE**: 비결정적 자원.  
- **NP 정의의 동치**: “증명서 검증” ↔ “비결정적 폴리시간 수용”.  
- **포함**: \(\mathbf{NP}\subseteq\mathbf{PSPACE}\) (계산 트리 DFS로 증인 탐색, 공간만 다항).  
- **보수**: \(\mathbf{NL}=\mathbf{coNL}\), 단 \(\mathbf{NP}\stackrel{?}{=}\mathbf{coNP}\)는 미지.

---

## 7) 감소와 완전성(Completeness)

### 7.1 다항시간 many-one 감소
\[
A \le_m^p B \iff \exists f\in \mathbf{FP}:\ \forall x,\ x\in A \Leftrightarrow f(x)\in B.
\]
NP-완전, PSPACE-완전, EXPTIME-완전 등은 모두 이 틀로 정의합니다.

### 7.2 대표 완전성
- **NP-완전**: **SAT/3-SAT**(Cook–Levin), CLIQUE, HAMILTONIAN, TSP(dec), 3-COLORING 등.  
- **PSPACE-완전**: QBF(양화식 만족성), 일반ized Geography, 다수의 2인 완전정보 게임.  
- **EXPTIME-완전**: 체스/체커 등의 “일반판” 결정 문제, 일부 자동논리 증명 문제.

---

## 8) 모델 변형: “작은 차이는 성능만 바꾼다”

- **다중테이프 TM**: 구현상의 상수/차수 이점(특히 선형 가속·테이프 분할).  
- **다중헤드/2차원 테이프/Stay 이동 허용**: **표현력**은 동일, 복잡도는 **다항식** 범위에서만 변동.  
- **오프라인/오라클 TM**: 오라클은 **계층** 논의에, 오프라인(입력만 읽기) 모델은 일부 하한 증명에 사용.  
- **RAM/Word-RAM**: 실제 알고리즘 분석에 유용하나, TM로 **다항식**에 묶여 모사 가능 ⇒ 클래스 경계는 불변.

> 결론: **P, NP, PSPACE** 같은 큰 클래스 경계는 모델 세부에 **강건**합니다.

---

## 9) 시간·공간 구성 가능성과 패딩

- **시간/공간 구성 가능 함수**: 계층 정리에 필요한 기술 조건.  
  - 예: \(t(n)\)이 시간-구성 가능이면 “길이 \(n\)”에서 **정확히** \(t(n)\) 스텝을 ‘세는’ TM 존재.  
- **패딩 기법**: 인스턴스를 길게 늘려 클래스 경계를 이동(예: P와 EXP 사이의 **완전성** 전파).

---

## 10) 실전 감각 — TM 복잡도를 현실로 번역하기

- **P의 의미**: Cobham–Edmonds 테제에 따라 “실용적으로 가능”의 추상화(상수·차수는 무시).  
- **하지만**: 실제 성능은 **메모리 계층/I-O/캐시/분기예측/벡터화**가 지배.  
  TM의 결과를 RAM로 옮길 때 **다항식** 이내 오버헤드라는 보증만 얻습니다.  
- **복잡도→설계 전략**:  
  - P에 있더라도 **큰 차수/상수**는 피하라(선형·\(n\log n\) 지향, 캐시 친화).  
  - NP-완전을 만나면 **근사/파라미터화/랜덤화**·특수 구조 활용(평면/트리폭 등)로 우회.

---

## 11) 미니 레퍼런스(핵심 정리 요약)

- **Cook–Levin**: 모든 NP 문제 \(\le_m^p\) SAT ⇒ SAT는 NP-완전.  
- **Savitch**: \(\mathrm{NSPACE}(s)\subseteq \mathrm{DSPACE}(s^2)\) ⇒ PSPACE = NPSPACE.  
- **Immerman–Szelepcsényi**: \(\mathrm{NSPACE}(s)=\mathrm{coNSPACE}(s)\) for \(s\ge \log n\).  
- **Time/Space Hierarchy**: 더 많은 자원은 진짜 더 강함(구성 가능 가정).  
- **다중테이프→단일테이프 시뮬**: 시간 제곱, 공간 상수배.  
- **Linear Speedup**: 많은 경우 상수배 가속 가능.

---

## 12) 부록: 검증기-스타일 NP 의사코드

```text
# NP 언어 L의 검증기 V (다항시간):
# 입력 x와 증명서 y를 받아 참/거짓 판정.
V(x, y):
  check |y| ≤ |x|^k for fixed k
  deterministically verify constraints(x, y) in time poly(|x|)
  return accept iff all checks pass

# L ∈ NP  ⇔  ∃V s.t. x ∈ L ⇒ ∃y: V(x,y)=accept,  x∉L ⇒ ∀y: reject
```

---

## 13) 한 페이지 요약

- **TM 모델**: 계산 가능성의 표준. 복잡도는 **단계 수(시간)**, **사용 칸 수(공간)** 로 잰다.  
- **강건성**: 합리적 모델 사이 **다항식 모사** 가능 ⇒ P/NP/PSPACE 경계는 모델 독립.  
- **계층 정리**: 더 많은 시간/공간은 더 강함(진 포함). Savitch, Immerman–Szelepcsényi로 공간 쪽 구조가 단단.  
- **클래스 관계**: \(\mathbf{L}\subseteq\mathbf{NL}\subseteq\mathbf{P}\subseteq\mathbf{NP}\subseteq\mathbf{PSPACE}\subseteq\mathbf{EXPTIME}\).  
- **실전 해석**: TM 복잡도는 **가능/불가능 지도**를 준다. 구현에서는 **메모리·I/O·병렬성**을 최적화하라.
