---
layout: post
title: 정보통신기사 - 전송선로 · 임피던스 정합 · 반사계수
date: 2025-08-21 19:25:23 +0900
category: 정보통신기사
---
# 전송선로 · 임피던스 정합 · 반사계수 총정리

## 왜 전송선로인가? (언제 “전송선로”로 모델링할까)

- 신호가 **도착하는 데 걸리는 시간**(선로 지연)이 **엣지 상승시간**과 비슷하면 “분포정수”로 취급해야 합니다.
- 실무 규칙(경험칙):
  - 선로지연 $t_d = \dfrac{\ell}{v_p}$ 가 상승시간 $t_r$의 **$\gtrsim 1/6$** 이상이면 **전송선로 효과** 고려.
  - $v_p = c/\sqrt{\varepsilon_\mathrm{eff}}$. 예: 코액셜 VF≈0.66 → $v_p≈2.0\times 10^8\,\mathrm{m/s}$.

**예**
$t_r=1\,\mathrm{ns}$, VF=0.66 → $v_p=0.66c≈2.0\times10^8$ m/s.
경험칙(1/6) 기준 최대 무시 길이 $\ell\approx v_p \cdot t_r/6 ≈ 0.033\,\mathrm{m}=3.3\,\mathrm{cm}$.

---

## 전송선로 기본

### 텔레그래퍼 방정식과 분포정수

- 단위길이 정수: $(R',L',G',C')$ (Ω/m, H/m, S/m, F/m)
- 특성임피던스:
  $$
  Z_0=\sqrt{\frac{R'+j\omega L'}{G'+j\omega C'}}
  $$
- 전파상수:
  $$
  \gamma=\alpha+j\beta=\sqrt{(R'+j\omega L')(G'+j\omega C')}
  $$
- **저손실 근사**($R'\ll \omega L'$, $G'\ll \omega C'$):
  $$
  Z_0\approx\sqrt{\frac{L'}{C'}},\quad
  \beta\approx\omega\sqrt{L'C'},\quad
  v_p=\frac{\omega}{\beta}\approx\frac{1}{\sqrt{L'C'}}=\frac{c}{\sqrt{\varepsilon_\mathrm{eff}}}
  $$

### 파장과 위상상수

- 선로 내 파장:
  $$
  \lambda=\frac{2\pi}{\beta}=\frac{v_p}{f}=\frac{c}{f\sqrt{\varepsilon_\mathrm{eff}}}
  $$
- **속도계수(VF)**: $v_p/c=1/\sqrt{\varepsilon_\mathrm{eff}}$
  예: VF=0.66 → $\varepsilon_\mathrm{eff}\approx(1/0.66)^2\approx 2.30$.

---

## 반사계수·반사손실·VSWR·미스매치 손실

### 종단 반사계수(로드에서)

$$
\Gamma_L=\frac{Z_L-Z_0}{Z_L+Z_0}
$$
- $|\Gamma|=0$: 완전 정합, 반사 없음
- $|\Gamma|=1$: 완전 반사(개방/단락)

### 반사손실(RL), VSWR, 미스매치 손실(ML)

$$
\mathrm{RL}=-20\log_{10}|\Gamma|\quad[\mathrm{dB}]
$$
$$
\mathrm{VSWR}=\frac{1+|\Gamma|}{1-|\Gamma|}
$$
$$
\mathrm{ML}=-10\log_{10}\big(1-|\Gamma|^2\big)\quad[\mathrm{dB}]
$$
- **부하에 실려 전달되는 전력 비율**: $1-|\Gamma|^2$

**예 2-1)** 50Ω ↔ 75Ω (순수저항)
$$
\Gamma=\frac{75-50}{75+50}=\frac{25}{125}=0.2,\
\mathrm{RL}=13.98\,\mathrm{dB},\
\mathrm{VSWR}=1.5,\
\mathrm{ML}=0.177\,\mathrm{dB}
$$

### 소스에서 본 반사(S11 위상 포함)

- 선로 길이 $l$에서의 반사계수:
$$
\Gamma_\mathrm{in}=\Gamma_L\,e^{-j2\beta l}
$$
- **반사는 위상만 변하고 크기는 동일**(손실 무시 시). 주파수에 따라 $e^{-j2\beta l}$가 바뀌며 **리플/스탠딩**을 형성.

---

## 입력임피던스, 스탠딩파

### 입력임피던스(손실무시)

$$
Z_\mathrm{in}=Z_0\frac{Z_L+jZ_0\tan(\beta l)}{Z_0+jZ_L\tan(\beta l)}
$$

**예 3-1)** $Z_0=50\,\Omega,\ Z_L=25-j25\,\Omega,\ l=0.1\lambda$
$\tan(0.2\pi)\approx 0.72654$.
분자 $=Z_L+jZ_0\tan\beta l = (25-j25)+j36.33 = 25+j11.33$
분모 $=Z_0+jZ_L\tan\beta l = 50 + j(18.16+18.16j)$ → $68.16 + j18.16$
비율 → $0.38379 + j0.06391$, 곱하기 $Z_0$ →
$$
Z_\mathrm{in}\approx \boxed{19.19 + j3.20\ \Omega}
$$

### 특수 길이

- **λ/4 변환**($l=\lambda/4$, lossless):
  $$
  Z_\mathrm{in}=\frac{Z_0^2}{Z_L}
  $$
- **λ/2**: $Z_\mathrm{in}=Z_L$ (주기)
- **단락/개방 stub**:
  - 단락선로 $Z_\mathrm{in}=jZ_0\tan(\beta l)$
  - 개방선로 $Z_\mathrm{in}=-jZ_0\cot(\beta l)$

### 스탠딩파(정재파)

- 전압 최대/최소 비:
  $$
  \frac{V_\max}{V_\min}=\mathrm{VSWR}
  $$
- 정재파 패턴은 $2\beta l$ 위상에 의해 이동.

---

## 임피던스 정합 기법

### λ/4 변환기(Quarter-wave Transformer)

- **순수저항** 간 매칭에 간단·강력:
  $$
  Z_t=\sqrt{Z_0 Z_L},\quad l=\lambda/4
  $$
- 대역폭은 **협대역**(주파수 이동에 민감). 광대역은 **다단(치비셰프 섹션)** 활용.

**예 4-1)** 50→100Ω 매칭
$$
Z_t=\sqrt{50\cdot 100}=\boxed{70.71\,\Omega}
$$
주파수 100 MHz, VF=0.66 → $\lambda=\frac{0.66 c}{f}=1.98\,\mathrm{m}$ →
$l=\lambda/4=0.495\,\mathrm{m}$.

### 스텁 매칭(단일 스텁, 셔트/시리즈)

- **셔트 스텁**(병렬): 메인 선로의 어떤 지점까지 **길이 $l$** 이동 → 그 지점의 **정규화 어드미턴스** $y=g+jb$.
  거기에 **셔트 스텁**의 어드미턴스 $y_s=j b_s$ 를 **추가**해 총 $y_\mathrm{tot}=1+j(b+b_s)$로 만들면 정합.
  - **단락 스텁**: $y_s=-j\cot(\beta l_s)$
  - **개방 스텁**: $y_s=+j\tan(\beta l_s)$
- **시리즈 스텁**: 임피던스 공간에서 동일 개념(보통 스미스차트로 절차).

> **절차(셔트·단일 스텁)**
> 1) 정규화 부하 $z_L=Z_L/Z_0$, **어드미턴스** $y_L=1/z_L$.
> 2) 메인 선로를 **발생기 방향으로 $l$** 만큼 이동:
> $$
> y(l)=\frac{y_L + j\tan(\beta l)}{1 + j y_L \tan(\beta l)} = g(l) + j b(l)
> $$
> 3) $g(l)=1$ 되는 두 지점 중 하나 선택.
> 4) 필요한 스텁 서셉턴스 $b_s=-b(l)$.
> 5) 단락이면 $ -\cot(\beta l_s)=b_s $ → $\beta l_s=\cot^{-1}(-b_s)$
>    개방이면 $ +\tan(\beta l_s)=b_s $ → $\beta l_s=\tan^{-1}(b_s)$

**예 4-2)** $Z_0=50\,\Omega,\ Z_L=30-j40\,\Omega,\ f=1\,\mathrm{GHz},\ \mathrm{VF}=0.66$
정규화 $z_L=(30-j40)/50=0.6-j0.8$, $y_L=1/z_L=0.6+ j0.8$.
(1) $g(l)=1$ 되는 $ \beta l$ 해 (두 개):
$$
\beta l=\frac{\pi}{12}\ (\approx 15^\circ)\quad\text{또는}\quad \frac{5\pi}{12}\ (\approx 75^\circ)
$$
이때
$$
y(l_1)=1+j1.1547,\quad y(l_2)=1-j1.1547
$$
(2) **셔트 단락 스텁** 선택 시 필요한 $b_s$:
- 케이스 A($l=l_1$): $b_s=-1.1547\Rightarrow\ -\cot(\beta l_s)=-1.1547\Rightarrow \cot(\beta l_s)=1.1547$
$$
\tan(\beta l_s)=\frac{1}{1.1547}=0.8660\Rightarrow \beta l_s\approx 40.89^\circ
$$
- 케이스 B($l=l_2$): $b_s=+1.1547\Rightarrow\ -\cot(\beta l_s)=+1.1547\Rightarrow \cot(\beta l_s)=-1.1547$
$$
\tan(\beta l_s)=-0.8660\Rightarrow \beta l_s\approx 180^\circ-40.89^\circ=139.11^\circ
$$
(3) 실제 길이 (VF=0.66 → $\lambda=0.198\,\mathrm{m}$):
$$
l_1=\frac{\lambda}{24}=8.25\ \mathrm{mm},\ \
l_2=\frac{5\lambda}{24}=41.25\ \mathrm{mm}
$$
$$
l_{sA}=0.1137\lambda\approx 22.5\ \mathrm{mm},\ \
l_{sB}=0.3863\lambda\approx 76.5\ \mathrm{mm}
$$
→ **둘 다 정합**(제작 용이성/공간 고려해 선택).

### 저주파/짧은 선로: L-매칭(유·무손실 소자)

- $X_L=\omega L$, $X_C=1/(\omega C)$로 **L-형 네트워크** 설계(저주파·짧은 선로에서).

---

## 스미스 차트(개념 정리, 손계산 팁)

- **정규화 임피던스/어드미턴스 공간** 매핑 도구.
- 원 위의 회전 = **선로 위 이동**($\beta l$), 수직 이동 = **리액턴스 추가**(시리즈), 수평 이동 = **서셉턴스 추가**(셔트).
- 실전: **정규화 → 회전(거리) → 리액턴스/서셉턴스 보정 → 역정규화**.

---

## TDR(Time-Domain Reflectometry)

- 계단(step) 파형을 선로에 인가, **반사 파형의 시점/크기**로 **불연속 임피던스**와 **거리** 추정.
- 반사계수와 전압:
  $$
  \Gamma=\frac{\Delta V}{V_\mathrm{inc}}
  $$
- 거리: 왕복시간 $\Delta t$ → $\ell = \dfrac{v_p \Delta t}{2}$.

**예 6-1)** VF=0.66, 왕복 72 ns →
$v_p=0.66c≈1.98\times10^8\ \mathrm{m/s}$ → $\ell=1.98\times10^8\cdot 72\mathrm{ns}/2≈7.13\ \mathrm{m}$.

---

## 고속 디지털: 종단법과 정합

### 종단 방식

- **직렬 종단(Series Termination)**: 소스 직후에 $R_s\approx Z_0-R_\mathrm{drv}$.
  반사 억제 + 전력 소모 ↓, **멀티드롭 부적합**.
- **병렬 종단(Parallel)**: 부하에 $R_p\approx Z_0$ 접지(or $V_\mathrm{TT}$).
  에지 품질↑, **DC 전류 소모↑**.
- **더블 종단(Thevenin/AC 종단)**: 저전력/저속에서 유리(AC는 DC 바이어스 불필요).

### 차동쌍

- 차동정합 $Z_{diff}\approx 2Z_0(1-\kappa)$ ($\kappa$: 결합계수, 약하게 결합 시 $Z_{diff}\approx 2Z_0$).
- **100Ω 차동**(Ethernet/PCIe) → 각 선로 약 50Ω, 페어링/동길이(**스큐**) 중요.

---

## 코액시얼/마이크로스트립 설계 힌트

### 코액시얼

- TEM 모드, 균질 $\varepsilon_r$ → $v_p=c/\sqrt{\varepsilon_r}$.
- 표준 Z0: **50Ω**(전력/손실 타협), **75Ω**(저손실/영상).

### 마이크로스트립(근사 공식)

- $\varepsilon_\mathrm{eff}\in(\,1,\varepsilon_r)$ (공기/기판 혼합).
- 설계 근사식(얇은 구리, $w/h$ 비로 $Z_0$ 추정) — 시험에선 개념만:
  - $w/h$ ↑ → $Z_0$ ↓, $\varepsilon_\mathrm{eff}$ ↑
  - $Z_0\approx 50\,\Omega$ 맞추도록 $w/h$ 조절.

---

## 손실(감쇠) 빠른 감

- 총 감쇠 $\alpha=\alpha_c+\alpha_d$ (도체/유전)
- **도체손실**(스킨효과): $R'\propto \sqrt{f}$ → $\alpha_c\propto\sqrt{f}$
- **유전손실**: $\alpha_d\propto f\tan\delta$ (대략)
- **dB/길이** 데이터시트를 사용해 **주파수-길이 감쇠**를 확인하고 링크버짓에 반영.

---

## 스니펫: 전송선로 계산기(학습용)

```python
import cmath, math

def gamma(Z0, ZL, beta_l):
    """로드 반사계수(크기만)와 소스에서의 반사계수(위상 포함)"""
    GL = (ZL - Z0) / (ZL + Z0)
    Gin = GL * cmath.exp(-1j*2*beta_l)
    return GL, Gin

def rl_swr_ml(G):
    """반사손실, VSWR, 미스매치 손실"""
    mag = abs(G)
    RL = -20*math.log10(mag) if mag>0 else float('inf')
    VSWR = (1+mag)/(1-mag) if mag<1 else float('inf')
    ML = -10*math.log10(1 - mag**2) if mag<1 else float('inf')
    return RL, VSWR, ML

def zin(Z0, ZL, beta_l):
    """손실무시 입력임피던스"""
    t = math.tan(beta_l)
    return Z0 * (ZL + 1j*Z0*t) / (Z0 + 1j*ZL*t)

# 예: 50↔75Ω

Z0, ZL = 50, 75
GL, _ = gamma(Z0, ZL, 0.0)
print("Γ=%.3f, RL=%.2f dB, VSWR=%.2f, ML=%.3f dB" % ((*rl_swr_ml(GL),) and (abs(GL), *rl_swr_ml(GL))))
```

> 노트: 실제 시스템은 **손실**($\alpha$)과 **주파수 의존**을 포함.
> 학습·손계산엔 **손실무시 모델**로 개념을 잡고, 실무에선 데이터시트/EM 해석으로 보정.

---

## 파동 임피던스/저항성 변환(µ파 트릭)

- **단락/개방 λ/8** 선로는 **리액턴스**를 제공:
  - Short, $l=\lambda/8$: $Z_\mathrm{in}=jZ_0$ → **인덕터** 등가
    $X_L=+Z_0=\omega L\Rightarrow L=\dfrac{Z_0}{2\pi f}$
  - Open, $l=\lambda/8$: $Z_\mathrm{in}=-jZ_0$ → **커패시터** 등가
    $|X_C|=Z_0=\dfrac{1}{\omega C}\Rightarrow C=\dfrac{1}{2\pi f Z_0}$

**예 11-1)** $f=100$ MHz, $Z_0=50$Ω →
$L\approx 79.6$ nH, $C\approx 31.8$ pF.

---

## S-파라미터와 정합(간단 관점)

- **S11** = 입력 포트 반사계수(정합 정도). RL= $-20\log_{10}|S_{11}|$.
- **Transducer Gain**는 소스/부하 미스매치 영향을 복합 반영(고급 내용).
- 시험·기초엔 **S11↔RL↔VSWR** 변환과 **미스매치 손실** 감각이 중요.

---

## 자주 하는 실수/주의

- **전압비 20log**(라인코딩 문맥)와 **반사/임피던스 공식** 혼용 금지.
- $\tan(\beta l)$ 각도 단위(라디안!).
- **정규화** 기준(임피던스/어드미턴스) 혼동 주의.
- λ/4 변환기는 **순수저항**에만 간단히 적용(복소부하엔 스텁 포함 설계 필요).
- 고속 디지털은 **스펙트럼/반사**뿐 아니라 **PDN(전원 무결성)**과 함께 봐야 함.

---

## 연습문제(풀이 포함)

### Q1. 50Ω 시스템에서 60Ω 로드. $\Gamma, \mathrm{RL}, \mathrm{VSWR}, \mathrm{ML}$?

**풀이**
$\Gamma=\frac{60-50}{60+50}=10/110=0.0909$.
$\mathrm{RL}=-20\log_{10}(0.0909)=20.83\,\mathrm{dB}$
$\mathrm{VSWR}=(1+0.0909)/(1-0.0909)=1.20$
$\mathrm{ML}=-10\log_{10}(1-0.0909^2)=0.036\,\mathrm{dB}$.

### Q2. $Z_0=50\,\Omega,\ Z_L=100\,\Omega$ 를 λ/4 변환기로 정합. 필요한 $Z_t$와 길이?

**풀이**
$Z_t=\sqrt{50\cdot100}=70.71\,\Omega$. $l=\lambda/4$.

### Q3. $Z_0=50\,\Omega,\ Z_L=0\,\Omega$ (단락), $l=\lambda/8$. 입력임피던스?

**풀이**
단락선로: $Z_\mathrm{in}=jZ_0\tan(\beta l)=j50\tan(\pi/4)=j50\,\Omega$.

### Q4. $Z_0=50\,\Omega,\ Z_L=25-j25\,\Omega,\ l=0.1\lambda$. $Z_\mathrm{in}$?

**풀이**
예 3-1 결과 → $\boxed{19.19 + j3.20\ \Omega}$.

### Q5. 셔트 단일 스텁: $Z_0=50\,\Omega,\ Z_L=30-j40\,\Omega$. $\beta l$과 $l_s$ (단락 스텁) 가능한 해?

**풀이**
$\beta l=\pi/12$ 또는 $5\pi/12$.
첫 해에선 $b_s=-1.1547$ → $\beta l_s\approx 40.89^\circ$ (0.1137λ).
둘째 해에선 $b_s=+1.1547$ → $\beta l_s\approx 139.11^\circ$ (0.3863λ).

### Q6. TDR에서 왕복 50 ns, VF=0.8. 불연속까지 거리?

**풀이**
$v_p=0.8c=2.4\times10^8$, $\ell=v_p\cdot 50\mathrm{ns}/2=6.0\,\mathrm{m}$.

---

## 현업 체크리스트

- [ ] **반사/정합**: $\Gamma$, RL, VSWR, ML 빠르게 산출
- [ ] **길이→위상**: $\beta l=2\pi l/\lambda$, 주파수 변화에 따른 정합 변동 체크
- [ ] **λ/4 변환기**: $Z_t=\sqrt{Z_0 Z_L}$, 협대역
- [ ] **스텁**: 단일/이중, 셔트/시리즈, 제작 공차·손실 고려
- [ ] **TDR**: VF 보정, 커넥터/비아 반사 구분
- [ ] **고속디지털**: 종단법 선택(전력/지터/EMI), 길이 매칭
- [ ] **손실**: dB/길이 곡선으로 링크버짓 반영

---

## 부록: 단위·상관관계 요약

- $ \Gamma=\dfrac{Z_L-Z_0}{Z_L+Z_0}$, $\mathrm{RL}=-20\log_{10}|\Gamma|$, $\mathrm{VSWR}=\dfrac{1+|\Gamma|}{1-|\Gamma|}$
- $\mathrm{ML}=-10\log_{10}(1-|\Gamma|^2)$
- $Z_\mathrm{in}=Z_0\dfrac{Z_L+jZ_0\tan\beta l}{Z_0+jZ_L\tan\beta l}$
- 단락/개방 스텁: $Z_\mathrm{in}=jZ_0\tan\beta l$, $Z_\mathrm{in}=-jZ_0\cot\beta l$
- λ/4 변환: $Z_\mathrm{in}=Z_0^2/Z_L$
- TDR: $\Gamma=\Delta V/V_\mathrm{inc}$, $\ell=v_p\Delta t/2$
