---
layout: post
title: 논리회로설계 - 퀸–맥클러스키
date: 2025-09-03 14:25:23 +0900
category: 논리회로설계
---
# 퀸–맥클러스키(Quine–McCluskey) — **비완전 명세함수의 간략화**와 **변수가 있는 맵(Variable–Entered Map)으로 간략화**

> 표기: \(+\)=OR, \(\cdot\) 또는 생략=AND, \(\overline{A}\)=NOT \(A\).  
> 핵심 목표: (1) **don’t-care를 포함한 비완전 명세함수(ISF)** 를 Q–M 알고리즘으로 최소화하는 법, (2) **변수가 있는 맵(VEM/VEM)** 을 이용해 고차 변수/인수화를 빠르게 끌어내는 법.

---

## 1) 비완전 명세함수(ISF)의 간략화 (Q–M 알고리즘 관점)

### 1.1 개념 정리
- 스위칭 함수 \(F\)에 대해 전체 입력공간 \(\mathcal{U}\)를
  \[
  \mathcal{U}=\mathcal{ON}\;\dot{\cup}\;\mathcal{OFF}\;\dot{\cup}\;\mathcal{DC}
  \]
  로 나눈다.  
  \(\mathcal{ON}\): 반드시 1, \(\mathcal{OFF}\): 반드시 0, \(\mathcal{DC}\): **미지정(don’t care)**.
- **목표**: \(\mathcal{ON}\) 을 **모두 덮고**, \(\mathcal{OFF}\) 는 **덮지 않으며**, \(\mathcal{DC}\) 는 **원할 때만** 덮는 최소식.

### 1.2 Q–M에 ISF를 넣는 법(절차 차이만 요약)
1) **입력**을 \(F=\sum m(I) + d(D)\) 로 적는다. (여기서 \(I=\mathcal{ON}\), \(D=\mathcal{DC}\))  
2) **결합 단계(주항 생성)**에서는 **\(I\cup D\)** 를 모두 사용해 가능한 한 **큰 주항**을 만든다.  
3) **주항 차트(PI chart)**를 만들 때 **열은 \(I\)만** 포함한다. (**DC는 차트에서 제외!**)  
4) 필수 주항(EPI) 선택 → 잔여 커버는 **패트릭 방법**으로 최소 커버.

> 요지: **결합에는 DC를 활용**(묶음 키움), **최종 커버 판단에는 제외**(필수 조건 아님).

### 1.3 예제 (4변수, 간단하지만 완전한 흐름)
\[
F(A,B,C,D)=\sum m(1,3,7,11) + d(0,2)
\]
- 2진표기:  
  \(m_0=0000^*,\;m_1=0001,\;m_2=0010^*,\;m_3=0011,\;m_7=0111,\;m_{11}=1011\) (\(^*\): DC)

#### (a) 1의 개수로 그룹화 → 인접그룹 결합
- 1차 결합(대표):
  - \(0000\)–\(0001 \rightarrow \mathbf{000-}\)
  - \(0010\)–\(0011 \rightarrow \mathbf{001-}\)
  - \(0011\)–\(0111 \rightarrow \mathbf{0-11}\)
  - \(0011\)–\(1011 \rightarrow \mathbf{-011}\)
- 2차 결합:
  - \(\mathbf{000-}\) 과 \(\mathbf{001-}\) → \(\mathbf{00--}\) (A=0,B=0 고정)

→ **소수 주항(PI)** 후보:  
\(\;\;\mathbf{00--}\Rightarrow \overline{A}\overline{B},\;\;\mathbf{0-11}\Rightarrow \overline{A}CD,\;\;\mathbf{-011}\Rightarrow \overline{B}CD\)

> 주의: \(\mathbf{00--}\) 는 **DC(0,2)** 덕분에 만들어진 **큰 주항**. DC가 없었다면 생성 불가.

#### (b) 주항 차트(열은 \(\mathcal{ON}=\{1,3,7,11\}\)만)
| PI \ m | 1 | 3 | 7 | 11 |
|:--|:--:|:--:|:--:|:--:|
| \(\overline{A}\overline{B}\) | ● | ● |   |   |
| \(\overline{A}CD\)          |   | ● | ● |   |
| \(\overline{B}CD\)          |   | ● |   | ● |

- **필수 주항(EPI)**:  
  \(m_1\)은 \(\overline{A}\overline{B}\)만 덮음 → **EPI**.  
  \(m_7\)은 \(\overline{A}CD\)만, \(m_{11}\)은 \(\overline{B}CD\)만 덮음 → **둘 다 EPI**.

#### (c) 최소식
\[
\boxed{F = \overline{A}\,\overline{B}\;+\;\overline{A}CD\;+\;\overline{B}CD}
\]
- DC가 **큰 주항(00--)**을 만들어 리터럴 수가 줄었음을 확인.  
- 추가 인수화: \(\overline{A}CD+\overline{B}CD=CD(\overline{A}+\overline{B})\) (선호 형태에 따라 표현).

---

## 2) 변수가 있는 맵(Variable–Entered Map, VEM)을 이용한 간략화

### 2.1 개념과 절차
- **아이디어**: K-map의 각 셀에 0/1 대신 **다른 변수(또는 그 부울식)** 를 **기입**한다.  
  즉, 기준 변수 집합 \(\mathbf{X}\)를 맵의 **행/열 축**으로 두고, 나머지 변수 집합 \(\mathbf{Y}\)에 대한 **코팩터(cofactor)** \(F|_{\mathbf{X}=\mathbf{x}}\) 를 셀 내용(식)으로 쓴다.
- **그룹 규칙(2셀, 축 변수 \(Z\)를 따라 인접한 셀 내용이 \(P,Q\)일 때):**
  \[
  \underbrace{\overline{Z}P}_{\text{왼(또는 위) 셀}} \;+\; \underbrace{ZQ}_{\text{오른(또는 아래) 셀}}
  \]
  - **동일식** \(P=Q\) 이면 \((\overline{Z}+Z)P=P\) → **\(Z\) 소거** (큰 묶음 유리).  
  - **보수** \(Q=\overline{P}\) 이면 \(\overline{Z}P + Z\overline{P} = Z \oplus P\) (XOR 성분 등장)  
    → 인접한 다른 묶음과 결합·인수화로 추가 단순화 가능.
- \(k\)셀 묶음도 동일 원리로 **셀 내용들의 합**을 만들고, **공통인수/흡수**로 단순화.

> VEM은 **5·6변수** 이상의 함수를 4×4 맵 위에서 **직관적 인수화**로 줄이는 데 특히 유용.

### 2.2 예제 1 — 5변수에서 한 변수를 맵 안으로(가장 기본)
\[
F(A,B,C,D,E) \ \text{에서 } \{A,B,C,D\}\ \text{를 축},\ E\ \text{를 셀 내용으로 사용}
\]
- 가정: \(B=0\)인 모든 셀은 **\(E\)**, \(B=1\)인 모든 셀은 **\(\overline{E}\)** 로 채워진다고 하자( \(A,C,D\) 값과 무관 ).
- VEM 배치(개념):  
  - 행 \(AB\)(그레이), 열 \(CD\)(그레이) 4×4 모든 칸에 **B=0 → \(E\)**, **B=1 → \(\overline{E}\)** 표기.
- **묶기 1**: \(A=0\) 행과 \(A=1\) 행은 동일 내용이므로 각 B값에 대해 **상하 2행 묶음**  
  → \(A\) 소거: \(\overline{B}E\) 와 \(B\overline{E}\) 획득.
- **최종**:
  \[
  \boxed{F = \overline{B}E + B\overline{E} = B \odot E \ (\text{XNOR})}
  \]
  (축 변수 \(A,C,D\)가 **모두 소거**됨)

> 포인트: **동일 식**을 세로(또는 가로)로 묶어 **축 변수를 제거**하는 것이 VEM의 핵심 패턴.

### 2.3 예제 2 — 보수 항이 마주보는 경우(XOR가 자연스럽게 등장)
- 두 인접 셀(축 변수 \(A\)를 따라)이 각각 \(P\) 와 \(\overline{P}\) 를 담는 경우
  \[
  \overline{A}P + A\overline{P} = A \oplus P
  \]
- 예) \(F\)의 어떤 **2행 묶음**이 \(D\)와 \(\overline{D}\) 로 채워져 있으면, 그 묶음은 **\(A\oplus D\)** 가 된다.  
  이후 다른 묶음과 **인수화**(예: \((A\oplus D)C + (A\oplus D)\overline{C}=(A\oplus D)\)) 등으로 더 줄일 수 있다.

### 2.4 예제 3 — VEM으로 인수화 가시화(4변수 → 3변수 식)
\[
F(A,B,C,D)=A C + A D + \overline{A} C E \quad (\text{여기서 }E\text{는 외부 변수})
\]
- \(\{A,C\}\)를 축, \(\{B,D\}\)는 무시(또는 DC), **셀 내용**으로 \(E\)가 포함된 식을 넣자.
  - \(A=1\) 행: 셀 전반에 \(C\) 또는 \(D\) (즉 \(C + D\))가 들어감  
  - \(A=0\) 행: \(CE\)
- **상하 묶음**: \(\overline{A}(CE) + A(C+D) = (A + E)C + AD\)  
  \[
  \Rightarrow \boxed{F = A(C+D) + EC} \quad (\text{리터럴/항 수 감소})
  \]
  (*대수: \(A+\overline{A}E=(A+E)(A+\overline{A})=A+E\)*)

### 2.5 VEM 결합 규칙(요약 표)
- 2셀(축 변수 \(Z\))  
  - **같은 표현**: \(\overline{Z}P + ZP = P\) ( \(Z\) 소거 )  
  - **보수 표현**: \(\overline{Z}P + Z\overline{P} = Z\oplus P\)  
  - **흡수 가능**: \(\overline{Z}P + Z(P+Q) = \overline{Z}P + ZP + ZQ = P + ZQ\)
- 4셀(직사각형)도 **셀 내용의 합**을 대수적으로 단순화하여 **축 변수 2개**를 한 번에 소거.

> 숙련 포인트: **같은 꼴을 먼저 묶어 축 변수를 지우고**, 남은 XOR/합을 **인수화**로 흡수한다.

---

## 3) ISF와 VEM을 함께 쓸 때의 실무 팁

1. **ISF의 DC는 ‘결합에만’ 사용**: 큰 PI를 만들어 **리터럴 수**를 줄이는 레버로 쓰고, 차트 열에는 올리지 않는다.  
2. **비용 함수 명시**: (1) PI 개수, (2) 총 리터럴 수, (3) 구현 제약(NAND-only, 팬인 한계 등).  
3. **VEM 축 선택**: 동일 내용이 많이 반복되는 변수를 축으로 두면 **대형 묶음**이 쉬워진다.  
4. **XOR 패턴 감지**: VEM에서 **보수 항이 대칭**으로 배치되면 자연스럽게 \(Z\oplus P\)가 나오므로 SOP만 고집하지 말고 **ESOP 관점**도 고려.  
5. **해저드 주의**: 최소화 후 글리치가 우려되면 K-map/VEM에서 **중첩 묶음(합의항)** 을 추가하는 것이 안전.

---

## 4) 연습문제

1) **ISF–Q–M**  
   \(F(A,B,C,D)=\sum m(0,2,5,7,9,11)+d(1,3)\).  
   - (a) \(I\cup D\) 로 결합표를 만들고 PI를 도출하라.  
   - (b) **주항 차트**(열은 \(I\)만)에서 EPI를 고른다.  
   - (c) 잔여 커버는 **패트릭 방법**으로 최소 커버를 구하라.

2) **VEM(5변수)**  
   \(\{A,B,C,D\}\) 축, 셀 내용은 \(E\).  
   - \(B=0\) 행의 일부 열이 \(E\), 바로 오른쪽 열이 \(\overline{E}\) 로 채워져 있다.  
   - (a) 이 두 열을 가로로 묶었을 때의 표현을 유도하라.  
   - (b) 상하 열과 결합하여 \(A\) 까지 소거하는 과정을 보이고 최종 식을 쓰라.

3) **VEM 인수화**  
   \(F=\overline{A}X + AX + AY\) (여기서 \(X,Y\) 는 축 밖의 변수 식).  
   - VEM 상에서 세 셀 묶음으로 **\(X+(AY)\)** 를 만들고, 대수적으로 \(X+AY=(X+A)(X+Y)\) 를 이용해 **선호 구현 형태** 2가지를 제시하라.
