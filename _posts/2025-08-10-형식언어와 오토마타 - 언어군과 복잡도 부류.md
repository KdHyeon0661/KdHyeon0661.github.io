---
layout: post
title: 형식언어와 오토마타 - 언어군과 복잡도 부류
date: 2025-08-10 21:20:23 +0900
category: 형식언어와 오토마타
---
# 언어군(Language Families)과 복잡도 부류(Complexity Classes) — 두 지도 겹쳐 보기

형식언어 이론의 **언어군**(정규·문맥자유·문맥인식·RE)과 계산복잡도 이론의 **복잡도 부류**(L, NL, P, NP, PSPACE, …)는  
각각 “**무엇을 어떻게 표현할 수 있는가**”와 “**얼마나 적은 자원으로 계산할 수 있는가**”를 말해준다.  
이 글은 두 지도를 **같은 좌표평면**에 겹쳐 보며, 모델·논리·폐포·결정문제·실무 함의를 한 번에 정리한다.  
(수식은 MathJax, 절차는 ``` 코드블록, 표는 마크다운.)

---

## 1) 용어 정리: 언어군 vs 복잡도 부류

- **언어군(Language family)**: 동일한 생성/인식 **모델**로 정의된 언어들의 집합.  
  예) 정규언어(유한오토마타), 문맥자유언어(푸시다운 오토마타), 문맥인식언어(선형한정 오토마타), RE(튜링 기계).
- **복잡도 부류(Complexity class)**: 자원 제한(시간·공간 등) 하에 **결정 가능한** 언어들의 집합.  
  예) \(\mathbf{L}=\mathrm{SPACE}(\log n), \mathbf{P}=\bigcup_k \mathrm{TIME}(n^k), \mathbf{NP}, \mathbf{PSPACE}\) 등.

핵심 차이: 언어군은 **표현력 중심**, 복잡도 부류는 **자원 중심**.  
그러나 “**이 언어군의 멤버십이 어느 복잡도에 속하는가**”처럼 서로를 비출 수 있다.

---

## 2) 촘스키 계층(언어군)과 계산 모델

| 언어군 | 전형 모델 | 핵심 정의 | 멤버십 결정 복잡도(입력=⟨명세, 문자열⟩) | 비고 |
|---|---|---|---|---|
| **REG**(정규) | DFA/NFA/정규표현 | 유한상태로 인식 | \(O(n)\) (DFA), NFA는 \(O(n\cdot |Q|)\) 시뮬 | **AC\(^0\)**에 포함, FO\[<]·MSO[<] 논리와 연계 |
| **CFL**(문맥자유) | PDA/CFG | 스택 1개 | **CYK/Earley**: \(O(|G|\,n^3)\) → \(\mathbf{P}\) | 교집합·보수에 닫히지 않음(단, REG와의 교집합은 CFL) |
| **CSL**(문맥인식) | LBA | 길이 비축약 재작성 | \(=\mathrm{NSPACE}(n)\) (견해 일치) | 보수에 닫힘(대칭성 정리), 멤버십은 PSPACE 이하로 한정되지 않음 |
| **RE**(재귀적 열거 가능) | TM | 비결정 TM 수용 | 멤버십은 **RE-완전**(반결정) | 보수 닫힘 아님; **Recursive**가 결정 가능 언어군 |

메모:
- **CFL 멤버십**은 **항상 \(\mathbf{P}\)**. CFG가 입력으로 함께 와도 CYK/Earley로 다항시간.
- **CSL = NSPACE(n)**(Kuroda/Chomsky–Schützenberger 계열 결과).  
- **Recursive(결정 가능)** ⊊ **RE**. RE의 전역 성질(동치·포함·보편성)은 다수 결정 불가능.

---

## 3) 복잡도 부류(시간·공간) 빠른 지형

\[
\mathbf{L}\subseteq \mathbf{NL}=\mathbf{coNL}\subseteq \mathbf{P}\subseteq \mathbf{NP}\subseteq \mathbf{PSPACE}=\mathbf{NPSPACE}\subseteq \mathbf{EXPTIME}\subseteq \mathbf{EXPSPACE}.
\]

- **계층 정리**: 더 많은 시간·공간은 실제로 더 강함(구성 가능 가정).  
- **Savitch**: \(\mathrm{NSPACE}(s)\subseteq \mathrm{DSPACE}(s^2)\) ⇒ PSPACE=NPSPACE.  
- **Immerman–Szelepcsényi**: NL = coNL.  
- **열린 문제**: \( \mathbf{P}\stackrel{?}{=}\mathbf{NP},\ \mathbf{L}\stackrel{?}{=}\mathbf{NL},\ \mathbf{NP}\stackrel{?}{=}\mathbf{coNP} \).

---

## 4) 두 세계의 다리 ① — 멤버십 복잡도

언어군의 **멤버십 문제**(⟨명세, 문자열⟩가 주어지면 소속 여부 판정)의 복잡도는 다음처럼 정리된다.

- **REG**: DFA면 \(O(n)\), NFA면 \(O(n\cdot |Q|)\). 또한 **AC\(^0\)**에 많은 정규언어가 포함.  
  논리적으로 **MSO[<]**(모노이드/유한오토마타), **FO[<]**는 별표 없는(star-free) 정규언어와 동치.
- **CFL**: \(O(|G|\,n^3)\) (CYK). Earley는 평균 선형~최악 \(O(n^3)\). ⇒ **CFL ⊆ P**.  
  특정 제약(LL/LR/SLR 등)에서 **선형시간 파싱** 가능.
- **CSL**: LBA-멤버십은 \(\mathrm{NSPACE}(n)\)-시간·공간 범주. 결정성은 보장되지만 비용이 큼.
- **RE**: 멤버십은 반결정(수용 시 정지)만 보장; 보편적 결정기는 없다.

요약: **표현력이 강해질수록** 일반 멤버십의 **비용/결정성**은 악화된다.

---

## 5) 두 세계의 다리 ② — 논리(서술적 복잡도)

- **Büchi–Elgot–Trakhtenbrot**: 정규언어 = **MSO[<]**(선형 순서 위의 단일/이차 논리).  
- **스타프리 정규** = **FO[<]** = **아주 규칙적(aperiodic)** 모노이드 언어.  
- **\(\mathbf{P}\)** = **FO(LFP)**(유한구조에서 고정점 논리),  
  **\(\mathbf{NP}\)** = **ESO**(존재적 이차논리, Fagin 정리),  
  **\(\mathbf{PSPACE}\)** = **QBF = FO(PFP)**.  
서술적 관점은 “**언어군 ↔ 논리 ↔ 복잡도**”를 한 줄로 꿰어준다.

---

## 6) 폐포(닫힘) 성질 비교

| 연산 | REG | CFL | CSL | Recursive | RE |
|---|---|---|---|---|---|
| 합/연접/Kleene★ | 닫힘 | 닫힘 | 닫힘 | 닫힘 | 닫힘 |
| 교집합 | 닫힘 | **일반적으론 X** | 닫힘 | 닫힘 | 닫힘 |
| 보수 | 닫힘 | **X** | 닫힘 | 닫힘 | **X** |
| 역호모/호모 | 닫힘 | 닫힘 | 닫힘 | 닫힘 | 닫힘 |
| 정규와의 교집합 | — | **닫힘** | **닫힘** | — | — |

- 이 표는 설계 직감도 준다: **정규와의 교집합**을 섞으면 CFL/CSL에서도 많은 문제가 **결정 가능**해진다.

---

## 7) 전형 결정 문제와 복잡도

| 문제 | REG | CFL | CSL | RE/Type-0 |
|---|---|---|---|---|
| 멤버십 \(w\in L?\) | 선형 | \(O(n^3)\) | \(\mathrm{NSPACE}(n)\) | **RE** (반결정) |
| 공백성 \(L=\varnothing\)? | 결정(선형/다항) | 결정(다항) | 결정 | **결정 불가능** |
| 보편성 \(L=\Sigma^*\)? | 결정 | **결정 불가능** | 결정 | **결정 불가능** |
| 포함성/동치성 | 결정 | **결정 불가능** | 다수 결정 | **결정 불가능** |
| 모호성(문법) | — | **결정 불가능** | — | — |

메시지: **CFL**은 파싱은 쉽지만(멤버십 \(\in \mathbf{P}\)), 전역 성질(보편성·포함·동치·모호성)은 **어렵다**.

---

## 8) 완전성(Completeness) 예시 — 두 지도 교차점

- **NP-완전**: SAT/3-SAT, CLIQUE, HAMILTONIAN, TSP(dec), 3-COLORING. (언어군 제약 없음—일반 정형 문제)  
- **PSPACE-완전**: **QBF**(양화식 만족성), 일반화 게임 결정(정확히 \(\mathbf{PSPACE}\) 수준).  
- **EXPTIME-완전**: “보드 크기 가변” 체스/체커 결정 문제.  
- **#P-완전**: \#SAT(해 개수 세기)—**parsimonious 변형** 필요.  
- **CFL 관련**: 두 CFG 교집합 공백성은 **결정 불가능**(PCP로부터).  
  CFG vs Reg 공백성은 **P-시간 결정 가능**(PDA×DFA 제품 후 공백성).

---

## 9) 실용적 함의 — 언어 설계·파서·검증

1) **언어 구문은 CFL/Deterministic CFL(DCFL)** 안에 머물면 파싱이 예측 가능(LL/LR/GLR).  
   - 충돌/모호성은 복잡도보다 **언어군 구조**의 문제.  
2) **의미 검증**(타입·데이터플로·정책)은 보통 **P·NP·PSPACE** 문제로 모델링된다.  
   - 예: 정적분석(데이터플로)은 대개 **P**(고정점), 경로 민감/상호작용이 커지면 **NP/PSPACE**로 상승.  
3) **형식 검증**: LTL/CTL 모델체킹은 **PSPACE/EXPTIME**로 치솟을 수 있다. 스펙을 제약해 실용성을 맞춘다.  
4) **DSL 설계**: 구문은 **CFL**, 의미 규칙은 **REG와의 교집합** 형태로 만들면 많은 검사가 **결정 가능**·**다항식**에 남는다.

---

## 10) 미니 알고리즘: CYK(멤버십 \(\in \mathbf{P}\)) 스케치

```text
# 입력: CNF 문법 G, 문자열 w[1..n]
# T[i][j][A] := w[i..j]를 A가 유도 가능한가
for i in 1..n:
  for A -> a in G:
    T[i][i][A] := (w[i]==a)
for len in 2..n:
  for i in 1..n-len+1:
    j := i+len-1
    for k in i..j-1:
      for A -> B C in G:
        if T[i][k][B] and T[k+1][j][C]: T[i][j][A] := true
accept iff T[1][n][S]
```

복잡도 \(O(|G|\,n^3)\). 문법이 고정이면 \(O(n^3)\), 더 강한 제약(LL/LR)은 **선형시간**.

---

## 11) 요약 표 — “지도 위의 위치” 한눈에

| 계층 | 대표 | 포함/관계 |
|---|---|---|
| **정규 REG** | DFA/NFA, MSO[<] | REG ⊂ CFL ⊂ CSL ⊂ RE |
| **문맥자유 CFL** | PDA/CFG | CFL 멤버십 ∈ **P**, 보수/교집합(자기자신) X |
| **문맥인식 CSL** | LBA | **CSL = NSPACE(n)** |
| **RE/Recursive** | TM | Recursive ⊊ RE |
| **복잡도** | L ⊆ NL=coNL ⊆ P ⊆ NP ⊆ PSPACE = NPSPACE ⊆ EXPTIME ⊊ EXPSPACE | 계층 정리로 진포함 다수 |

---

## 12) 결론

- **언어군**은 “어떤 구조를 표현·생성할 수 있는가”, **복잡도 부류**는 “그 구조를 판정·계산하는 데 드는 자원은 무엇인가”를 말한다.
- 실무적으로는 **CFL 안의 구문 + 정규 제약과의 조합**이 **결정 가능/다항식**의 달콤한 지대.
- 전역 성질(보편성·포함·동치·모호성)은 쉽게 **결정 불가능**으로 떨어지므로, 사양을 **지역적**·**조합 가능** 형태로 설계하라.
