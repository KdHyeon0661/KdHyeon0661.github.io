---
layout: post
title: JavaScript - TDD
date: 2025-05-27 21:20:23 +0900
category: JavaScript
---
# ğŸ” TDDë¡œ ê°„ë‹¨í•œ ê¸°ëŠ¥ ë§Œë“¤ê¸°

---

## ğŸ“Œ TDDë€?

**TDD(Test-Driven Development)**ëŠ” **í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•˜ê³ , ê·¸ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ëŠ” ì½”ë“œë¥¼ êµ¬í˜„í•˜ëŠ” ê°œë°œ ë°©ì‹**ì…ë‹ˆë‹¤.

### ğŸ’¡ í•µì‹¬ ì‚¬ì´í´: Red â†’ Green â†’ Refactor

1. **Red**: ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•œë‹¤ (ê¸°ëŠ¥ì´ ì•„ì§ ì—†ìŒ)
2. **Green**: í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ìˆ˜ ìˆëŠ” ìµœì†Œí•œì˜ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤
3. **Refactor**: í…ŒìŠ¤íŠ¸ë¥¼ ìœ ì§€í•œ ì±„ ì½”ë“œë¥¼ ì •ë¦¬/ê°œì„ í•œë‹¤

---

## âœ… ë§Œë“¤ ê¸°ëŠ¥: "isPrime(ì†Œìˆ˜ íŒë³„ í•¨ìˆ˜)"

ì…ë ¥ìœ¼ë¡œ ìì—°ìˆ˜ë¥¼ ë°›ì•„, í•´ë‹¹ ìˆ˜ê°€ ì†Œìˆ˜ì¸ì§€ ì—¬ë¶€ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ `TDD` ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.

---

## 1ï¸âƒ£ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •

**Jest ê¸°ì¤€ìœ¼ë¡œ ì§„í–‰**í•©ë‹ˆë‹¤.

```bash
npm init -y
npm install --save-dev jest
```

**package.json ìˆ˜ì •**

```json
"scripts": {
  "test": "jest"
}
```

---

## 2ï¸âƒ£ Red ë‹¨ê³„: ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„±

`prime.test.js`

```js
const { isPrime } = require('./prime');

test('2ëŠ” ì†Œìˆ˜ì´ë‹¤.', () => {
  expect(isPrime(2)).toBe(true);
});

test('4ëŠ” ì†Œìˆ˜ê°€ ì•„ë‹ˆë‹¤.', () => {
  expect(isPrime(4)).toBe(false);
});
```

> ì•„ì§ `prime.js` íŒŒì¼ì´ ì—†ê¸° ë•Œë¬¸ì— ì‹¤í–‰ ì‹œ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤ â†’ **Red ìƒíƒœ**

---

## 3ï¸âƒ£ Green ë‹¨ê³„: ìµœì†Œí•œì˜ ì½”ë“œ ì‘ì„±

`prime.js`

```js
function isPrime(n) {
  return true; // ì„ì‹œë¡œ ë¬´ì¡°ê±´ true ë°˜í™˜
}

module.exports = { isPrime };
```

ì‹¤í–‰:

```bash
npm test
```

â†’ ì²« í…ŒìŠ¤íŠ¸(`2ëŠ” ì†Œìˆ˜`)ëŠ” í†µê³¼í•˜ë‚˜, ë‘ ë²ˆì§¸(`4ëŠ” ì†Œìˆ˜ê°€ ì•„ë‹˜`)ëŠ” ì‹¤íŒ¨í•¨ â†’ ê³„ì† Greenì„ ëª©í‘œë¡œ ì§„í–‰í•©ë‹ˆë‹¤.

---

## 4ï¸âƒ£ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¶”ê°€ + ê°œì„  ë°˜ë³µ

`prime.test.js` (ì¶”ê°€ í…ŒìŠ¤íŠ¸)

```js
test('1ì€ ì†Œìˆ˜ê°€ ì•„ë‹ˆë‹¤.', () => {
  expect(isPrime(1)).toBe(false);
});

test('7ì€ ì†Œìˆ˜ì´ë‹¤.', () => {
  expect(isPrime(7)).toBe(true);
});

test('9ëŠ” ì†Œìˆ˜ê°€ ì•„ë‹ˆë‹¤.', () => {
  expect(isPrime(9)).toBe(false);
});
```

---

## 5ï¸âƒ£ Green ë‹¨ê³„: ì‹¤ì œ êµ¬í˜„ (í†µê³¼í•˜ëŠ” ì½”ë“œ)

```js
function isPrime(n) {
  if (n <= 1) return false;
  if (n === 2) return true;

  for (let i = 2; i <= Math.sqrt(n); i++) {
    if (n % i === 0) return false;
  }

  return true;
}
```

---

## 6ï¸âƒ£ Refactor ë‹¨ê³„: ì„±ëŠ¥ ê°œì„  / êµ¬ì¡° ê°œì„ 

ì§€ê¸ˆë„ ê´œì°®ì§€ë§Œ, ì˜ˆì™¸ ì¼€ì´ìŠ¤ì™€ ë°˜ë³µ ì¡°ê±´ì„ ì¢€ ë” ëª…í™•íˆ ì •ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
function isPrime(n) {
  if (n <= 1) return false;
  if (n === 2 || n === 3) return true;
  if (n % 2 === 0 || n % 3 === 0) return false;

  for (let i = 5; i <= Math.sqrt(n); i += 6) {
    if (n % i === 0 || n % (i + 2) === 0) return false;
  }

  return true;
}
```

âœ… **í…ŒìŠ¤íŠ¸ ì „ë¶€ í†µê³¼í•˜ë©´ì„œ ì½”ë“œê°€ ê¹”ë”í•˜ê²Œ ì •ë¦¬**ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ§  TDDì˜ ì¥ì 

- ìš”êµ¬ì‚¬í•­ì„ ëª…í™•íˆ ì •ë¦¬í•œ ë’¤ ê°œë°œ ì‹œì‘
- ë²„ê·¸ê°€ ìƒê²¨ë„ í…ŒìŠ¤íŠ¸ê°€ ì¦‰ì‹œ ê°ì§€
- í…ŒìŠ¤íŠ¸ê°€ **ê¸°ëŠ¥ ëª…ì„¸ì„œ ì—­í• **ë„ í•¨
- ë¦¬íŒ©í† ë§ì— ëŒ€í•œ ìì‹ ê° ìƒìŠ¹
- ìë™í™”ëœ í…ŒìŠ¤íŠ¸ë¡œ ê°œë°œ ì†ë„ í–¥ìƒ

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡° ì˜ˆì‹œ

```
ğŸ“¦ tdd-prime
 â”£ ğŸ“œ prime.js
 â”£ ğŸ“œ prime.test.js
 â”£ ğŸ“œ package.json
```

---

## ğŸ”— ì°¸ê³  ë§í¬

- [Jest ê³µì‹ ë¬¸ì„œ](https://jestjs.io/docs/getting-started)
- [TDD ì›ì¹™ ì •ë¦¬](https://martinfowler.com/bliki/TestDrivenDevelopment.html)
- [Red-Green-Refactor ê°œë…](https://www.agilealliance.org/glossary/tdd/)

---

## ğŸ“ ë§ˆë¬´ë¦¬ ìš”ì•½

| ë‹¨ê³„ | ì„¤ëª… |
|------|------|
| Red | ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„± (ê¸°ëŠ¥ ì—†ìŒ) |
| Green | í…ŒìŠ¤íŠ¸ í†µê³¼í•˜ëŠ” ìµœì†Œ ì½”ë“œ ì‘ì„± |
| Refactor | í…ŒìŠ¤íŠ¸ ìœ ì§€í•˜ë©´ì„œ ì½”ë“œ ê°œì„  |
| ë°˜ë³µ | í…ŒìŠ¤íŠ¸ â†’ êµ¬í˜„ â†’ ê°œì„ ì˜ ë°˜ë³µ |

TDDëŠ” ì²˜ìŒì—” ë‚¯ì„¤ ìˆ˜ ìˆì§€ë§Œ, ìµìˆ™í•´ì§€ë©´ **ì½”ë“œ í’ˆì§ˆ, ìœ ì§€ë³´ìˆ˜, í˜‘ì—… íš¨ìœ¨ì„±**ì„ ëª¨ë‘ ë†’ì¼ ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ê°œë°œ ë°©ì‹ì…ë‹ˆë‹¤.
