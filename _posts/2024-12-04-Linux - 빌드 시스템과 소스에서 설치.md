---
layout: post
title: Linux - ë¹Œë“œ ì‹œìŠ¤í…œê³¼ ì†ŒìŠ¤ì—ì„œ ì„¤ì¹˜
date: 2024-12-04 19:20:23 +0900
category: Linux
---
# ë¹Œë“œ ì‹œìŠ¤í…œê³¼ ì†ŒìŠ¤ì—ì„œ ì„¤ì¹˜

## âš™ï¸ 1. GNU ì „í†µ ë¹Œë“œ: `configure â†’ make â†’ make install`

Autotools ê¸°ë°˜ ì†ŒìŠ¤ íŠ¸ë¦¬ì—ëŠ” ëŒ€ê°œ `configure` ìŠ¤í¬ë¦½íŠ¸ê°€ ìˆê³  í™˜ê²½ì„ ì ê²€í•´ `Makefile`ì„ ìƒì„±í•œë‹¤.

### ì¤€ë¹„

```bash
# (Deb/Ubuntu) ì»´íŒŒì¼ëŸ¬/íˆ´ì²´ì¸

sudo apt update
sudo apt install -y build-essential pkg-config

# (RHEL/Fedora)
# sudo dnf groupinstall "Development Tools"
# sudo dnf install pkgconf-pkg-config

```

### í‘œì¤€ ë¹Œë“œ

```bash
tar -xzf program-1.2.3.tar.gz
cd program-1.2.3

# í™˜ê²½ ì ê²€ & Makefile ìƒì„±

./configure --prefix=/usr/local --enable-something --with-ssl

# ë³‘ë ¬ ì»´íŒŒì¼(ì½”ì–´ ìˆ˜ë§Œí¼)

make -j"$(nproc)"

# í…ŒìŠ¤íŠ¸(ìˆë‹¤ë©´)

make check    # ë˜ëŠ”: make test

# ì‹œìŠ¤í…œ ì„¤ì¹˜(ê¸°ë³¸ prefixì—)

sudo make install
```

#### ìì£¼ ì“°ëŠ” `./configure` ì˜µì…˜

| ì˜µì…˜ | ì„¤ëª… |
|---|---|
| `--prefix=/opt/myapp` | ê¸°ë³¸ ì„¤ì¹˜ ë£¨íŠ¸(ê¸°ë³¸ `/usr/local`) |
| `--sysconfdir=/etc` | ì„¤ì • íŒŒì¼ ìœ„ì¹˜ |
| `--libdir=/usr/lib64` | ë¼ì´ë¸ŒëŸ¬ë¦¬ ê²½ë¡œ(ë©€í‹°ì•„ì¹˜ ê³ ë ¤) |
| `--enable-XXX` / `--disable-XXX` | ê¸°ëŠ¥ í† ê¸€ |
| `--with-XXX[=PATH]` | ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒ/ê²½ë¡œ ì§€ì • |

### ì•ˆì „í•œ ì„¤ì¹˜: `DESTDIR`(ìŠ¤í…Œì´ì§•)

ì‹¤ì œ ì‹œìŠ¤í…œì— ë°”ë¡œ ê¹”ì§€ ë§ê³  â€œê°€ì§œ ë£¨íŠ¸(ìŠ¤í…Œì´ì§•)â€ì— ì„¤ì¹˜ í›„ íŒ¨í‚¤ì§•/ê²€í† í•œë‹¤.
```bash
make -j"$(nproc)"
make DESTDIR="$PWD/_staging" install
tree _staging
```
- ì´ë ‡ê²Œ **ì„¤ì¹˜ íŒŒì¼ ëª©ë¡**ì„ ì‰½ê²Œ í™•ë³´ â†’ `.deb/.rpm` ë§Œë“¤ê±°ë‚˜ `stow`ë¡œ í¸í•˜ê²Œ ê´€ë¦¬.

### ì‚­ì œ/ì—…ê·¸ë ˆì´ë“œ ëŒ€ë¹„

- ì†ŒìŠ¤ê°€ `uninstall` íƒ€ê¹ƒì„ ì œê³µí•˜ë©´:
  ```bash
  sudo make uninstall
  ```
- ì œê³µí•˜ì§€ ì•Šìœ¼ë©´ **DESTDIR ìŠ¤í…Œì´ì§• + íŒ¨í‚¤ì§•**ìœ¼ë¡œ ì„¤ì¹˜/ì‚­ì œë¥¼ ê´€ë¦¬(ê¶Œì¥).

### Autotoolsê°€ ì—†ì„ ë•Œ

ì†ŒìŠ¤ë§Œ ìˆê³  `configure`ê°€ ì—†ë‹¤ë©´:
```bash
# ì¢…ì¢… autogen.sh / bootstrap ìŠ¤í¬ë¦½íŠ¸ ì œê³µ

./autogen.sh      # ë˜ëŠ”
autoreconf -fi    # configure.ac â†’ configure ìƒì„±
./configure && make -j"$(nproc)"
```

---

## ğŸ› ï¸ 2. ë„êµ¬ì™€ í™˜ê²½: ì»´íŒŒì¼ëŸ¬Â·ìºì‹œÂ·ë””ë²„ê·¸Â·í…ŒìŠ¤íŠ¸

### í•„ìˆ˜/ìœ ìš© ë„êµ¬

| ë„êµ¬ | ìš©ë„ |
|---|---|
| `gcc`, `g++`, `clang` | ì»´íŒŒì¼ëŸ¬ |
| `make`, `ninja` | ë¹Œë“œ ì‹¤í–‰ê¸°(ìŠ¤ì¼€ì¤„ëŸ¬) |
| `pkg-config` | ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ íƒì§€(`.pc` íŒŒì¼) |
| `ccache`/`sccache` | ì»´íŒŒì¼ ìºì‹œ(ì¬ë¹Œë“œ ê°€ì†) |
| `distcc` | ë¶„ì‚° ë¹Œë“œ |
| `gdb`, `valgrind` | ë””ë²„ê¹…/ë©”ëª¨ë¦¬ ê²€ì‚¬ |
| `asan/ubsan/tsan` | ëŸ°íƒ€ì„ ë²„ê·¸ íƒì§€(ì•„ë«ê¸€ ì°¸ê³ ) |

```bash
# ccache ì˜ˆ

sudo apt install -y ccache
export CC="ccache gcc"
export CXX="ccache g++"
```

### ìµœì í™”/ë””ë²„ê¹… í”Œë˜ê·¸(ì˜ˆ)

```bash
# ë””ë²„ê·¸ ë¹Œë“œ(ê¸°ë³¸)

CFLAGS="-O0 -g3 -fno-omit-frame-pointer" CXXFLAGS="$CFLAGS" ./configure

# ë¦´ë¦¬ìŠ¤ ë¹Œë“œ(ìµœì í™”/LTO)

CFLAGS="-O3 -DNDEBUG -flto" CXXFLAGS="$CFLAGS" ./configure
make -j"$(nproc)"
```

### Sanitizers(ë²„ê·¸ í—ŒíŒ…)

```bash
CFLAGS="-O1 -g -fsanitize=address,undefined -fno-omit-frame-pointer" \
CXXFLAGS="$CFLAGS" \
./configure && make -j"$(nproc)"
```
- Address/Undefined Behavior/Thread SanitizerëŠ” ê°œë°œ ë‹¨ê³„ì— ê°•ë ¥.

### í…ŒìŠ¤íŠ¸Â·ì»¤ë²„ë¦¬ì§€

```bash
# Autotools

make check

# ì»¤ë²„ë¦¬ì§€(ì˜ˆ: gcc + lcov)

CFLAGS="--coverage -O0" CXXFLAGS="$CFLAGS" ./configure && make && make check
lcov --capture --directory . --output-file coverage.info
genhtml coverage.info --output-directory out
```

---

## ğŸ§± 3. CMake & Ninja: í˜„ëŒ€ì  ë¹Œë“œ

CMakeëŠ” **íˆ´ì²´ì¸/IDE/í”Œë«í¼** ë…ë¦½ì ì¸ ë¹Œë“œ ì‹œìŠ¤í…œ ìƒì„±ê¸°ë‹¤. NinjaëŠ” ë¹ ë¥¸ ë¹Œë“œ ì‹¤í–‰ê¸°ë¡œ CMakeì™€ ê¶í•©ì´ ì¢‹ë‹¤.

### í‘œì¤€ ì›Œí¬í”Œë¡œ

```bash
sudo apt install -y cmake ninja-build

# out-of-tree ë¹Œë“œ

mkdir -p build && cd build
cmake -G Ninja -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/usr/local ..
ninja -j"$(nproc)"
ctest --output-on-failure         # í…ŒìŠ¤íŠ¸
sudo ninja install
```

### ì˜ì¡´ì„±: `pkg-config` / FetchContent

- íŒ¨í‚¤ì§€ ë°©ì‹:
  ```cmake
  find_package(PkgConfig REQUIRED)
  pkg_check_modules(FOO REQUIRED IMPORTED_TARGET foo)
  target_link_libraries(myapp PRIVATE PkgConfig::FOO)
  ```
- **FetchContent**(ì†ŒìŠ¤ ê°€ì ¸ì™€ í•¨ê»˜ ë¹Œë“œ):
  ```cmake
  include(FetchContent)
  FetchContent_Declare(
    fmt
    GIT_REPOSITORY https://github.com/fmtlib/fmt.git
    GIT_TAG        11.0.2
  )
  FetchContent_MakeAvailable(fmt)
  target_link_libraries(myapp PRIVATE fmt::fmt)
  ```

### ì„¤ì¹˜ ìŠ¤í…Œì´ì§•(DESTDIR)

```bash
ninja
DESTDIR="$PWD/_stage" ninja install
```

### CPackë¡œ íŒ¨í‚¤ì§€ ë§Œë“¤ê¸°(ê°„ë‹¨)

```cmake
# CMakeLists.txt

include(CPack)
set(CPACK_GENERATOR "DEB;RPM")
set(CPACK_PACKAGE_NAME "myapp")
set(CPACK_PACKAGE_VERSION "1.2.3")
```
```bash
cpack -G DEB
cpack -G RPM
```

### CMake Presets(ê¶Œì¥)

ë£¨íŠ¸ì— `CMakePresets.json`ì„ ë‘ì–´ ëª…ë ¹ ì¼ê´€í™”:
```json
{
  "version": 3,
  "configurePresets": [
    {
      "name": "rel",
      "generator": "Ninja",
      "binaryDir": "build/rel",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Release",
        "CMAKE_INSTALL_PREFIX": "/usr/local"
      }
    }
  ]
}
```
```bash
cmake --preset rel
cmake --build --preset rel
cmake --install --preset rel
```

---

## âš¡ 4. Meson + Ninja: ì„ ì–¸ì Â·ê³ ì† ë¹Œë“œ

### ê¸°ë³¸

```bash
sudo apt install -y meson ninja-build
meson setup build --prefix=/usr/local -Ddefault_library=shared -Dbuildtype=release
meson compile -C build
meson test -C build
sudo meson install -C build
```

### WrapDB(ì˜ì¡´ì„±)

```bash
meson wrap install fmt
# subprojects/fmt/ ë‹¤ìš´ë¡œë“œ í›„
# meson.buildì—ì„œ dependency('fmt') ë¡œ ì°¸ì¡°

```

---

## ğŸ”— 5. ë¼ì´ë¸ŒëŸ¬ë¦¬Â·ë§ì»¤Â·ëŸ°íƒ€ì„ ê²½ë¡œ: soname, RPATH/RUNPATH

### ê°œë… ì •ë¦¬

- **soname**: ABI í˜¸í™˜ ë²„ì „ ì´ë¦„. ì˜ˆ) `libfoo.so.1`
- **ldconfig**: `/etc/ld.so.conf.d/*.conf` ê°±ì‹  â†’ `ld.so.cache` ìƒì„±
- **RPATH/RUNPATH**: ì‹¤í–‰ íŒŒì¼ì´ **ëŸ°íƒ€ì„ì— ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ëŠ” ê²½ë¡œ**. RUNPATH ê¶Œì¥.

### ì„¤ì¹˜ í›„ ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¸ì‹

```bash
# /usr/local/lib ë“±ë¡

echo "/usr/local/lib" | sudo tee /etc/ld.so.conf.d/local.conf
sudo ldconfig

# ì§„ë‹¨

ldd /usr/local/bin/myprog
```

### (ì£¼ì˜) LD_LIBRARY_PATH

ì„ì‹œ ë””ë²„ê¹… ìš©ë„ë¡œë§Œ. ì‹œìŠ¤í…œ ì „ì—­ìœ¼ë¡œ ë‚¨ê²¨ë‘ë©´ ì˜ë„ì¹˜ ì•Šì€ ì¶©ëŒ/ë³´ì•ˆ ìœ„í—˜.

---

## ğŸ“¦ 6. íŒ¨í‚¤ì§•: checkinstall / dpkg-deb / rpmbuild / CPack / fpm

### checkinstall(ê°„í¸)

```bash
sudo apt install -y checkinstall
make
sudo checkinstall           # make installì„ ê°ì‹œí•´ .deb/.rpm ìƒì„±
```
- **ì¥ì **: ë¹ ë¦„.
- **ì£¼ì˜**: ë³µì¡í•œ íŒ¨í‚¤ì§€ ë©”íƒ€/ìŠ¤í¬ë¦½íŠ¸/ë¶„í•  íŒ¨í‚¤ì§€ì—” í•œê³„.

### ìˆ˜ë™ `.deb`(ê¸°ë³¸ê¸°)

```
mypkg/
â”œâ”€â”€ DEBIAN/control
â””â”€â”€ usr/local/bin/myprog
```
`DEBIAN/control`:
```
Package: myprog
Version: 1.0.0
Section: utils
Priority: optional
Architecture: amd64
Maintainer: You <you@example.com>
Description: ì„¤ëª…
```
ë¹Œë“œ:
```bash
dpkg-deb --build mypkg
sudo apt install ./mypkg.deb
```

### `.rpm`(spec ê°œìš”)

`~/.rpmmacros` ì„¤ì • í›„:
```
%define name myprog
%define version 1.0.0
Summary: ì„¤ëª…
Name: %{name}
Version: %{version}
Release: 1%{?dist}
License: MIT
Source: myprog-%{version}.tar.gz
BuildRequires: gcc, make
%description
ê¸´ ì„¤ëª…

%prep
%setup -q

%build
%configure
make -j%{_smp_build_ncpus}

%install
rm -rf %{buildroot}
make DESTDIR=%{buildroot} install

%files
/usr/local/bin/myprog
```
```bash
rpmbuild -ba SPECS/myprog.spec
```

### CPack(CMake ë‚´ì¥) & fpm(ë§ŒëŠ¥ íŒ¨í‚¤ì €)

```bash
# CPack: ìœ„ 3.4 ì°¸ê³ 
# fpm: íŒŒì¼/ë””ë ‰í† ë¦¬ â†’ íŒ¨í‚¤ì§€

gem install --user-install fpm
fpm -s dir -t deb -n myprog -v 1.0.0 /usr/local/bin/myprog
```

---

## ğŸ§ª 7. ì‹¤ì „ ì˜ˆì œ

### ì˜ˆì œ A: htop ì†ŒìŠ¤ ì§ì ‘ ì„¤ì¹˜(Autotools)

```bash
tar -xzf htop-3.2.2.tar.gz
cd htop-3.2.2
./configure --prefix=/usr/local
make -j"$(nproc)"
sudo make install
```

### ì˜ˆì œ B: checkinstallë¡œ ì„¤ì¹˜ ì¶”ì 

```bash
cd htop-3.2.2
./configure && make -j"$(nproc)"
sudo checkinstall   # .deb ìƒì„± ë° ì„¤ì¹˜
```

### ì˜ˆì œ C: CMake í”„ë¡œì íŠ¸ë¥¼ /opt ê²½ë¡œì—

```bash
mkdir build && cd build
cmake -G Ninja -DCMAKE_BUILD_TYPE=RelWithDebInfo -DCMAKE_INSTALL_PREFIX=/opt/myapp ..
ninja && sudo ninja install
```

### ì˜ˆì œ D: DESTDIR ìŠ¤í…Œì´ì§• + dpkg-deb

```bash
cmake -B build -G Ninja -DCMAKE_INSTALL_PREFIX=/usr/local
cmake --build build -j"$(nproc)"
DESTDIR="$PWD/_stage" cmake --install build

mkdir -p mypkg/DEBIAN
cat > mypkg/DEBIAN/control <<'EOF'
Package: mycmakeapp
Version: 1.0.0
Section: utils
Priority: optional
Architecture: amd64
Maintainer: You <you@example.com>
Description: My CMake App
EOF

# ìŠ¤í…Œì´ì§• ë‚´ìš© ë³µì‚¬

rsync -a _stage/usr mypkg/
dpkg-deb --build mypkg
sudo apt install ./mypkg.deb
```

---

## ğŸŒ 8. í¬ë¡œìŠ¤ ì»´íŒŒì¼Â·ì„ë² ë””ë“œ

### Autotools

```bash
./configure --host=aarch64-linux-gnu --build=x86_64-pc-linux-gnu \
            --prefix=/usr \
            CC=aarch64-linux-gnu-gcc \
            PKG_CONFIG_PATH=/opt/arm-sysroot/usr/lib/pkgconfig \
            PKG_CONFIG_SYSROOT_DIR=/opt/arm-sysroot
make -j"$(nproc)"
```

### CMake Toolchain

`toolchain-aarch64.cmake`:
```cmake
set(CMAKE_SYSTEM_NAME Linux)
set(CMAKE_SYSTEM_PROCESSOR aarch64)
set(CMAKE_C_COMPILER aarch64-linux-gnu-gcc)
set(CMAKE_CXX_COMPILER aarch64-linux-gnu-g++)
set(CMAKE_SYSROOT /opt/arm-sysroot)
set(PKG_CONFIG_USE_CMAKE_PREFIX_PATH TRUE)
```
```bash
cmake -G Ninja -B build.arm -DCMAKE_TOOLCHAIN_FILE=toolchain-aarch64.cmake -DCMAKE_BUILD_TYPE=Release
cmake --build build.arm -j"$(nproc)"
```

### QEMUë¡œ íƒ€ê²Ÿ ë°”ì´ë„ˆë¦¬ í…ŒìŠ¤íŠ¸

```bash
qemu-aarch64 -L /opt/arm-sysroot ./build.arm/myprog
```

---

## ğŸ§© 9. ì¬í˜„ê°€ëŠ¥(Repeatable) ë¹Œë“œì™€ CI

### ì»¨í…Œì´ë„ˆë¡œ í™˜ê²½ ê³ ì •

```Dockerfile
FROM debian:stable-slim
RUN apt update && apt install -y build-essential cmake ninja-build pkg-config
WORKDIR /src
```
```bash
docker build -t mybuild .
docker run --rm -v "$PWD":/src mybuild bash -lc 'cmake -B build -G Ninja && cmake --build build -j$(nproc)'
```

### GitHub Actions ì˜ˆ(ìš”ì§€)

```yaml
name: build
on: [push, pull_request]
jobs:
  linux:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: sudo apt update && sudo apt install -y cmake ninja-build build-essential
      - run: cmake -B build -G Ninja -DCMAKE_BUILD_TYPE=Release
      - run: cmake --build build -j"$(nproc)"
      - run: ctest --test-dir build --output-on-failure
```

### ì¬í˜„ê°€ëŠ¥ ë¹Œë“œ íŒ

- **ì •í™•í•œ ë²„ì „ ê³ ì •**(ì„œë¸Œëª¨ë“ˆ/FetchContent í•´ì‹œ)
- **í™˜ê²½ ë³€ìˆ˜/ê²½ë¡œ**ë¥¼ ë¡œê·¸ì— ì¶œë ¥
- `SOURCE_DATE_EPOCH` ë“± íƒ€ì„ìŠ¤íƒ¬í”„ í‘œì¤€í™”ë¡œ í•´ì‹œ ì¼ê´€ì„±

---

## ğŸ§  10. ë¹Œë“œ ì†ë„ì™€ ìì› ì¶”ì •(ì§ê´€ì‹)

ë³‘ë ¬ ë¹Œë“œ ìŠ¤ë ˆë“œ ìˆ˜ë¥¼ \(j\), ì´ìƒì  ê°€ì† íš¨ìœ¨ì„ \(\eta \in (0,1]\), ë‹¨ì¼ ìŠ¤ë ˆë“œ ì‹œê°„ \(T_1\)ì´ë¼ í•˜ë©´,
$$
T_j \approx \frac{T_1}{\eta \cdot j}
$$
- ì˜ì¡´ì„± ê·¸ë˜í”„, I/O, ë§í¬ ë³‘ëª©, ìºì‹œ ë¯¸ìŠ¤ê°€ \(\eta\)ë¥¼ ë‚®ì¶˜ë‹¤.
- **ccache/sccache**, **Ninja**, **ê³ ì† ìŠ¤í† ë¦¬ì§€(SSD/NVMe)** ë¡œ \(\eta\)ë¥¼ í‚¤ìš°ì.

---

## ğŸ§· 11. ìì£¼ ê±¸ë¦¬ëŠ” í•¨ì •ê³¼ ì²˜ë°©

1) **í—¤ë”/ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª» ì°¾ìŒ**
   - `pkg-config --cflags --libs libname`ë¡œ í”Œë˜ê·¸ í™•ì¸
   - `PKG_CONFIG_PATH`, `CMAKE_PREFIX_PATH`, `LD_LIBRARY_PATH`(ì„ì‹œ) ì ê²€
   - ì„¤ì¹˜ í›„ `sudo ldconfig` ìŠì§€ ë§ê¸°

2) **RPATH ì˜¤ì—¼/ì¶©ëŒ**
   - CMake: `CMAKE_INSTALL_RPATH_USE_LINK_PATH=ON`, `CMAKE_INSTALL_RPATH` ìµœì†Œí™”
   - ì‹œìŠ¤í…œ ì „ì—­ LD_LIBRARY_PATH ìƒì‹œ ì„¤ì • ê¸ˆì§€

3) **make uninstall ì—†ìŒ**
   - **DESTDIR ìŠ¤í…Œì´ì§• + íŒ¨í‚¤ì§•**ìœ¼ë¡œ ê´€ë¦¬(ê¶Œì¥). ë˜ëŠ” `checkinstall`/`stow`.

4) **ë””ë²„ê·¸ ì‹¬ë³¼ ë¶„ë¦¬**
   - `strip`/`objcopy --only-keep-debug`ë¡œ **-dbgsym íŒ¨í‚¤ì§€** ë¶„ë¦¬(ë°°í¬ ìµœì ).

5) **ë¼ì´ì„ ìŠ¤Â·SPDX**
   - ë°°í¬ ì „ `LICENSE`, `NOTICE`, ì†ŒìŠ¤/ë°”ì´ë„ˆë¦¬ í¬í•¨ ë¼ì´ì„ ìŠ¤ í™•ì¸.

---

## ğŸ§ª 12. ë¯¸ë‹ˆ í”„ë¡œì íŠ¸ ì˜ˆì‹œ(Autotools â†” CMake â†” Meson)

### GNU Makefile(ì´ˆê°„ë‹¨)

```make
CC ?= gcc
CFLAGS ?= -O2 -Wall
LDFLAGS ?=
PREFIX ?= /usr/local

all: hello
hello: src/hello.c
	$(CC) $(CFLAGS) -o $@ $< $(LDFLAGS)

install: hello
	install -d $(DESTDIR)$(PREFIX)/bin
	install -m 0755 hello $(DESTDIR)$(PREFIX)/bin/hello

uninstall:
	rm -f $(DESTDIR)$(PREFIX)/bin/hello

clean:
	rm -f hello
```

### CMakeLists.txt(ìš”ì§€)

```cmake
cmake_minimum_required(VERSION 3.20)
project(hello C)
add_executable(hello src/hello.c)
install(TARGETS hello RUNTIME DESTINATION bin)
```

### Meson(ìš”ì§€)

```meson
project('hello', 'c')
executable('hello', 'src/hello.c', install: true)
```

---

## ğŸ“ ìš”ì•½ ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… |
|---|---|
| `./configure && make && sudo make install` | ì „í†µ Autotools ë¹Œë“œ |
| `make DESTDIR=_stage install` | ìŠ¤í…Œì´ì§• ì„¤ì¹˜(íŒ¨í‚¤ì§•/ê²€í† ) |
| `cmake -B build -G Ninja â€¦ && cmake --build build` | CMake+Ninja ë¹Œë“œ |
| `ctest`, `meson test` | í…ŒìŠ¤íŠ¸ ì‹¤í–‰ |
| `sudo checkinstall` | ê°„í¸ íŒ¨í‚¤ì§• ì„¤ì¹˜ |
| `dpkg-deb --build`, `rpmbuild -ba` | ìˆ˜ë™ DEB/RPM ìƒì„± |
| `cpack -G DEB/RPM` | CMake ë‚´ì¥ íŒ¨í‚¤ì§• |
| `fpm -s dir -t deb â€¦` | ë§ŒëŠ¥ íŒ¨í‚¤ì € |
| `pkg-config --cflags --libs` | ì˜ì¡´ì„± í”Œë˜ê·¸ ì¡°íšŒ |
| `ldconfig`, `ldd` | ë¼ì´ë¸ŒëŸ¬ë¦¬ ìºì‹œ/ì§„ë‹¨ |

---

## âœ¨ ë§ˆë¬´ë¦¬

- **ìˆ˜ë™ ì„¤ì¹˜ì˜ í•¨ì •**ì€ `DESTDIR`Â·**íŒ¨í‚¤ì§•**ìœ¼ë¡œ í”¼í•˜ê³ , **í…ŒìŠ¤íŠ¸/ìºì‹œ/ë³‘ë ¬ ë¹Œë“œ**ë¡œ ì‹œê°„ì„ ë‹¨ì¶•í•˜ì.
- **Autotools/CMake/Meson** ê°ìì˜ ì¥ì ì„ ìµí˜€ **í”„ë¡œì íŠ¸ ì„±ê²©**ì— ë§ì¶° ê³ ë¥¸ë‹¤.
- **RPATH/RUNPATHÂ·sonameÂ·pkg-config** ê°™ì€ ìš´ì˜ ë ˆì´ì–´ë¥¼ ì´í•´í•˜ë©´ **ë°°í¬/ë””ë²„ê¹…/ìœ ì§€ë³´ìˆ˜**ê°€ ì‰¬ì›Œì§„ë‹¤.
- ì»¨í…Œì´ë„ˆ/CIë¡œ **í™˜ê²½ì„ ê³ ì •**í•˜ê³ , ì¬í˜„ê°€ëŠ¥ ë¹Œë“œ ìŠµê´€ì„ ë“¤ì´ë©´ **ì–¸ì œë‚˜ ê°™ì€ ê²°ê³¼**ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.
