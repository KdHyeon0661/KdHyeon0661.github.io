---
layout: post
title: AWS - 멀티 계정 전략 및 조직 관리
date: 2025-08-08 18:20:23 +0900
category: AWS
---
# 멀티 계정 전략 및 조직 관리

AWS 환경이 커지고 복잡해질수록, 모든 리소스를 단일 계정에서 운영하는 것은 보안·비용·운영 측면에서 한계가 있습니다.  
따라서 AWS는 **멀티 계정 전략(Multi-Account Strategy)**을 공식적으로 권장하며, 이를 효율적으로 관리하기 위해 **AWS Organizations**와 **Service Control Policies(SCP)**, **AWS Control Tower** 등을 제공합니다.

---

## 1. 멀티 계정 전략이 필요한 이유

멀티 계정을 사용하면 다음과 같은 이점이 있습니다.

- **보안 격리(Security Isolation)**  
  한 계정에서 발생한 보안 사고가 다른 계정에 영향을 주지 않음
- **리소스 격리(Resource Isolation)**  
  개발, 스테이징, 운영 환경을 물리적으로 분리 가능
- **비용 추적 및 청구 분리**  
  각 계정별로 비용을 따로 관리하고 팀/프로젝트별 청구서 발행 가능
- **규제 준수(Compliance)**  
  민감 데이터 처리 계정과 일반 계정을 분리하여 규제 대응 용이
- **운영 유연성**  
  팀별/프로젝트별로 독립적인 계정 운영

---

## 2. AWS Organizations

`AWS Organizations`는 멀티 계정 환경을 중앙에서 관리할 수 있는 서비스입니다.

### 주요 기능
- **조직(Organization)** 생성 및 계정 초대/생성
- **조직 단위(OU, Organizational Unit)**로 계정 그룹화
- **Service Control Policies(SCP)** 적용
- **통합 결제(Consolidated Billing)** 지원
- **Cross-Account 접근 제어** 가능

---

## 3. 조직 구조 설계 예시

다음은 AWS 권장 멀티 계정 구조 예시입니다.

```
Root Organization
│
├── Security OU
│   ├── Security Tooling Account
│   └── Logging Account (CloudTrail, Config, GuardDuty)
│
├── Infrastructure OU
│   ├── Networking Account (VPC, Transit Gateway)
│   └── Shared Services Account (AD, DNS, CI/CD)
│
├── Workloads OU
│   ├── Dev Account
│   ├── Staging Account
│   └── Prod Account
│
└── Sandbox OU
    └── Experiment Account
```

---

## 4. Service Control Policies(SCP)

SCP는 **계정 단위에서 IAM 권한을 상한선으로 제한**하는 정책입니다.  
IAM 정책은 개별 유저/역할에 부여되지만, SCP는 **계정 전체에 적용**되어 IAM 정책보다 우선적으로 동작합니다.

예: 특정 OU 내 모든 계정에서 `us-east-1` 리전만 사용 허용
```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "DenyOtherRegions",
      "Effect": "Deny",
      "Action": "*",
      "Resource": "*",
      "Condition": {
        "StringNotEquals": {
          "aws:RequestedRegion": "us-east-1"
        }
      }
    }
  ]
}
```

---

## 5. AWS Control Tower

멀티 계정을 처음부터 안전하고 표준화된 방법으로 배포하려면 **AWS Control Tower**를 사용하는 것이 좋습니다.

- **기본 계정 구조(Landing Zone)** 자동 생성
- **SCP, CloudTrail, Config, GuardDuty** 자동 설정
- **자동 계정 프로비저닝** 기능 제공
- **계정 생성 시 표준 보안 설정 자동 적용**

---

## 6. 멀티 계정 운영 모범 사례

1. **계정 역할(Role) 기반 접근**  
   루트 계정 사용은 절대 금지, 필요 시 AssumeRole 사용
2. **중앙집중 로깅**  
   모든 계정의 CloudTrail, Config 로그를 **Logging Account**로 수집
3. **보안 계정 분리**  
   보안 툴과 SIEM은 별도의 Security Account에서 운영
4. **비용 관리**  
   AWS Cost Explorer + 태그 기반 비용 분석
5. **표준화된 네트워크 구성**  
   Transit Gateway + VPC Peering으로 네트워크 설계
6. **계정 생명주기 관리**  
   신규 프로젝트 → OU 배치 → 계정 생성 → 운영 종료 시 폐기

---

## 7. 계정 생성 자동화 예시 (AWS CLI + Control Tower)

```bash
aws organizations create-account \
    --email "dev-team@example.com" \
    --account-name "Dev-Team-Account" \
    --role-name "OrganizationAccountAccessRole" \
    --iam-user-access-to-billing ALLOW
```

---

## 8. 결론

멀티 계정 전략은 단순히 계정을 많이 만드는 것이 아니라, **조직의 보안·비용·운영·규제 측면을 최적화하는 아키텍처 설계**입니다.  
AWS Organizations, SCP, Control Tower를 적극 활용하면 **운영 효율과 보안 수준**을 모두 향상시킬 수 있습니다.