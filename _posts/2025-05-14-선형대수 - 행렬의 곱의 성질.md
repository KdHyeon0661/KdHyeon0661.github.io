---
layout: post
title: 선형대수 - 행렬의 곱의 성질
date: 2025-05-14 22:20:23 +0900
category: 선형대수
---
# ✖️ 행렬의 곱의 성질과 주의점 – 행렬 곱셈, 생각보다 까다롭다?

행렬 곱셈은 선형대수에서 가장 핵심적인 연산 중 하나입니다.  
하지만 **스칼라 연산**과는 매우 다른 규칙이 적용되며, **주의할 점도 많습니다**.  
이번 글에서는 행렬 곱셈의 수학적 정의, 대표 성질, 주의할 점, 실전 예제를 함께 정리해보겠습니다.

---

## 🧮 1. 행렬 곱의 정의

두 행렬 \( A \in \mathbb{R}^{m \times n} \), \( B \in \mathbb{R}^{n \times p} \)의 곱 \( C = AB \)는 다음과 같이 정의됩니다:

\[
C_{ij} = \sum_{k=1}^{n} A_{ik} \cdot B_{kj}
\]

즉, **A의 i번째 행**과 **B의 j번째 열** 간 **내적**입니다.

---

## ✅ 2. 행렬 곱의 기본 성질

### 📌 2.1 결합법칙 (Associativity)

\[
A(BC) = (AB)C
\]

- 여러 개의 행렬을 곱할 때, 괄호를 어디에 치든 결과는 동일
- 연산 순서를 바꿔도 괜찮음 (단, **계산 순서는 성능에 영향**)

---

### 📌 2.2 분배법칙 (Distributivity)

\[
A(B + C) = AB + AC, \quad (A + B)C = AC + BC
\]

- 행렬 곱과 덧셈은 서로 분배됨

---

### 📌 2.3 항등원

\[
AI = IA = A
\]

- \( I \)는 단위행렬 (identity matrix)

---

### 📌 2.4 전치와의 관계

\[
(AB)^T = B^T A^T
\]

- **순서가 바뀌는 것**에 주의!

---

## ❗ 3. 주의할 점 (행렬 곱셈의 특이점들)

### ⚠️ 3.1 교환법칙 불성립

\[
AB \neq BA
\]

- 일반적으로 **행렬 곱은 교환법칙이 성립하지 않음**
- 일부 특수한 경우 (대각행렬, 단위행렬 등)만 가능

#### ⛔ 예시

```python
import numpy as np

A = np.array([[1, 2], [3, 4]])
B = np.array([[2, 0], [1, 2]])

print("AB:\n", A @ B)
print("BA:\n", B @ A)  # 다름
```

---

### ⚠️ 3.2 곱이 가능하려면, 앞의 열 수 = 뒤의 행 수

- \( A_{m \times n} \), \( B_{n \times p} \) → OK
- \( A_{3 \times 2} \), \( B_{3 \times 2} \) → ❌ 곱셈 불가

---

### ⚠️ 3.3 0이 아닌 행렬끼리 곱했는데 0행렬이 될 수 있다

- 즉, \( AB = 0 \) 이라고 해서 \( A = 0 \) 또는 \( B = 0 \)은 아님

```python
A = np.array([[1, -1], [1, -1]])
B = np.array([[1, 1], [1, 1]])

print("AB:\n", A @ B)  # 0행렬
```

---

### ⚠️ 3.4 역행렬 관련 주의

- \( AB \)에 역행렬이 존재하더라도, 개별 \( A, B \)의 역행렬이 존재해야 \( (AB)^{-1} = B^{-1}A^{-1} \) 사용 가능

---

### ⚠️ 3.5 계산 비용이 매우 큼

- 행렬 곱의 시간복잡도는 일반적으로 \( O(n^3) \)
- 실무에서는 **행렬 곱의 순서 최적화**, **블록 행렬**, **Strassen 알고리즘** 등을 사용

---

## 🧾 성질 요약 표

| 성질 | 수식 | 성립 여부 |
|------|------|------------|
| 결합법칙 | \( A(BC) = (AB)C \) | ✅ |
| 분배법칙 | \( A(B+C) = AB + AC \) | ✅ |
| 항등원 존재 | \( AI = IA = A \) | ✅ |
| 교환법칙 | \( AB = BA \) | ❌ (일반적으로 불성립) |
| 전치 연산 | \( (AB)^T = B^T A^T \) | ✅ (순서 주의) |

---

## 📌 실전 팁

- 행렬 곱이 가능한지 먼저 **차원 확인**!
- 곱의 순서에 따라 결과가 바뀔 수 있으니 항상 순서를 의식
- 연산 순서를 바꾸는 건 가능하지만, **계산 비용 최적화**를 위해 고려 필요
- 단위행렬, 0행렬과의 곱 특성은 선형 시스템 해석에서 자주 등장