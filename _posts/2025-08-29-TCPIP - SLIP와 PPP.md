---
layout: post
title: TCPIP - SLIP, PPP
date: 2025-08-29 17:25:23 +0900
category: TCPIP
---
# 인터페이스 계층 프로토콜 (SLIP, PPP)

## TCP/IP 네트워크 인터페이스 계층 개요

TCP/IP 프로토콜 스택의 네트워크 인터페이스 계층은 OSI 모델의 **물리 계층과 데이터 링크 계층**의 기능을 결합하여, 물리적 네트워크 매체에 데이터를 실제로 프레이밍(Framing)하고 전송하는 역할을 담당합니다. 하드웨어와 가장 밀접하게 연결된 이 계층에서 점대점(Point-to-Point) 연결을 위한 가장 중요한 두 프로토콜이 **SLIP**과 **PPP**입니다.

이 프로토콜들은 1980~90년대 모뎀을 통한 직렬 회선 연결의 표준이었으며, 오늘날에도 WAN 연결, VPN 터널링, 브로드밴드(DSL) 접속 등에서 핵심적인 위치를 차지합니다.

---

## 직렬 회선 인터넷 프로토콜 (SLIP)

SLIP(Serial Line Internet Protocol)은 1980년대 초반에 개발된 매우 단순한 프로토콜로, IP 패킷을 직렬 회선으로 전송하기 위한 최소한의 프레임 형식만을 제공합니다.

### SLIP의 주요 특징

* **극도로 단순한 설계**: 헤더나 트레일러가 거의 없는 구조입니다.
* **프레임 구분 방식**: **END 문자(0xC0)**를 사용하여 프레임의 시작과 끝을 표시합니다.
* **데이터 투명성 보장**: 데이터 내에 END 문자와 동일한 바이트가 있으면 이를 ESCAPE 시퀀스로 대체하여 전송합니다.
* **고정된 MTU**: 일반적으로 1006바이트로 제한됩니다.
* **압축 옵션**: TCP/IP 헤더를 압축하여 효율성을 높인 **CSLIP(Compressed SLIP)** 방식이 존재합니다.

### SLIP의 치명적인 한계

1. **오류 검출/수정 기능 없음**: 데이터 손상 감지 기능이 없어 상위 계층(TCP)의 판단에 전적으로 의존합니다.
2. **주소 지정 및 협상 부재**: 점대점 연결만 가정하므로 주소 정보가 없으며, 고정 IP 주소만 지원하여 **동적 주소 할당이 불가능**합니다.
3. **프로토콜 식별 불가**: IP 전용으로 설계되어 IPX, AppleTalk 등 다른 네트워크 프로토콜을 동시에 전송할 수 없습니다.
4. **인증 기능 없음**: 사용자를 확인할 수 있는 보안 메커니즘이 전혀 없습니다.
5. **표준화 부족**: 네트워크 구성 매개변수를 협상할 방법이 없으며, 압축 방식도 비표준인 경우가 많습니다.

```text
[ END 문자 (0xC0) ] [ IP 패킷 데이터 ] [ END 문자 (0xC0) ]
```

---

## 점대점 프로토콜 (PPP)

PPP(Point-to-Point Protocol)는 1990년대 초반(RFC 1661) SLIP의 한계를 완벽히 극복하기 위해 설계된 강력하고 정교한 프로토콜입니다.

### PPP의 핵심 장점과 이점

- **다중 프로토콜 지원**: 하나의 물리 링크에서 IP, IPX, AppleTalk 등 다양한 프로토콜을 병행 지원합니다.
- **오류 검출**: CRC(Cyclic Redundancy Check) 기반의 **프레임 검사 시퀀스(FCS)**로 데이터 무결성을 보장합니다.
- **링크 품질 모니터링**: 연결 상태를 감시하고 품질이 저하되면 링크를 재설정합니다.
- **자동 협상**: IP 주소, DNS 서버 주소 등 네트워크 매개변수를 자동으로 설정합니다.
- **강력한 보안**: PAP 및 CHAP 인증 프로토콜을 통해 보안 접속을 지원합니다.
- **압축 표준화**: 여러 표준 압축 알고리즘 지원
- **링크 설정 자동화**: 완전 자동 연결 설정 및 구성

### PPP 프로토콜 스택 및 구성 요소

PPP는 모듈식 구조로 각 작업이 독립적인 하위 프로토콜에 의해 수행됩니다.

```text
+-----------------------------------------------------------+
|      다양한 네트워크 프로토콜 (IP, IPX, AppleTalk 등)      |
+-----------------------------------------------------------+
|   NCP (Network Control Protocol): 각 프로토콜별 설정 제어    |
+-----------------------------------------------------------+
|   LCP (Link Control Protocol): 링크 설정, 유지 및 종료 제어   |
+-----------------------------------------------------------+
|            프레임 형식 (HDLC 기반 / FCS 오류 검출)           |
+-----------------------------------------------------------+
|            물리적 매체 (직렬 회선, 모뎀, ISDN 등)            |
+-----------------------------------------------------------+
```

---

## PPP 핵심 하위 프로토콜 상세

### LCP (Link Control Protocol): 링크 제어

PPP의 심장부로, 링크의 설정, 유지, 테스트 및 종료를 담당합니다.

* **구성 협상**: **MRU**(최대 수신 단위), 인증 프로토콜 종류, 압축 알고리즘 등을 협상합니다.
* **루프백 감지**: **매직 넘버(Magic Number)**를 사용하여 데이터가 자신에게 되돌아오는지 확인합니다.
* **LCP 패킷 유형**: 구성 패킷(Request/Ack/Nak/Reject), 종료 패킷, 관리 패킷(Echo-Request/Reply 등)으로 나뉩니다.

### NCP (Network Control Protocol): 네트워크 제어

상위 계층 프로토콜과의 통신을 위해 각 프로토콜마다 별도의 NCP를 사용합니다.

* **IPCP (Internet Protocol CP)**: 동적 IP 주소 협상, DNS 주소 전달, IP 헤더 압축 협상 등을 수행합니다.
* **IPXCP, NBFCP**: IPX 및 NetBIOS 설정을 담당합니다.

---

## PPP 연결 설정 6단계 프로세스

PPP 연결은 다음과 같은 엄격한 단계를 거쳐 수립됩니다.

1. **링크 데드 (Link Dead)**: 물리적 연결이 없는 초기 상태.
2. **링크 설정 (Link Establishment)**: LCP 패킷 교환을 통해 기본 연결 매개변수를 협상합니다.
3. **인증 (Authentication)**: 선택적 단계로, PAP나 CHAP를 통해 사용자 신원을 확인합니다.
4. **네트워크 프로토콜 (Network Layer Protocol)**: NCP(IPCP 등)를 통해 IP 주소 할당 등 세부 설정을 완료합니다.
5. **링크 열림 (Opened)**: 정상적인 데이터 전송이 이루어지는 단계입니다.
6. **링크 종료 (Link Termination)**: 통신 완료 후 LCP 패킷을 통해 연결을 정상 종료합니다.

- PPP 연결 수립 과정

```
+-----------+     +-----------+
| 링크 데드 |────>| 링크 설정 | (LCP 구성 협상)
+-----------+     +-----------+
                        |
                        v
                 +-----------+
                 |  인증 단계 | (PAP/CHAP 선택적)
                 +-----------+
                        |
                        v
            +-----------------------+
            | 네트워크 프로토콜 단계 | (NCP 협상, IP 주소 할당)
            +-----------------------+
                        |
                        v
                 +-----------+
                 | 데이터 전송 | (정상 통신 상태)
                 +-----------+
```

### PPP 표준

PPP는 IETF(인터넷 엔지니어링 태스크 포스)에서 관리하는 일련의 RFC 문서로 표준화되어 있습니다:

- **RFC 1661**: PPP 기본 사양
- **RFC 1662**: HDLC와 유사한 프레임 구조
- **RFC 1332**: IPCP(IP 제어 프로토콜) 사양
- **RFC 1994**: CHAP 인증 프로토콜
- 기타 여러 RFC들로 구성된 포괄적 표준군

---

## PPP 핵심 프로토콜: 링크 제어, 네트워크 제어 및 인증

### PPP 링크 제어 프로토콜 (LCP)

LCP는 PPP의 가장 중요한 구성 요소로, 링크의 설정, 유지 관리, 테스트, 종료를 담당합니다.

**LCP의 주요 기능:**

1. **링크 설정 협상**: MTU 크기, 인증 프로토콜, 압축 방식 등 매개변수 협상
2. **링크 품질 테스트**: 링크 품질을 모니터링하고 문제 감지
3. **프로토콜 오류 감지**: 구성 오류나 비호환성 식별
4. **링크 종료 관리**: 정상적 연결 종료 절차 수행

**LCP 패킷 유형:**

- **구성 패킷**: Configure-Request, Configure-Ack, Configure-Nak, Configure-Reject
- **종료 패킷**: Terminate-Request, Terminate-Ack
- **링크 관리 패킷**: Code-Reject, Protocol-Reject, Echo-Request, Echo-Reply, Discard-Request

### PPP 네트워크 제어 프로토콜 (IPCP, IPXCP, NBFCP 등)

NCP는 특정 네트워크 계층 프로토콜의 설정과 관리를 담당하는 프로토콜들의 집합입니다. 각 네트워크 프로토콜마다 별도의 NCP가 존재합니다:

- **IPCP (Internet Protocol Control Protocol)**: IP 주소 할당, DNS 서버 주소 전달 등 IP 관련 설정
- **IPXCP (Internetwork Packet Exchange CP)**: IPX/SPX 프로토콜 설정
- **NBFCP (NetBIOS Frames CP)**: NetBEUI 프로토콜 설정
- **기타**: AppleTalk, DECnet, OSI 등 다양한 프로토콜용 NCP

IPCP는 가장 널리 사용되는 NCP로, 다음과 같은 중요한 기능을 제공합니다:

1. 동적 IP 주소 협상
2. DNS 서버 주소 전달
3. IP 헤더 압축 협상

---

## PPP 인증 프로토콜 상세 비교

### PAP (Password Authentication Protocol)

* **동작 방식**: 2-way 핸드셰이크. 사용자 ID와 비밀번호를 **평문(Plain Text)**으로 전송합니다.
* **보안성**: 매우 낮음. 스니핑 공격에 취약합니다.
* **과정**: 클라이언트가 서버에 인증 요청 → 서버가 승인/거부 응답.

- PAP 인증 과정

```text
클라이언트                     서버
    |─── Authenticate-Request ──>|
    | (ID/비밀번호 평문 전송)    |
    |<─── Authenticate-Ack ──────|
    |       (성공)               |
```

### CHAP (Challenge Handshake Authentication Protocol)

- **동작 방식**: 3-way 핸드셰이크. 비밀번호를 절대 직접 전송하지 않습니다.
- **보안성**: 높음. 해시 함수를 사용하며, 주기적인 **재인증**으로 연결 보안을 유지합니다.
- **인증 과정**: 
  1. 서버가 클라이언트에게 챌린지(난수) 전송
  2. 클라이언트는 비밀번호와 챌린지를 해시화하여 응답
  3. 서버는 동일한 계산으로 응답 검증

- CHAP 인증 과정

```text
[CHAP 인증 과정 다이어그램]
클라이언트(사용자)                     서버(ISP/인증기관)
      | <---------- Challenge (난수) ---------- | (1. 서버가 챌린지 발송)
      |                                        |
      | ----------- Response (해시값) --------> | (2. 해시(난수+비밀번호) 응답)
      |                                        |
      | <---------- Success / Failure --------- | (3. 인증 결과 통지)

```

---

## 결론

SLIP와 PPP는 인터넷 발전사에서 중요한 이정표를 남긴 프로토콜들입니다. SLIP는 단순함으로 초기 인터넷 확산에 기여했지만, 기능적 한계로 인해 빠르게 도태되었습니다. 반면 PPP는 모듈화된 설계와 확장성으로 점대점 연결의 표준이 되었으며, 오늘날에도 그 영향력이 남아있습니다.

PPP의 진정한 가치는 **프로토콜 디자인의 교과서적 사례**라는 점입니다. 단일 작업에 집중하는 여러 하위 프로토콜(LCP, NCP, 인증 프로토콜)이 계층적으로 구성되어 유연성과 확장성을 극대화한 방식은 이후 많은 네트워크 프로토콜 설계에 영향을 미쳤습니다. 특히 CHAP의 도전-응답 인증 메커니즘은 현대 인증 시스템의 기초를 제공했습니다.

현재 PPP는 전통적인 모뎀 연결보다는 PPPoE(PPP over Ethernet) 형태로 광대역 인터넷 접속에, 또는 PPTP, L2TP 같은 VPN 터널링 프로토콜의 기반으로 계속 사용되고 있습니다. 이러한 유산은 TCP/IP 네트워크 인터페이스 계층의 진화 과정을 이해하는 데 중요한 통찰력을 제공하며, 네트워크 프로토콜 설계의 근본 원칙을 배우는 살아있는 교재로 평가받고 있습니다.