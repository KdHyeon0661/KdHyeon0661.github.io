---
layout: post
title: μ»΄ν“¨ν„°μ‹μ¤ν… - μ •λ³΄ μ ‘κ·Όν•κΈ°
date: 2025-07-21 21:20:23 +0900
category: μ»΄ν“¨ν„°μ‹μ¤ν…
---
# π§  μ •λ³΄ μ ‘κ·Όν•κΈ° (Accessing Information)

μ»΄ν“¨ν„° μ‹μ¤ν…μ—μ„ **μ •λ³΄μ— μ ‘κ·Όν•λ” λ°©λ²•**μ€ μ„±λ¥μ— λ§¤μ° ν° μν–¥μ„ λΌμΉλ‹¤. μ΄ μ¥μ—μ„λ” μ»΄ν“¨ν„°κ°€ **μ–΄λ–»κ² λ©”λ¨λ¦¬μ— μ €μ¥λ μ •λ³΄μ— μ ‘κ·Όν•λ”κ°€**, νΉν **λ°°μ—΄κ³Ό ν¬μΈν„°**, **κµ¬μ΅°μ²΄**, **λΉ„νΈ ν•„λ“** λ“±μ C μ–Έμ–΄ ν‘ν„μ΄ **μ–΄μ…λΈ”λ¦¬ μ½”λ“ μμ¤€μ—μ„ μ–΄λ–»κ² ν•΄μ„λλ”κ°€**λ¥Ό μ΄ν•΄ν•λ” λ° μ¤‘μ μ„ λ‘”λ‹¤.

---

## π“ μ£Όμ†μ™€ ν¬μΈν„°

μ»΄ν“¨ν„° λ©”λ¨λ¦¬λ” λ°”μ΄νΈ μ£Όμ†λ¥Ό κΈ°μ¤€μΌλ΅ κµ¬μ„±λμ–΄ μλ‹¤. Cμ—μ„λ” ν¬μΈν„°(pointer)λ¥Ό ν†µν•΄ λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό μ§μ ‘ μ΅°μ‘ν•  μ μλ‹¤.

```c
int x = 123;
int *p = &x;  // pλ” xμ μ£Όμ†λ¥Ό κ°€λ¦¬ν‚¨λ‹¤.
```

- `p`λ” xμ μ£Όμ†λ¥Ό λ‹΄κ³  μλ” ν¬μΈν„°
- `*p`λ” ν•΄λ‹Ή μ£Όμ†μ κ°’μ„ μ½κ±°λ‚ μ“Έ λ• μ‚¬μ©

ν¬μΈν„°λ” νΉμ • **μλ£ν•**μ„ κΈ°λ°μΌλ΅ ν•΄μ„λλ―€λ΅, `int *`λ” 4λ°”μ΄νΈ λ‹¨μ„λ΅ λ™μ‘ν•λ” ν¬μΈν„°μ΄λ‹¤ (32λΉ„νΈ κΈ°μ¤€).

---

## π“ λ°°μ—΄(Array)

Cμ—μ„ λ°°μ—΄μ€ μ—°μ†λ λ©”λ¨λ¦¬ κ³µκ°„μ„ ν• λ‹Ήλ°›λ”λ‹¤. μλ¥Ό λ“¤μ–΄:

```c
int a[5] = {1, 2, 3, 4, 5};
```

μ΄ λ°°μ—΄μ€ μ•„λμ™€ κ°™μ΄ λ©”λ¨λ¦¬μ— λ°°μΉλλ‹¤ (4λ°”μ΄νΈ μ •μ κΈ°μ¤€):

```
μ£Όμ†:   0x1000  0x1004  0x1008  0x100C  0x1010
κ°’:       1       2       3       4       5
```

Cμ—μ„ λ°°μ—΄ μ ‘κ·Ό `a[i]`λ” μ‚¬μ‹¤ λ‹¤μκ³Ό κ°™μ€ ν¬μΈν„° μ—°μ‚°μ΄λ‹¤:

```c
*(a + i)
```

λ”°λΌμ„, `a[3]`λ” `*(a + 3)`κ³Ό κ°™λ‹¤.

---

## π“ ν¬μΈν„° μ‚°μ (Pointer Arithmetic)

ν¬μΈν„° μ—°μ‚°μ€ ν¬μΈν„°μ μλ£ν• ν¬κΈ°μ— λ”°λΌ μλ™μΌλ΅ λ°”μ΄νΈ λ‹¨μ„ μ—°μ‚°μ„ μν–‰ν•λ‹¤.

```c
int *p = a;      // λ°°μ—΄ aμ μ²« λ²μ§Έ μ”μ†
int *q = p + 3;  // μ„Έ λ²μ§Έ μ”μ† (p + 3 * sizeof(int))
```

μ΄μ²λΌ `p + i`λ” `p`κ°€ κ°€λ¦¬ν‚¤λ” μλ£ν•μ ν¬κΈ°λ§νΌ κ³±ν•΄μ Έ μ‹¤μ  μ£Όμ†κ°€ κ³„μ‚°λλ‹¤.

---

## π“ κµ¬μ΅°μ²΄(Struct)μ™€ μ •λ ¬(Alignment)

Cμ—μ„ κµ¬μ΅°μ²΄λ” μ—¬λ¬ ν•„λ“λ¥Ό λ¬¶μ€ λ³µν•© μλ£ν•μ΄λ‹¤.

```c
struct Point {
    int x;
    int y;
};
```

μ΄ κµ¬μ΅°μ²΄λ” λ‹¤μκ³Ό κ°™μ΄ λ©”λ¨λ¦¬μ— μ €μ¥λλ‹¤:

```
|   x (4 bytes)   |   y (4 bytes)   |
|    0x00~0x03    |    0x04~0x07    |
```

ν•μ§€λ§ μ •λ ¬ κ·μΉ™μ— λ”°λΌ **ν¨λ”©(padding)**μ΄ μ‚½μ…λ  μ μλ‹¤.

### β… μμ‹: ν¨λ”© λ°μƒ

```c
struct Example {
    char a;   // 1 byte
    int b;    // 4 bytes
};
```

μ΄ κµ¬μ΅°μ²΄λ” μ‹¤μ λ΅ μ•„λμ²λΌ λ©”λ¨λ¦¬μ— μ €μ¥λλ‹¤:

```
|  a  | pad | pad | pad |  b  | b  | b  | b  |
| 0x0 |  x  |  x  |  x  | 0x4 | 0x5|0x6 |0x7 |
```

μ΄ ν¬κΈ°: **8λ°”μ΄νΈ**  
ν¨λ”©μΌλ΅ μΈν• **κ³µκ°„ λ‚­λΉ„** λ°μƒ

> π― μ •λ ¬(Alignment): νΉμ • νƒ€μ…μ μλ£λ” λ©”λ¨λ¦¬μ—μ„ κ·Έ ν¬κΈ°λ§νΌ μ •λ ¬λ μ£Όμ†μ— μ„μΉν•΄μ•Ό μ„±λ¥μƒ μ λ¦¬ν•λ‹¤.

---

## π“ κµ¬μ΅°μ²΄ μ ‘κ·Ό μμ 

```c
struct Point p = {3, 7};
int x = p.x;  // λ©”λ¨λ¦¬μ—μ„ pμ x ν•„λ“ μ„μΉλ¥Ό μ°Έμ΅°
```

μ»΄νμΌλ¬λ” `p.x`λ¥Ό λ‹¤μκ³Ό κ°™μ€ μ£Όμ† κ³„μ‚°μΌλ΅ μ ‘κ·Όν•λ‹¤:

```assembly
mov eax, DWORD PTR [ebp - 8]  ; p.xκ°€ μ €μ¥λ λ©”λ¨λ¦¬μ—μ„ μ½κΈ°
```

---

## π“ μ¤‘μ²© κµ¬μ΅°μ²΄(Nested Struct)

```c
struct Rectangle {
    struct Point bottom_left;
    struct Point top_right;
};
```

μ—¬κΈ°μ„ κ° `Point`λ” 8λ°”μ΄νΈμ΄λ―€λ΅, `Rectangle`μ€ 16λ°”μ΄νΈκ°€ λλ‹¤. ν•„λ“ μ ‘κ·Όμ€ κ³„μΈµμ μΌλ΅ μν–‰λλ‹¤:

```c
r.bottom_left.x  // μ²« λ²μ§Έ ν•„λ“λ΅λ¶€ν„° 0λ°”μ΄νΈ μ¤ν”„μ…‹
r.top_right.y    // λ‘ λ²μ§Έ Pointμ—μ„ 4λ°”μ΄νΈ μ¤ν”„μ…‹ μ¶”κ°€
```

---

## π“ κ³µμ©μ²΄(Union)

```c
union U {
    int i;
    float f;
};
```

κ³µμ©μ²΄λ” **λ¨λ“  ν•„λ“κ°€ κ°™μ€ λ©”λ¨λ¦¬ κ³µκ°„μ„ κ³µμ **ν•λ‹¤. κ°€μ¥ ν° ν•„λ“ κΈ°μ¤€μΌλ΅ μ „μ²΄ ν¬κΈ°κ°€ κ²°μ •λλ‹¤.

```c
union U u;
u.i = 0x40490fdb;  // float 3.14159λ΅ ν•΄μ„ κ°€λ¥
printf("%f\n", u.f);  // 3.14159
```

---

## π“ λΉ„νΈ ν•„λ“(Bit-field)

```c
struct Flags {
    unsigned int a : 1;
    unsigned int b : 3;
    unsigned int c : 4;
};
```

- μ΄ 8λΉ„νΈλ¥Ό 3κ°μ ν•„λ“κ°€ λ‚λ μ„ μ‚¬μ©
- νΉμ • λΉ„νΈλ¥Ό μ§μ ‘ μ΅°μ‘ν•  μ μμ

λΉ„νΈ ν•„λ“λ” ν•λ“μ›¨μ–΄ λ μ§€μ¤ν„° μ μ–΄ λ“±μ— μ μ©ν•κ² μ‚¬μ©λλ‹¤.

---

## π“ λ°°μ—΄κ³Ό ν¬μΈν„°μ μ°¨μ΄

λ°°μ—΄ μ΄λ¦„ `a`λ” λ°°μ—΄μ **μ‹μ‘ μ£Όμ†**λ¥Ό λ‚νƒ€λ‚΄μ§€λ§, **μ§„μ§ ν¬μΈν„°λ” μ•„λ‹λ‹¤.**

```c
int a[5];
int *p = a;     // κ°€λ¥
a = p;          // λ¶κ°€λ¥ (λ°°μ—΄ μ΄λ¦„μ€ lvalueκ°€ μ•„λ‹)
```

λ°°μ—΄μ€ **κ³ μ •λ ν¬κΈ°**μ™€ μ£Όμ†λ¥Ό κ°€μ§€λ©°, ν¬μΈν„°λ” **λ™μ μΌλ΅ κ°’ λ³€κ²½ κ°€λ¥**

---

## π“ λ©”λ¨λ¦¬ μ£Όμ† κ³„μ‚°μ μ‹¤μ  μ

```c
char a[3] = {'x', 'y', 'z'};
printf("%c\n", *(a + 1));  // 'y'
```

1. `a`λ” `char *` νƒ€μ…μΌλ΅ ν•΄μ„λ¨
2. `a + 1` β†’ λ‹¤μ λ°”μ΄νΈ μ£Όμ†
3. `*` μ—°μ‚°μ„ ν†µν•΄ ν•΄λ‹Ή μ£Όμ†μ κ°’μ„ κ°€μ Έμ΄

μ΄λ¬ν• μ—°μ‚°μ€ μ»΄νμΌλ¬μ— μν•΄ μ–΄μ…λΈ”λ¦¬λ΅ λ³€ν™λ  λ• μ •ν™•ν• μ£Όμ† κ³„μ‚°μ„ μν–‰ν•¨

---

## π“ λ°°μ—΄μ„ μΈμλ΅ λ„κΈ°κΈ°

```c
void foo(int *arr) {
    printf("%d\n", arr[2]);
}
```

λ°°μ—΄μ„ λ„κΈ°λ©΄ μ‹¤μ λ΅λ” **ν¬μΈν„°**κ°€ μ „λ‹¬λλ―€λ΅ ν¬κΈ° μ •λ³΄λ” μ‚¬λΌμ§„λ‹¤.  
μ¦‰, `sizeof(arr)`λ” `sizeof(int *)`κ°€ λλ‹¤.

> π― λ°°μ—΄μ ν¬κΈ°κ°€ ν•„μ”ν•λ©΄ λ”°λ΅ μΈμλ΅ λ„κ²¨μ•Ό ν•λ‹¤.

---

## π“ λ‹¤μ°¨μ› λ°°μ—΄

```c
int a[3][4];  // 3ν–‰ 4μ—΄

a[i][j] == *(*(a + i) + j)
```

- ν–‰ μ°μ„ (row-major) λ°©μ‹μΌλ΅ μ €μ¥
- κ° ν–‰μ€ μ—°μ†λ λ©”λ¨λ¦¬ κ³µκ°„μ— λ°°μΉλ¨

### λ©”λ¨λ¦¬ μ£Όμ† κ³„μ‚°

```c
int x = a[i][j];
```

μ£Όμ† κ³„μ‚°:

\[
\text{μ£Όμ†} = \text{base} + (i \times \text{μ—΄μ μ} + j) \times \text{sizeof(int)}
\]

---

## π“ μ”μ•½: μ •λ³΄ μ ‘κ·Όμ ν•µμ‹¬

| κ°λ…              | μ„¤λ… |
|-------------------|------|
| ν¬μΈν„°            | λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό λ‚νƒ€λ‚΄λ” λ³€μ |
| λ°°μ—΄              | μ—°μ†λ λ©”λ¨λ¦¬ κ³µκ°„, `a[i] == *(a + i)` |
| κµ¬μ΅°μ²΄            | μ—¬λ¬ μλ£ν•μ λ¬¶μ, μ •λ ¬ ν•„μ” |
| κ³µμ©μ²΄            | μ—¬λ¬ ν•„λ“κ°€ κ°™μ€ λ©”λ¨λ¦¬ κ³µκ°„ κ³µμ  |
| λΉ„νΈ ν•„λ“         | λ³€μμ κ°λ³„ λΉ„νΈλ¥Ό μ΅°μ‘ |
| λ‹¤μ°¨μ› λ°°μ—΄        | ν–‰ μ°μ„  μμ„λ΅ μ €μ¥λ¨ |

---

## π“ μ°Έκ³ : μ»΄νμΌλ¬ μµμ ν™”μ™€ μ •λ³΄ μ ‘κ·Ό

- λ°°μ—΄μ€ **μ •μ  ν¬κΈ°**μΌ κ²½μ° λ£¨ν”„ μ–Έλ΅¤λ§ λ“±μ μµμ ν™” λ€μƒ
- κµ¬μ΅°μ²΄λ” μ •λ ¬ κ·μΉ™μ— λ”°λΌ **ν¨λ”© μ‚½μ…**
- ν¬μΈν„°λ¥Ό μλ» μ“°λ©΄ **λ²„νΌ μ¤λ²„ν”λ΅μ°** λ°μƒ

---

## π” μμ : ν¬μΈν„° λ°°μ—΄κ³Ό λ°°μ—΄ ν¬μΈν„°μ μ°¨μ΄

```c
int *a[3];     // intμ— λ€ν• ν¬μΈν„° 3κ° (ν¬μΈν„° λ°°μ—΄)
int (*b)[3];   // int 3κ°μ— λ€ν• λ°°μ—΄ ν¬μΈν„°
```

μ΄ λ‘μ€ μ™„μ „ν λ‹¤λ¥΄λ‹¤:

- `a[i]`λ” ν¬μΈν„°μ΄λ©°, `*a[i]`λ΅ κ°’μ„ μ°Έμ΅°
- `b`λ” μ „μ²΄ λ°°μ—΄μ„ κ°€λ¦¬ν‚¤λ©°, `(*b)[i]`λ΅ μ”μ†μ— μ ‘κ·Ό

---

## β… μ •λ¦¬

μ •λ³΄ μ ‘κ·Όμ€ λ‹¨μν λ°μ΄ν„°λ¥Ό μ½κ³  μ“°λ” κ²ƒμ΄ μ•„λ‹λΌ, **μλ£μ λ°°μΉ**, **μ •λ ¬**, **ν¬μΈν„° μ—°μ‚°**, **μ–΄μ…λΈ”λ¦¬ μμ¤€μ μ£Όμ† κ³„μ‚°**κΉμ§€ ν¬ν•¨ν•λ” λ³µν•©μ μΈ μ£Όμ λ‹¤. μ΄λ¥Ό κΉμ΄ μ΄ν•΄ν•λ©΄ ν”„λ΅κ·Έλ¨μ **μ„±λ¥ μµμ ν™”**, **μ‹μ¤ν… μ΄ν•΄λ„**, **λ²„κ·Έ μλ°©**μ— ν° λ„μ›€μ΄ λλ‹¤.
