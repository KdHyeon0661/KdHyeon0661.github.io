---
layout: post
title: WPF - 데이터 바인딩 모드 심화
date: 2025-09-02 17:25:23 +0900
category: WPF
---
# WPF 데이터 바인딩 모드 심화

WPF의 데이터 바인딩은 UI 요소와 데이터 소스(ViewModel, 객체 등)를 연결하는 강력한 메커니즘입니다. 바인딩의 핵심 특징 중 하나는 **바인딩 모드(BindingMode)**를 통해 데이터 흐름의 방향을 세밀하게 제어할 수 있다는 점입니다. 각 모드는 특정한 시나리오에 최적화되어 있어, 적절한 모드 선택은 코드의 효율성과 예측 가능성을 높여줍니다.

---

## 1. OneWay 바인딩 (소스 → 타겟)

*   **데이터 흐름**: 데이터 소스(ViewModel)에서 UI 타겟으로만 단방향으로 흐릅니다. 소스의 변경사항은 UI에 자동 반영되지만, UI에서 발생한 변경은 소스에 영향을 주지 않습니다.
*   **주요 용도**: 읽기 전용 데이터를 표시하는 모든 컨트롤에 적합합니다. 데이터가 변경될 때 UI를 자동 갱신해야 하지만, 사용자 편집은 허용하지 않는 경우에 사용합니다.
*   **예시**: 사용자 이름 표시, 제품 가격, 상태 메시지 등.

```xml
<!-- UserName 속성이 변경되면 TextBlock이 갱신되지만, TextBlock을 직접 편집해도 속성 값은 변하지 않음 -->
<TextBlock Text="{Binding UserName, Mode=OneWay}" />
```

---

## 2. TwoWay 바인딩 (소스 ↔ 타겟)

*   **데이터 흐름**: 데이터 소스와 UI 타겟 간에 양방향으로 실시간 동기화가 이루어집니다. 소스의 변경은 UI에, UI의 사용자 입력은 소스에 모두 반영됩니다.
*   **주요 용도**: 사용자 입력을 받아 데이터 모델을 직접 수정해야 하는 폼 기반 컨트롤에 필수적입니다. `TextBox`, `CheckBox`, `Slider` 등 편집 가능한 컨트롤의 기본 바인딩 모드입니다.
*   **중요 속성**: `UpdateSourceTrigger` 속성과 함께 사용하여 소스 업데이트 시점(예: `PropertyChanged`, `LostFocus`)을 제어할 수 있습니다.

```xml
<!-- 사용자가 입력할 때마다(UserName 속성 값이 즉시 변경되고, 코드에서 UserName을 변경하면 TextBox 텍스트도 갱신됨 -->
<TextBox Text="{Binding UserName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
```

---

## 3. OneTime 바인딩 (초기값만)

*   **데이터 흐름**: 바인딩이 설정되는 초기화 시점에 딱 한 번만 데이터 소스의 값을 UI 타겟에 복사합니다. 이후 소스가 변경되더라도 UI는 갱신되지 않습니다.
*   **주요 용도**: 애플리케이션 실행 중에 변하지 않는 정적 데이터를 표시할 때 성능 최적화를 위해 사용합니다. 데이터 컨텍스트가 변경되지 않는 한 동일한 값을 유지합니다.
*   **예시**: 애플리케이션 버전 정보, 고정된 레이블 텍스트, 한 번 설정된 설정 값 등.

```xml
<!-- 앱 시작 시 AppVersion 값이 표시되지만, 실행 중에 AppVersion 속성이 변경되어도 TextBlock은 변하지 않음 -->
<TextBlock Text="{Binding AppVersion, Mode=OneTime}" />
```

---

## 4. OneWayToSource 바인딩 (타겟 → 소스)

*   **데이터 흐름**: OneWay 바인딩의 정반대 방향으로, UI 타겟에서 데이터 소스로만 단방향 흐름이 발생합니다. UI의 변경사항은 소스를 업데이트하지만, 소스의 변경은 UI에 반영되지 않습니다.
*   **주요 용도**: UI 컨트롤의 현재 상태나 값을 데이터 소스에 기록해야 하지만, 그 반대 방향의 동기화는 필요하지 않은 특수한 경우에 사용합니다.
*   **예시**: `Slider`의 현재 위치 값을 ViewModel에 저장하거나, 특정 UI 이벤트의 결과 값을 모델에 반영할 때.

```xml
<!-- 슬라이더를 움직이면 SliderValue 속성이 변경되지만, 코드에서 SliderValue를 변경해도 슬라이더 위치는 바뀌지 않음 -->
<Slider Value="{Binding SliderValue, Mode=OneWayToSource}" />
```

---

## 바인딩 모드 비교 요약

| 모드 | 데이터 흐름 | 주요 사용 사례 | 성능 고려사항 |
| :--- | :--- | :--- | :--- |
| **`OneWay`** | 소스 → 타겟 | 레이블, 읽기 전용 텍스트, 리스트 아이템 표시 | 소스 변경 시 UI 갱신 오버헤드 존재 |
| **`TwoWay`** | 소스 ↔ 타겟 | 텍스트 상자, 체크박스, 콤보박스 등 사용자 입력 컨트롤 | 양방향 동기화로 인한 오버헤드 가장 큼 |
| **`OneTime`** | 초기값 전달 | 고정된 설정값, 버전 정보, 변하지 않는 데이터 | 최초 한 번만 바인딩되어 성상상 가장 효율적 |
| **`OneWayToSource`** | 타겟 → 소스 | UI 상태 기록, 특수한 사용자 상호작용 저장 | UI 이벤트 발생 시에만 소스 업데이트 |

---

## 결론: 적절한 바인딩 모드 선택의 중요성

WPF 데이터 바인딩 모드는 단순한 기술적 옵션이 아닌, **애플리케이션의 데이터 흐름과 의도를 명확히 정의하는 도구**입니다.

*   **`OneWay`**는 **표시만 하는 데이터**에 사용하여 불필요한 양방향 동기화 오버헤드를 피해야 합니다.
*   **`TwoWay`**는 **실제 편집이 필요한 입력 컨트롤**에 제한적으로 적용하고, `UpdateSourceTrigger`를 신경 써서 성능과 사용성 사이의 균형을 찾아야 합니다.
*   **`OneTime`**은 **변경되지 않는 데이터**에 사용하여 불필요한 변경 감지 오버헤드를 제거함으로써 애플리케이션 성능을 최적화할 수 있습니다.
*   **`OneWayToSource`**는 **상대적으로 드물지만 특정 UI 상태를 모델에 반영해야 할 때** 유용한 특수 도구입니다.

바인딩 모드를 상황에 맞게 선택하는 것은 WPF 애플리케이션의 성능, 유지보수성, 그리고 데이터 흐름의 명확성을 크게 향상시킵니다. 기본값에 의존하기보다 각 바인딩의 목적을 고려하여 의도적으로 모드를 지정하는 것이 좋은 습관입니다.