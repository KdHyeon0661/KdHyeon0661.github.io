---
layout: post
title: 형식언어와 오토마타 - 유도 트리와 문장형태의 관계
date: 2025-07-08 21:20:23 +0900
category: 형식언어와 오토마타
---
# 유도 트리와 문장형태의 관계

---

## 📌 1. 유도(derivation)와 문장형태란?

### ✅ 문장형태(Sentential Form)

- 문맥 자유 문법(CFG)에서 **시작 기호 S**로부터 규칙을 적용해 **중간에 만들어지는 문자열**
- 이 문자열은 **터미널과 비터미널이 혼합**되어 있을 수 있음

> 즉, 유도 도중 생기는 모든 중간 결과가 "문장형태"

예: 문법이 \\( S \to aSb \mid \varepsilon \\)일 때  
유도 과정:
- \\( S \Rightarrow aSb \Rightarrow aaSbb \Rightarrow aa\varepsilon bb = aabb \\)  
- 중간의 `aSb`, `aaSbb`는 모두 문장형태

---

## 🌳 2. 유도 트리 (Parse Tree 또는 Derivation Tree)

### ✅ 정의

> 문맥 자유 문법에서 어떤 문자열을 유도하기 위해 사용된 **규칙의 적용 순서와 구조를 트리 형태로 표현한 것**

### ✅ 구성 요소

- **루트(Root)**: 시작 기호 \\( S \\)
- **내부 노드**: 비터미널 기호
- **잎 노드(Leaf)**: 터미널 기호 (또는 \\( \varepsilon \\))
- **하위 노드**: 해당 비터미널이 유도된 **우변(생성 규칙의 RHS)**

---

## 📘 3. 유도 트리 예제

### 문법 \\( G \\):

- \\( S \to aSb \mid \varepsilon \\)

### 유도: \\( S \Rightarrow aSb \Rightarrow aaSbb \Rightarrow aa\varepsilon bb = aabb \\)

### 유도 트리

```
         S
      /  |  \
     a   S   b
        /|\   
       a S b
          |
          ε
```

### 문장형태와 비교

- 유도 트리의 **각 깊이에서 잎 노드를 왼쪽부터 읽으면** → 해당 유도 단계의 **문장형태**가 된다.

| 단계 | 문장형태 | 트리 깊이 |
|------|-----------|------------|
| 0    | S         | 루트 노드 |
| 1    | aSb       | 1단계 확장 |
| 2    | aaSbb     | 2단계 확장 |
| 3    | aabb      | 완전한 유도 결과 (터미널만 존재) |

---

## 🔁 4. 유도 과정 vs 유도 트리의 관계

### ✔ 좌측 우선 유도 ⇔ 유도 트리의 **왼쪽부터 확장**

- 가장 왼쪽 비터미널을 먼저 확장하는 순서
- 유도 트리에서 **왼쪽 자식부터 순차적으로 깊어지는 구조**

### ✔ 우측 우선 유도 ⇔ 유도 트리의 **오른쪽부터 확장**

- 가장 오른쪽 비터미널을 먼저 확장
- 유도 트리의 오른쪽 가지부터 깊어짐

### ▶ 하지만 결과적으로 동일한 **유도 트리**를 생성할 수 있다  
(문법이 **모호하지 않을 경우**)

---

## ⚠️ 5. 유도 트리와 모호성

### ✅ 모호한 문법(Ambiguous Grammar)

- **하나의 문자열**에 대해 **두 개 이상의 서로 다른 유도 트리**가 존재하는 경우

예:

문법:
- \\( E \to E + E \mid E * E \mid (E) \mid id \\)

문자열: `id + id * id`

- 어떤 유도 트리에서는 `+`가 먼저
- 어떤 트리에서는 `*`가 먼저

→ **모호함**

---

## ✅ 6. 유도 트리를 통한 파싱과 분석

| 유도 트리의 용도 | 설명 |
|------------------|------|
| **구문 분석(Parse)** | 프로그래밍 언어의 문법 검사 |
| **의미 분석(Semantic Analysis)** | 문장 구조의 의미 해석 |
| **중간 코드 생성** | 컴파일러 내부 표현 |
| **문법의 구조 파악** | 규칙의 우선순위/결합 순서 등 확인 가능 |

---

## 🧾 7. 요약

| 개념 | 설명 |
|------|------|
| 문장형태 | 유도 도중 생성된 중간 문자열 |
| 유도 트리 | 유도 과정 전체를 트리로 표현한 구조 |
| 잎 노드의 문자열 | 최종 결과 문자열 |
| 유도 방식 | 좌측 우선, 우측 우선 모두 트리로 반영 가능 |
| 유도 트리와 문장형태 관계 | 각 단계마다 잎 노드를 왼쪽부터 읽으면 그 시점의 문장형태 |
| 모호성 | 같은 문자열에 여러 트리가 존재하면 문법이 모호함 |