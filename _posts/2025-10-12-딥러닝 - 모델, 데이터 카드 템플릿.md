---
layout: post
title: 딥러닝 - 모델/데이터 카드 템플릿
date: 2025-10-12 18:25:23 +0900
category: 딥러닝
---
# 모델/데이터 카드 템플릿 — 조직 표준안(체크리스트·양식·예시·자동생성 스크립트 포함, PyTorch 기준)

> 목적
> - 배포되는 **모델 카드(Model Card)**, **데이터 카드(Data Card)**의 **표준 템플릿**을 제시합니다.
> - **PyTorch** 기준의 학습/평가/배포 맥락(ONNX/TensorRT, 실시간/배치 서빙, 카나리/A-B, 모니터링/알람)까지 **끊김 없이 연결**되는 필드 구성을 제공합니다.
> - 그대로 복사해 쓸 수 있는 **Markdown 템플릿**, **JSON/YAML 스키마**, **작성 예시(실사례 형태)**, **자동 생성 파이썬 스크립트(메트릭/구성에서 카드 생성)**를 포함합니다.
> - **재현성·거버넌스** 요구(버전, 라이선스, 개인정보, 편향/공정성, 드리프트, 롤백 계획)를 **빠짐없이** 다룹니다.

---

## 빠른 가이드 (TL;DR)

- **필수 필드 최소 셋**
  - 모델 카드: `요약, 의도된 사용/비사용, 모델 세부(아키텍처·파라미터), 학습 데이터 버전, 평가 지표(테스트셋), 한계/위험, 배포/모니터링 계획, 버전/저작권/연락`.
  - 데이터 카드: `요약, 출처/수집 과정, 권리/라이선스/PII, 분포/통계, 품질/라벨링 절차, 알려진 편향·한계, 버전/관리 계획`.
- **원칙**: “**어떻게 만들었는지**” + “**어디에 써야/쓰면 안 되는지**” + “**어떻게 감시/개선할지**”.
- **PyTorch만**을 기준(코드·지표 계산 등)으로 설명합니다.

---

## 모델 카드 템플릿 (Markdown 양식)

> 복사해 **`MODEL_CARD.md`** 로 사용하세요. `<>`는 채움 지시자입니다. 체크박스는 제출 전 필수 점검용입니다.

```markdown
# 모델 카드 — <모델 이름> (<버전>)

## 요약

- 짧은 설명: <한 줄 요약(용도·도메인)>
- 태스크: <분류/검출/세그멘테이션/텍스트 분류/QA/생성 등>
- 입력/출력: <입력 형태·크기, 출력 의미>
- 주요 지표(테스트 기준): <top-1, F1, AUROC 등 핵심 수치>
- 릴리즈 상태: <Experimental/Staging/Production>
- 유지보수자: <팀/담당자>, 연락: <이메일/이슈 트래커>

## 의도된 사용(Allowed) / 비사용(Disallowed)

- **의도된 사용**: <목표 사용자/시나리오, 제품·피처 연결>
- **비사용/금지**: <법률/윤리 상 민감 영역, 오남용 가능 시나리오>
- **환경 제약**: <지연 예산, 최소 GPU/CPU, 메모리>

## 모델 세부

- 아키텍처: <예: ResNet50/Transformer-Encoder, 커스텀 레이어 등>
- 파라미터 수: <대략 값>
- 프레임워크/버전: PyTorch <버전>
- 체크포인트/아티팩트:
  - 학습: `<path or artifact id>`
  - 내보내기(선택): ONNX `<opset>` / TensorRT 엔진(정밀도·프로파일)
- 초기화/정규화: <Xavier/He, BN/LN/GN>
- 손실/옵티마이저/스케줄러: <예: CE / AdamW / Cosine + Warmup>
- 혼합정밀/AMP: <사용/미사용, dtype(bf16/fp16)>
- 랜덤 시드/재현성: <seed 값, 결정성 플래그>

## 학습 데이터(요약)

- 사용 데이터셋: <정식 이름·버전>
- 출처/라이선스: <링크/식별자, SPDX 가능>
- 분할: <train/val/test 분할 기준, 날짜/지역/도메인 분포>
- 전처리/증강: <정규화, 크롭/플립, 텍스트 토크나이저 등>
- 데이터 카드: `<DATA_CARD.md 링크>`

## 평가

- **프로토콜**: <고정 테스트셋, 시드, 배치/해상도 세팅>
- **주요 지표**:
  - 정확도/정밀도/재현율/F1: <숫자 + ±표준오차(있는 경우)>
  - AUROC/AP: <숫자>
  - 캘리브레이션: <Brier/ECE 등>
  - 레이턴시(p50/p95/p99): <ms, 배치·디바이스 명시>
- **분할 분석**(가능하면):
  - 서브그룹/도메인/해상도 구간/조명 조건 등
- **혼동행렬/PR/ROC 그림**: <아티팩트 경로/썸네일>
- **OOD/강건성**: <간단 OOD, 노이즈/압축/스케일 변동 성능>

## 공정성·편향·안전

- 잠재적 편향원: <라벨링 프로세스/표본 불균형/도메인 쏠림>
- 그룹별 성능 격차(있는 경우): <표/요약>
- PII/민감정보: <사용 여부, 가명화/마스킹>
- 안전 제약: <유해/오용 경고, 필터링 정책>

## 배포/운영

- 서빙 모드: <배치/실시간, 마이크로배칭/윈도우>
- 엔드포인트: </v1/predict 등> (내부 식별자)
- 카나리/A-B 계획: <롤아웃 단계, 가드레일 지표>
- 모니터링: <SLO, 드리프트(PSI/KS/MMD), 알람 임계>
- 롤백 전략: <버전 고정/즉시 전환 절차>
- 로깅 스키마: <요청/응답 메타(모델/데이터 버전, 레이턴시, 점수)>

## 한계·알려진 이슈

- 모델이 잘 못하는 사례: <예시/조건>
- 데이터 커버리지 한계: <시간/지역/디바이스 편중>
- 기술적 제한: <입력 스펙, OOM, 특정 연산 민감>

## 버전·거버넌스

- 버전 문자열: <ex: retail-cls@v1.3.2>
- 소스 커밋: <git short SHA>
- 데이터 버전: <DVC 해시/데이터셋 버전>
- 릴리즈 이력: <표 형식>
- 라이선스: <모델 가중치/코드 각각의 라이선스>
- 연락처/이슈: <채널>

## 체크리스트 (제출 전)

- [ ] 테스트셋 지표/그림/표 첨부
- [ ] 카나리 가드레일 정의 및 승인
- [ ] 데이터 카드 링크/버전 일치
- [ ] PII/라이선스 검토 완료
- [ ] 모니터링·알람 룰 배포
- [ ] 롤백 스크립트 점검
```

---

## 데이터 카드 템플릿 (Markdown 양식)

> 복사해 **`DATA_CARD.md`** 로 사용하세요.

```markdown
# 데이터 카드 — <데이터셋 이름> (<버전>)

## 요약

- 목적/태스크: <예: 소매 진열 이미지 분류>
- 커버리지: <지역, 기간(YYYY-MM~YYYY-MM), 언어/디바이스>
- 라이선스/권리: <SPDX/약관 링크>
- 담당/연락: <팀/이메일>

## 출처·수집

- 출처: <공개/사내/제휴/크라우드소싱 등>
- 수집 방법: <도구/스크립트/현장 촬영, 자동/수동>
- 동의/공지: <수집 동의 절차/문서>
- 원천 위험: <법/규정/저작권/상표 리스크>

## 구성·통계

- 총 샘플 수: <N>
- 클래스/라벨 분포: <표/히스토그램 링크>
- 텍스트/이미지/오디오 메타: <길이/해상도/형식 분포>
- 중복/유사도 제거: <기준/임계>
- 데이터 품질 규칙: <결측/형식/범위/이상치 기준>

## 라벨링

- 라벨링 주체: <내부/외부/전문가/크라우드>
- 가이드라인: <요약·링크>
- 인터-어노테이터 합의: <κ 등> (있는 경우)
- QA/감사: <샘플링 검사 절차/결과>

## 전처리·분할

- 전처리: <정규화, 리사이즈/토크나이즈, 필터링>
- 분할: <train/val/test 기준(시간·지역·사용자 분리 여부)>
- 증강: <학습 시 사용 예정 증강 스펙(알려진 분포와 일관성 확인)>

## 편향·안전·프라이버시

- 잠재적 편향: <표본 쏠림/라벨 편향>
- 민감 속성 포함 여부: <인물/번호판/텍스트/민감 주제 등>
- 처리: <익명화/마스킹/블러/제거 기준>

## 버전·거버넌스

- 버전 규칙: <예: v1.3(2025-09-19, 라벨 QA 개선)>
- DVC/해시: <식별자>
- 변경 로그: <추가/제거/정정>
- 사용 조건/금지: <내부 전용/재배포 금지/연구만 허용 등>

## 한계/알려진 이슈

- 커버리지 구멍: <희귀 클래스, 어두운 조명, 특정 각도>
- 품질 이슈: <블러/노이즈, OCR 난이도>

## 체크리스트

- [ ] 권리·동의·PII 검토
- [ ] 라벨 가이드/QA 로그 첨부
- [ ] 통계/분포/중복 리포트 첨부
- [ ] 분할 기준·고정 Seed 공개
```

---

## JSON/YAML 스키마 (머신 판독·자동화용)

### 모델 카드 — JSON 스키마(간단)

```json
{
  "model_id": "retail-cls@v1.3.2",
  "name": "Retail Shelf Classifier",
  "framework": {"pytorch": "2.3.0"},
  "task": "image_classification",
  "inputs": {"shape": "Bx3x224x224", "dtype": "float32", "normalization": "imagenet"},
  "outputs": {"type": "logits", "classes": ["in_stock", "out_of_stock"]},
  "intended_use": ["retail analytics dashboard rerank"],
  "out_of_scope": ["face recognition", "surveillance"],
  "architecture": {"backbone": "ResNet50", "params_million": 25.6, "norm": "BN"},
  "training": {
    "loss": "CrossEntropy",
    "optimizer": "AdamW",
    "scheduler": "Cosine",
    "epochs": 30,
    "batch_size": 128,
    "amp": "bf16",
    "seed": 42
  },
  "data": {
    "dataset_id": "retail-shelf-v1.3",
    "splits": {"train": 120000, "val": 10000, "test": 10000},
    "augmentation": ["random_resized_crop", "hflip", "color_jitter"]
  },
  "metrics": {
    "test": {
      "top1": 0.923,
      "f1_macro": 0.918,
      "auroc_macro": 0.961,
      "brier": 0.083
    },
    "latency_ms": {"p50": 12.4, "p95": 24.7, "p99": 34.1, "device": "A10G, bs=8"}
  },
  "calibration": {"ece_10bin": 0.024},
  "robustness": {"jpeg_q50_top1": 0.897, "gaussian_noise_sigma0.1_top1": 0.884},
  "deployment": {
    "mode": "realtime",
    "endpoint": "/v1/predict",
    "onnx": {"opset": 17},
    "tensorrt": {"precision": "fp16", "profile": {"min": [1,3,160,160], "opt": [8,3,224,224], "max": [16,3,320,320]}}
  },
  "monitoring": {
    "slo": {"p95_ms": 100, "err_rate": 0.01},
    "drift": {"psi_threshold": 0.2, "ks_threshold": 0.2}
  },
  "governance": {
    "license": {"code": "Apache-2.0", "weights": "Apache-2.0"},
    "git": "abcd123",
    "data_hash": "dvc:8f1c..",
    "contacts": ["mlops@company.com"]
  }
}
```

### 데이터 카드 — YAML 스키마(간단)

```yaml
dataset_id: retail-shelf-v1.3
name: Retail Shelf Images
summary: 소매 매대 상태 모니터링용 이미지 분류 데이터셋
time_coverage: "2024-05 ~ 2025-08"
geo_coverage: ["KR","JP","US"]
license: "CC-BY-NC-4.0"
pii: false
source:
  type: "partner_capture"
  consent: "contractual"
composition:
  total: 140000
  classes:
    in_stock: 0.62
    out_of_stock: 0.38
  resolution: {median: "1024x768", p10: "640x480", p90: "1920x1080"}
labeling:
  workforce: "internal QA + crowd"
  guideline_link: "docs/retail_guideline.md"
  quality:
    sample_qc_rate: 0.1
    inter_annotator_kappa: 0.82
preprocessing:
  filters: ["min_width>=400", "no_face"]
  augmentation: ["random_resized_crop(224)", "hflip", "color_jitter"]
splits:
  policy: "time-based store disjoint"
  train: 120000
  val: 10000
  test: 10000
bias_safety:
  known_bias: ["store type skew: convenience>mart", "night shots underrepresented"]
  mitigation: ["reweighting in train", "targeted collection roadmap"]
versioning:
  dvc_hash: "8f1c..."
  changelog:
    - "v1.3: 라벨 QA 재검수, 중복 2.1% 제거"
contacts: ["data@company.com"]
```

---

## 수식/지표 정의 (MathJax)

- **정밀도/재현율/F1**
  \[
  \text{Precision}=\frac{TP}{TP+FP},\quad
  \text{Recall}=\frac{TP}{TP+FN},\quad
  F1=\frac{2\cdot \text{Precision}\cdot \text{Recall}}{\text{Precision}+\text{Recall}}
  \]
- **Brier Score** (이진, 클래스 1 확률 \(p\), 정답 \(y\in\{0,1\}\))
  \[
  \text{Brier}=\frac{1}{N}\sum_{i=1}^{N}(p_i - y_i)^2
  \]
- **Expected Calibration Error (ECE)** (bins \(B\))
  \[
  \mathrm{ECE}=\sum_{b=1}^{B}\frac{|S_b|}{N}\,\big|\mathrm{acc}(S_b)-\mathrm{conf}(S_b)\big|
  \]
- **Population Stability Index (PSI)**
  \[
  \mathrm{PSI}=\sum_{k}(p_k - q_k)\ln\frac{p_k}{q_k}
  \]
- **KS 통계**
  \[
  D=\sup_x \big|F_X(x)-F_Y(x)\big|
  \]

---

## 작성 예시 — 모델 카드 (샘플 기입본, PyTorch)

```markdown
# 모델 카드 — Retail Shelf Classifier (v1.3.2)

## 요약

- 소매 매대 상태(재고 유/무)를 판별하는 이미지 분류 모델
- 태스크: 이진 분류, 입력 3x224x224 RGB, 출력 로짓 2
- 테스트 Top-1 92.3%, AUROC 0.961, p95 레이턴시 24.7ms(A10G, bs=8)
- 상태: Production(카나리 100% 완료), 담당: Vision Team(mlops@company.com)

## 의도된 사용 / 비사용

- 사용: 인스토어 매대 모니터링 대시보드의 실시간 신호
- 금지: 개인 식별, 보안 감시, 인권 침해 목적
- 환경: 실시간, p95 < 100ms, GPU A10G 이상 권장

## 모델 세부

- ResNet50(backbone), BN, 파라미터 ≈ 25.6M
- PyTorch 2.3.0, AMP(bfloat16) 훈련/추론
- 손실=CE, AdamW(lr=3e-4), Cosine+Warmup(2 epoch), epochs=30, bs=128
- Aug: RRC(224), HFlip, ColorJitter
- 체크포인트: `s3://.../retail-cls/v1.3.2/model_best.pt`
- 내보내기: ONNX opset17 → TensorRT(FP16, profile min[1,3,160,160]/opt[8,3,224,224]/max[16,3,320,320])
- Seed=42, cudnn.deterministic=True

## 학습 데이터

- Retail Shelf Images v1.3 (DATA_CARD.md)
- train:120k / val:10k / test:10k, 시간 분리 + 매장 disjoint
- 라이선스: 파트너 계약(사내 전용)

## 평가

- 프로토콜: 고정 test split, 3회 반복 평균
- 지표: Top-1 0.923, F1 0.918, AUROC 0.961, Brier 0.083, ECE(10bin) 0.024
- 레이턴시(A10G, FP16, bs=8): p50 12.4ms / p95 24.7ms / p99 34.1ms
- OOD/강건성: JPEG q50 Top-1 0.897, Gaussian σ=0.1 Top-1 0.884
- 혼동행렬/PR/ROC: `artifacts/fig/cm.png`, `artifacts/fig/pr.png`, `artifacts/fig/roc.png`

## 공정성·편향·안전

- 야간 촬영, 소형 매장 타입에서 성능 하락(Top-1 -2~4%p)
- 개인정보 포함 방지 정책(얼굴/번호판 블러), 위험 시 요청 차단

## 배포/운영

- 실시간 엔드포인트 `/v1/predict` (Nginx → app → TRT runner)
- 카나리: 1%→5%→25%→100%(각 단계 1일 모니터링)
- 가드레일: p95>100ms or 5xx>1% or Top-1 ex-post -1.5%p → 자동 롤백
- 모니터링: PSI(f0)>0.2, KS(p1)>0.2, MMD(emb)>0.05, 알람 쿨다운 적용

## 한계·이슈

- 일부 합성 이미지/포스터 혼입 시 오검출 증가
- 이미지 극단적 크롭/회전에서 성능 저하

## 버전·거버넌스

- model_id: retail-cls@v1.3.2, git: abcd123
- data_hash(DVC): 8f1c...
- 라이선스: 코드 Apache-2.0, 가중치 Internal-only
- 릴리즈 노트: v1.3.2(캘리브레이션 개선, 레이턴시 7%↓)
```

---

## 작성 예시 — 데이터 카드 (샘플 기입본)

```markdown
# 데이터 카드 — Retail Shelf Images (v1.3)

## 요약

- 소매 매대 상태 판별용 이미지(매장 인도어), 2024-05~2025-08 수집
- 지역 KR/JP/US, 상점 종류 다양(편의점>마트>슈퍼)
- 라이선스: 사내 전용(파트너 계약), PII 제거

## 출처·수집

- 파트너사 매장 카메라 캡처 + 현장 촬영(동의/고지 완료)
- 배너/브랜드 저작권: 파트너 계약 범위 내 사용 허용

## 구성·통계

- 총 140k, 클래스(in_stock 62%, out_of_stock 38%)
- 해상도 중앙 1024x768, 10~90 분위 640~1920 너비
- 중복 제거: 해시+SIM ≥0.92 제거(2.1%)

## 라벨링

- 내부 QA 팀 + 크라우드, 가이드라인 공개(링크)
- 표본 10% 이중 라벨, κ=0.82

## 전처리·분할

- 필터: 폭<400 제거, 인물·번호판 탐지 시 블러/제외
- 분할: 시간·매장 disjoint, test는 최근 2개월 고정
- 학습 증강: RRC, HFlip, ColorJitter

## 편향·안전·프라이버시

- 야간/지방 소형점수 부족 → 보강 로드맵 수립
- PII 없음(인물/번호판 자동 블러), 상표는 계약 범위

## 버전·거버넌스

- v1.3: 라벨 QA 재검수, 중복 2.1% 제거, 어두움 샘플 8k 추가
- DVC 해시 8f1c...
- 데이터 사용: 내부분석/모델 학습 및 서빙에 한함(재배포 금지)
```

---

## 카드 자동 생성 스크립트 (PyTorch + 표준 라이브러리만)

> 학습 산출물(`metrics.json`, `confusion_matrix.pt`, `env.json`, `params.yaml` 등)로 **모델 카드 초안**을 만듭니다.
> 외부 프레임워크 불사용, **PyTorch/표준 라이브러리만** 사용.

```python
# generate_model_card.py

import os, json, math, datetime, torch, yaml

def load_json(p): return json.load(open(p)) if os.path.exists(p) else {}
def load_yaml(p): return yaml.safe_load(open(p)) if os.path.exists(p) else {}
def load_cm(p):  return torch.load(p) if os.path.exists(p) else None

def soft_metrics_from_cm(cm):
    # cm: [C,C], 정밀/재현/F1 macro
    C = cm.shape[0]; prec=[]; rec=[]; f1=[]
    for k in range(C):
        tp = cm[k,k].item()
        fp = (cm[:,k].sum()-cm[k,k]).item()
        fn = (cm[k,:].sum()-cm[k,k]).item()
        p  = tp/(tp+fp+1e-9); r = tp/(tp+fn+1e-9)
        prec.append(p); rec.append(r); f1.append(2*p*r/(p+r+1e-9))
    return {
        "precision_macro": sum(prec)/C,
        "recall_macro": sum(rec)/C,
        "f1_macro": sum(f1)/C
    }

def render_markdown(cfg, metrics, cm_stats, env, out="MODEL_CARD.md"):
    now = datetime.datetime.utcnow().strftime("%Y-%m-%d")
    name = cfg.get("name","<model-name>")
    version = cfg.get("version","<version>")
    task = cfg.get("task","<task>")
    backbone = cfg.get("backbone","<backbone>")
    top1 = metrics.get("top1") or metrics.get("accuracy")
    f1m  = cm_stats.get("f1_macro")
    auroc= metrics.get("auroc") or metrics.get("auroc_macro")
    latency = metrics.get("latency", {})
    md = f"""# 모델 카드 — {name} ({version})

## 요약

- 태스크: {task}
- 핵심 지표: Top-1 {top1:.3f if top1 else float('nan')}, F1-macro {f1m:.3f if f1m else float('nan')}, AUROC {auroc or 'N/A'}
- 빌드일: {now}

## 모델 세부

- 백본: {backbone}
- 프레임워크: PyTorch {env.get('torch','?')}
- 혼합정밀: {cfg.get('amp','?')}
- 옵티/스케줄러: {cfg.get('optimizer','?')} / {cfg.get('scheduler','?')}

## 데이터/분할

- 데이터셋: {cfg.get('dataset','?')}
- 분할: {cfg.get('splits','?')}

## 평가(테스트)

- Top-1: {top1}
- F1-macro: {f1m}
- AUROC: {auroc}
- 레이턴시: p50 {latency.get('p50','?')}ms / p95 {latency.get('p95','?')}ms

## 모니터링/배포

- 모드: {cfg.get('deploy_mode','realtime')}
- SLO: {cfg.get('slo','p95<100ms, err<1%')}
- 드리프트 가드: PSI {cfg.get('psi_th','0.2')}, KS {cfg.get('ks_th','0.2')}

"""
    open(out,"w").write(md)
    print("Wrote", out)

if __name__=="__main__":
    cfg  = load_yaml("params.yaml") or {}
    env  = load_json("env.json") or {}
    mets = load_json("metrics.json") or {"top1":0.923, "auroc":0.961, "latency":{"p50":12.4,"p95":24.7}}
    cm   = load_cm("confusion_matrix.pt") or torch.tensor([[4200,300],[350,5150]])
    cm_stats = soft_metrics_from_cm(cm)
    render_markdown(
        cfg={
            "name":"Retail Shelf Classifier",
            "version":"v1.3.2",
            "task":"image_classification",
            "backbone":"ResNet50",
            "dataset":"retail-shelf-v1.3",
            "splits":"train 120k / val 10k / test 10k",
            "optimizer":"AdamW", "scheduler":"Cosine", "amp":"bf16",
            "deploy_mode":"realtime", "psi_th":"0.2", "ks_th":"0.2"
        },
        metrics=mets, cm_stats=cm_stats, env={"torch":"2.3.0"}
    )
```

> 확장: MLflow/W&B에서 메트릭을 읽어오거나, DVC 아티팩트 경로를 받아 카드의 버전/해시를 자동 주입하도록 확장 가능합니다(여기서는 PyTorch/표준만 사용).

---

## 제출 게이트(Release Gate) 체크리스트

- **지표**: 테스트셋 기준 성능이 **기준선 대비 하락 없음**(또는 허용 폭 내)
- **캘리브레이션**: ECE/Brier 기준 만족(또는 개선)
- **성능(SLO)**: p95 지연, 5xx 비율 기준 만족
- **드리프트 가드**: PSI/KS/MMD 임계 설정 및 모니터 연결
- **권리/PII**: 데이터 카드와 **일관**(금지 항목 없음)
- **배포 계획**: 카나리 단계/가드레일/롤백 스크립트 **준비**
- **카드 문서**: 모델/데이터 카드 **모두 최신 버전** 커밋 완료

---

## 흔한 실수·안티패턴

- **테스트셋 재사용 누설**: 튜닝에 테스트셋 반복 사용 → 숫자 과대평가
- **모니터링 누락**: 카드에 드리프트/알람 기준이 없거나, 운영 로그 스키마 불일치
- **데이터 카드 미동기화**: 모델 카드의 데이터 버전과 데이터 카드의 버전/해시 불일치
- **의도된 비사용 미기재**: 법·윤리 리스크 증가(리뷰 통과 어려움)
- **레이턴시 표기 모호**: 디바이스/배치/정밀도 미기재 → 수치 의미 상실

---

## 운영·거버넌스 권장 절차

1) **학습 완료** → `metrics.json`, `confusion_matrix.pt`, `env.json`, `params.yaml` 아티팩트 고정
2) **`generate_model_card.py` 실행** → 초안 생성
3) **데이터 카드 업데이트** → 변경 로그/DVC 해시 갱신
4) **리뷰**(MLOps/법무/보안) → 체크리스트 통과
5) **배포**: 섀도우 → 카나리 단계, 가드레일/알람 활성화
6) **운영**: SLO/드리프트 대시보드 공유, 정기 재평가(분기/버전 업)

---

## 부록 — 표/섹션 스니펫 모음

### 성능 요약 표(마크다운)

```markdown
| Split | Top-1 | F1-macro | AUROC | Brier | p95(ms, A10G bs=8) |
|------:|------:|---------:|------:|------:|--------------------:|
|  Test | 0.923 |   0.918  | 0.961 | 0.083 | 24.7                |
```

### 카나리 가드레일 예시

```markdown
- 성능: ex-post Top-1 Δ ≥ -1.5%p → 롤백
- 안정성: 5xx ≥ 1.0% (5분 창) → 롤백
- 지연: p95 ≥ 100ms (5분 창, 트래픽>500req) → 롤백
- 드리프트: PSI(f0) ≥ 0.2 or KS(p1) ≥ 0.2 (10분 연속) → 경보(P2)
```

### 라이선스 블록

```markdown
- 코드 라이선스: Apache-2.0
- 가중치 라이선스: Internal-Use-Only (재배포 금지)
- 데이터 사용: 파트너 계약에 한정, 2차 배포 금지
```

---

## FAQ

**Q. 모델 카드 길이가 너무 깁니다. 최소 본문만 유지하려면?**
A. 1) 요약, 2) 의도된 사용/비사용, 3) 모델 세부(핵심), 4) 평가 표(테스트), 5) 배포/모니터링, 6) 버전/라이선스 — **6개 섹션**만 필수로 고정하고 나머지는 링크(아티팩트)로 대체하세요.

**Q. 정밀도·공정성 항목을 어떻게 채우나요?**
A. 테스트셋을 **서브그룹**으로 나눠 F1/Top-1을 표로 기입합니다. 민감 속성 직접 사용이 곤란하면 **프록시 변수**(장비/시간대/지역 등)를 사용해 분할 분석하세요.

**Q. 카드와 실제 배포 환경이 어긋납니다.**
A. 엔진 정밀도(FP16/INT8), 프로파일, 배치, 하드웨어를 카드에 **명시**하고, 변경 시 **새 버전**으로 카드 갱신 후 배포하세요.

---

## 맺음말

- 모델/데이터 카드는 **기술 문서**가 아니라 **제품 안전 문서**입니다.
