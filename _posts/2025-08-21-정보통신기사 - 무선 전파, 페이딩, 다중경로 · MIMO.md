---
layout: post
title: 정보통신기사 - 무선 전파, 페이딩, 다중경로 · MIMO
date: 2025-08-21 20:25:23 +0900
category: 정보통신기사
---
# 무선 전파 / 페이딩 / 다중경로 · MIMO 총정리

## 0. 큰 그림 한 장

- **경로손실**: $\text{FSPL}\propto (d/\lambda)^2$ → dB 척도로 합산 간편.  
- **대규모 페이딩**: 평균 경로손실 주변을 **로그정규(섀도잉)** 가 수 dB~10 dB 단위로 흔듦.  
- **소규모 페이딩**: 반사/산란/회절로 생긴 **다중경로** 합성 → **Rayleigh/Rician** 진폭 변동,  
  시간축(도플러)과 주파수축(지연확산) 모두에서 **선택성** 발생.  
- **대응 기술**: **다이버시티(시간·주파수·공간)**, **채널코딩**, **OFDM(순환접두부)**, **MIMO**.

---

## 1. 전파 기본: Friis, FSPL, 안테나, 편파

### 1.1 Friis 전송식(자유공간)
$$
P_r = P_t G_t G_r \left(\frac{\lambda}{4\pi d}\right)^2
$$
- $P_t$: 송신전력, $G_t,G_r$: 안테나 이득(선형), $\lambda=c/f$, $d$: 거리.

**dB형식(전력 dBm, 이득 dBi)**  
$$
P_r\,[\mathrm{dBm}] = P_t + G_t + G_r - \mathrm{FSPL}[\mathrm{dB}]
$$
$$
\mathrm{FSPL(dB)} = 20\log_{10}\!\left(\frac{4\pi d}{\lambda}\right)
= 32.44 + 20\log_{10}(f_\mathrm{MHz}) + 20\log_{10}(d_\mathrm{km})
$$

**예 1)** 2.4 GHz, 1 km, 등방(0 dBi)  
$\mathrm{FSPL}=32.44+20\log_{10}(2400)+20\log_{10}(1)\approx 100.0\,\mathrm{dB}$.

### 1.2 반사/회절/투과(요약)
- **반사**: 금속/지면 → 경로길이·위상차로 **페이딩 리플**.  
- **회절**: 장애물 모서리에서 회절 → **Knife-edge** 손실.  
- **투과**: 벽/유리/인체 등에서 **침투 손실**(수~수십 dB), 주파수 높을수록 일반적으로 증가.

### 1.3 편파(Polarization)와 Cross-Polar Loss
- 선로 편파가 다르면 결합 손실 발생: $L_\mathrm{xp} = -20\log_{10}|\cos\theta|$ (선형-선형, 각도 $\theta$).  
- **원편파 vs 선형** 결합도 $-3\,\mathrm{dB}$ 등. 시스템 사양서의 **편파 매칭** 확인 필수.

### 1.4 안테나 기본
- **이득** $G$와 **유효구경** $A_e$: $A_e = \dfrac{\lambda^2 G}{4\pi}$.  
- **EIRP** $= P_t+G_t$ (dBm+dBi). 규제/링크버짓에서 핵심.

---

## 2. 대규모 페이딩: 로그거리 + 로그정규 섀도잉

### 2.1 로그거리(평균 경로손실)
$$
\mathrm{PL}(d) = \mathrm{PL}(d_0) + 10n\log_{10}\!\left(\frac{d}{d_0}\right)\ [\mathrm{dB}]
$$
- $n$: 경로지수(자유공간 2, 실내 2–4, 도심 3–4.5 등).

### 2.2 섀도잉(Shadowing, Log-normal)
$$
\mathrm{PL}_\mathrm{dB}(d) = \overline{\mathrm{PL}}(d) + X_\sigma,\quad X_\sigma\sim \mathcal{N}(0,\sigma^2)
$$
- $\sigma$: **표준편차**(4–12 dB 일반적). **커버리지 마진** 산정에 사용.

### 2.3 셀룰러 모델(참고 상수)
- **Hata(150–1500 MHz, 도시)**  
$\displaystyle L = 69.55 + 26.16\log f - 13.82\log h_b - a(h_m) + (44.9-6.55\log h_b)\log d$  
- **COST-231 Hata(1500–2000 MHz)**  
$\displaystyle L = 46.3 + 33.9\log f - 13.82\log h_b - a(h_m) + (44.9-6.55\log h_b)\log d + C$  
($C\!\approx\!3$ dB 대도시, 0 dB 소도시/교외. $f$ MHz, $h_b/h_m$ m, $d$ km)

> 시험 관점: **형식/경향**과 **파라미터 의미**를 기억. 실제 수치는 규격서 표 참조.

### 2.4 섀도잉 마진 예제
- 요구 **10% 아웃리지 이하**, $\sigma=8$ dB.  
  Q-함수 $Q^{-1}(0.1)\approx 1.2816$.  
  **마진** $M \approx \sigma Q^{-1}(0.1) \approx \mathbf{10.25\,dB}$.

---

## 3. 소규모 페이딩: 다중경로, 채널 시간-주파수 특징

### 3.1 채널 임펄스응답 & PDP
$$
h(t,\tau) = \sum_{k} a_k(t)\,\delta(\tau-\tau_k)
$$
- **전력지연프로파일(PDP)**: $P(\tau)=\mathbb{E}\{|h(t,\tau)|^2\}$.  
- **RMS 지연확산** $\tau_\mathrm{rms}$:  
$\displaystyle \tau_\mathrm{rms}=\sqrt{\overline{\tau^2}-\overline{\tau}^2}$,  
$\overline{\tau}=\dfrac{\int \tau P(\tau)d\tau}{\int P(\tau)d\tau}$.

**코히런스 대역폭** $B_c$ 근사:
$$
B_c \approx \frac{1}{5\tau_\mathrm{rms}}\ (\text{상관 0.5}),\qquad
B_c \approx \frac{1}{50\tau_\mathrm{rms}}\ (\text{상관 0.9})
$$

### 3.2 도플러: 시간 선택성
- 최대 도플러
$$
f_D = \frac{v}{\lambda} = \frac{v f_c}{c}
$$
- **코히런스 시간** $T_c$ 근사:
$$
T_c \approx \frac{1}{2\pi f_D}\quad\text{또는}\quad T_c \approx \frac{0.423}{f_D}
$$

**예 2)** 3.5 GHz, 60 km/h($=16.67$ m/s)  
$f_D \approx \frac{16.67\times3.5\!\times\!10^9}{3\!\times\!10^8}\approx 194\,\text{Hz}$  
$T_c \approx 0.423/194\approx \mathbf{2.18\,ms}$.

### 3.3 평탄/주파수선택 페이딩, 느림/빠름 페이딩
- **평탄(Flat)**: $B_c \gg$ 신호 대역 ⇒ 모든 주파수 성분이 거의 동일 페이딩(스케일×위상).  
- **주파수선택(Frequency-selective)**: $B_c \ll$ 신호 대역 ⇒ **ISI** 발생.  
- **느림(Slow)**: 프레임 기간 $\ll T_c$ ⇒ 채널이 거의 고정.  
- **빠름(Fast)**: 프레임 기간 $\gtrsim T_c$ ⇒ 상수로 보기 어려움(ICI/채널 추적 난이도↑).

---

## 4. 페이딩 통계: Rayleigh / Rician / Nakagami-m

### 4.1 Rayleigh (비가시경로, NLOS)
- 진폭 $R$ PDF:
$$
p_R(r)=\frac{r}{\sigma^2}\exp\!\left(-\frac{r^2}{2\sigma^2}\right),\quad r\ge 0
$$
- 수신 **SNR** $\gamma$가 지수 분포:
$$
p_\gamma(\gamma)=\frac{1}{\bar{\gamma}}\exp\!\left(-\frac{\gamma}{\bar{\gamma}}\right)
$$
- **BPSK** 평균 BER:
$$
\overline{P_b} = \frac{1}{2}\left(1-\sqrt{\frac{\bar{\gamma}}{1+\bar{\gamma}}}\right)
$$

### 4.2 Rician (LOS + 산란)
- $K$-factor (선형): $K=\dfrac{\text{LOS 전력}}{\text{산란 전력}}$ (dB로도 표기).  
- $K\!\to\!0\Rightarrow$ Rayleigh, $K\!\to\!\infty\Rightarrow$ 비페이딩(고정채널) 근사.  
- 평균 BER는 $K$에 따라 Rayleigh 대비 **개선**.

### 4.3 Nakagami-m (유연한 모델)
- 모수 $m\ge 0.5$: $m=1\Rightarrow$ Rayleigh, $m>1\Rightarrow$ 더 완만(페이딩 덜함).

---

## 5. 다이버시티(시간/주파수/공간) & 결합(Combining)

### 5.1 개념
- **독립 페이딩 경로**를 여러 개 확보 → **아웃리지/BER 급감**.  
- 다이버시티 **차수** $L$: 독립 경로 개수(시간·주파수·공간 조합도 가능).

### 5.2 결합 방식
- **SC(Selection Combining)**: 가장 SNR 큰 지점 선택.  
- **EGC(Equal Gain Combining)**: 위상 정렬 후 등가중치 합산.  
- **MRC(Maximal Ratio Combining)**: 채널 복소컨주게이트 가중치 → **SNR 최적**.  
  $L$개 Rayleigh 독립 경로의 합 SNR $\gamma_\Sigma=\sum\gamma_i$ → 감마분포.

**MRC 평균 BER(BPSK) 근사**  
$$
\overline{P_b}\approx \left(\frac{1}{2}\right)\left(1-\sqrt{\frac{\bar{\gamma}}{1+\bar{\gamma}}}\right)^L 
\quad(\text{직감용, 정확식은 적분형})
$$

---

## 6. OFDM: 다중경로 대책의 표준 해법

### 6.1 핵심 아이디어
- **넓은 대역**을 **다수의 협대역 서브캐리어**로 분할 → 각 부채널은 **평탄 페이딩** 근사.  
- **순환접두부(CP)** 길이 $T_\mathrm{CP} > \tau_\mathrm{max}$ 로 설정하면 **ISI 제거**, **순환 컨볼루션** → 부반송파별 **스칼라 등화**.

### 6.2 설계 상수
- **서브캐리어 간격** $\Delta f = 1/T_u$ (유효 심볼시간).  
- **ICI 억제**: $\Delta f \gg f_D$ (도플러에 비해 충분히 큼).  
- **CP 오버헤드**: $\eta_\mathrm{CP}=\dfrac{T_u}{T_u+T_\mathrm{CP}}$.

**예 3)** $\tau_\mathrm{rms}=1\,\mu s\Rightarrow B_c\approx 1/(5\mu s)\approx 200\,\mathrm{kHz}$.  
$\Delta f=15\,\mathrm{kHz}$이면 **충분히 협대역**. CP $=4.7\,\mu s\Rightarrow \eta_\mathrm{CP}\approx 0.761$.

### 6.3 채널 추정/등화
- **파일럿/DMRS**로 서브캐리어 채널 추정 → 선형/스플라인 보간.  
- **1탭 등화**: $Y_k = H_k X_k + N_k \Rightarrow \hat{X}_k = Y_k/H_k$ (ZF) 또는 MMSE.

---

## 7. MIMO: 모델 · 용량 · 빔포밍 · 공간다중화 · STBC

### 7.1 채널 모델
$$
\mathbf{y}=\mathbf{H}\mathbf{x}+\mathbf{n},\quad \mathbf{H}\in\mathbb{C}^{N_r\times N_t}
$$
- **랭크** = 독립 경로 수(환경/안테나 배치 결정).  
- **i.i.d. Rayleigh** 가정 시, 확률적으로 풀랭크($\min(N_t,N_r)$).

### 7.2 용량(수신 CSI, 평균 SNR $\rho$ per receive)
$$
C = \log_2\det\!\left(\mathbf{I}_{N_r} + \frac{\rho}{N_t}\mathbf{H}\mathbf{H}^\dagger\right)\quad [\text{bit/s/Hz}]
$$
- **SVD**: $\mathbf{H}= \mathbf{U}\boldsymbol{\Sigma}\mathbf{V}^\dagger \Rightarrow$ 병렬 **특이값 채널**.  
- **수신만 채널정보**: 균등 파워 분배. **송수신 CSI**: **Water-filling**으로 최적화.

**직감**: SISO $C=\log_2(1+\rho)$. 2×2 풀랭크면 **$\approx 2\times$** 스루풋(고SNR 근사).

### 7.3 빔포밍/배열이득
- **Conjugate BF**(Tx): $\mathbf{w}=\mathbf{h}/\|\mathbf{h}\|$ → 수신 SNR $\propto \|\mathbf{h}\|^2$ (**배열이득**).  
- **Rx-MRC** 와 동일 철학(채널 컨주게이트 가중).

### 7.4 공간다중화(SM) vs 다이버시티(Div)
- **SM**: 여러 스트림 동시 전송(스루풋↑, SNR/CSI 요구↑).  
- **STBC/STBC-MRC**: 다이버시티 얻어 **신뢰성↑**(스루풋 동일/감소).  
- **DMT(다이버시티-다중화 교환)**: 고정 SNR에서 둘은 **동시에 최대화 불가**(Zheng–Tse).

### 7.5 Alamouti(2×1/2×2) — 정석 STBC
- 송신 안테나 2개, 블록 길이 2:
$$
\begin{bmatrix}
\text{t}=1:\\
\text{t}=2:
\end{bmatrix}
\quad
\begin{bmatrix}
\text{Tx1} & \text{Tx2}\\
s_1 & s_2\\
- s_2^* & s_1^*
\end{bmatrix}
$$
- 수신 1안테나, 채널 $h_1,h_2$ (불변 가정):
$$
\begin{cases}
y_1 = h_1 s_1 + h_2 s_2 + n_1\\
y_2 = -h_1 s_2^* + h_2 s_1^* + n_2
\end{cases}
$$
- 선형 복호:
$$
\hat{s}_1 = h_1^* y_1 + h_2 y_2^*,\quad
\hat{s}_2 = h_2^* y_1 - h_1 y_2^*
$$
→ 유효 SNR $= (|h_1|^2+|h_2|^2)\cdot \mathrm{SNR}_\text{SISO}$ (**다이버시티 차수 2**).

---

## 8. 링크 설계: 페이딩/섀도잉 마진 & 예제

### 8.1 노이즈 플로어(기억)
$$
N_\mathrm{dBm} \approx -174 + 10\log_{10}B[\mathrm{Hz}] + \mathrm{NF}
$$
- $B$: 수신기 등가 잡음 대역, **NF**: 수신기 노이즈피겨(dB).

### 8.2 페이딩 마진(소규모) & 섀도잉 마진(대규모)
- **소규모**: 평균 SNR의 레일리 **아웃리지** $P(\gamma<\gamma_\mathrm{th})=1-e^{-\gamma_\mathrm{th}/\bar{\gamma}}$.  
  목표 $p_o$에 대해 $\bar{\gamma}=\dfrac{\gamma_\mathrm{th}}{-\ln(1-p_o)}$.  
- **섀도잉**: §2.4처럼 $\sigma Q^{-1}(p_o)$ dB 마진.

### 8.3 종합 링크 예제
- **주파수** 3.5 GHz, **거리** 2 km, **EIRP** 40 dBm, **Rx 이득** 15 dBi,  
  **대역폭** 10 MHz, **NF** 5 dB, **환경** 로그거리 $n=3$, $d_0=100$ m, $\mathrm{PL}(d_0)=$FSPL(100 m).  
1) $ \mathrm{FSPL}(100\,m) = 32.44 + 20\log(3500)+20\log(0.1) \approx 92.3\,\mathrm{dB}$.  
2) $ \overline{\mathrm{PL}}(2\,km) = 92.3 + 10\cdot 3\cdot \log(2000/100) = 92.3 + 30\log 20 \approx 92.3 + 39.0 = 131.3\,\mathrm{dB}$.  
3) **수신전력** $P_r = 40 + 15 - 131.3 \approx \mathbf{-76.3\,dBm}$.  
4) **노이즈 플로어** $= -174 + 10\log(10^7) + 5 = -174 + 70 + 5 = \mathbf{-99\,dBm}$.  
5) **평균 SNR(dB)** $= -76.3 - (-99) = \mathbf{22.7\,dB}$.  
6) **섀도잉 10% 마진**($\sigma=7$ dB): $M_s\approx 7\times 1.2816 = 9.0$ dB → **유효 SNR** $=13.7$ dB.  
7) **Rayleigh 소규모 10% 아웃리지**에서 필요한 $\bar{\gamma}$:  
   $p_o=0.1=1-e^{-\gamma_\mathrm{th}/\bar{\gamma}}\Rightarrow \bar{\gamma}=\gamma_\mathrm{th}/2.3026$.  
   목표 $\gamma_\mathrm{th}=5$ dB(≈3.16)라면 $\bar{\gamma} \approx 1.37$ (1.37≈1.36 선형) → **13.7 dB 평균**이면 충분.  
→ **링크 여유 있음**. (다이버시티/코딩/OFDM 적용 시 더 안전)

---

## 9. 간단 시뮬레이션 스니펫(학습용 Python)

> **Rayleigh 페이딩 + MRC 다이버시티**의 아웃리지 경험적 곡선

```python
import numpy as np

def outage_prob_rayleigh_mrc(avg_snr_lin, snr_th_lin, L=1, trials=200000):
    # avg_snr_lin: 평균 SNR (선형), snr_th_lin: 임계 (선형), L: 다이버시티 차수
    # 각 브랜치 SNR ~ Exp(1/avg), 합 SNR = sum of exponentials (Gamma)
    snrs = np.random.exponential(scale=avg_snr_lin, size=(trials, L))
    snr_sum = snrs.sum(axis=1)
    return (snr_sum < snr_th_lin).mean()

avg_snr_db = 10.0
snr_th_db  = 3.0
for L in [1,2,3]:
    p = outage_prob_rayleigh_mrc(10**(avg_snr_db/10), 10**(snr_th_db/10), L=L)
    print(f"L={L}, outage≈{p:.4f}")
```

> 기대: $L$↑일수록 동일 평균 SNR에서 **아웃리지 급감**(다이버시티 이득).

---

## 10. 실무 체크리스트

- [ ] **링크버짓**: EIRP, 안테나 이득, 케이블 손실, 평균 경로손실, 섀도잉 마진, 페이딩 마진.  
- [ ] **수신 노이즈**: $-174 + 10\log B + \mathrm{NF}$.  
- [ ] **지연확산/도플러** 추정 → **$B_c, T_c$** 산출 → **OFDM $\Delta f$, CP** 설정.  
- [ ] **다이버시티/코딩**: 시간(인터리빙), 주파수(스케줄링/호핑), 공간(MIMO/Alamouti/MRC).  
- [ ] **MIMO 선택**: 빔포밍(신뢰성↑) vs 공간다중화(스루풋↑). **채널 랭크/CSI** 확보가 관건.  
- [ ] **편파/배치**: 크로스폴 손실, 안테나 간격(≥0.5λ 권장), 차동/그라운드 고려.  
- [ ] **규격 마진**: 스펙트럼 마스크, EIRP 제한, 인체흡수(SAR), 간섭/주파수 재사용.

---

## 11. 자주 틀리는 포인트(정오표)

- $\mathrm{FSPL}$ 상수: **32.44**(MHz, km 사용 시). 단위 실수 주의.  
- $B_c$ 근사: **$1/(5\tau_\mathrm{rms})$**(0.5 상관), **$1/(50\tau_\mathrm{rms})$**(0.9 상관) — 두 값 다 교재에 나옴.  
- $T_c$ 근사: $1/(2\pi f_D)$ vs $0.423/f_D$ — **둘 다 근사**.  
- Rician $K$ 정의: **선형비**(dB로도 표기), $K\!\downarrow\Rightarrow$ Rayleigh에 가까움.  
- Alamouti 복호식 **컨주게이트/부호** 방향 확인.

---

## 12. 연습문제(해설 포함)

### Q1. 900 MHz, 5 km, 등방에서 FSPL은?
**풀이**  
$32.44+20\log(900)+20\log(5)\approx 32.44+59.08+13.98=\mathbf{105.5\,dB}$.

### Q2. $\tau_\mathrm{rms}=0.5\,\mu s$. $B_c$ (0.5 상관 기준)와 OFDM $\Delta f$ 선택 가이드?
**풀이**  
$B_c\approx 1/(5\tau)=1/(2.5\,\mu s)=\mathbf{400\,kHz}$.  
$\Delta f\ll B_c$ 권장 → 예: 15–30 kHz.

### Q3. 2.4 GHz, 100 km/h에서 $f_D$와 $T_c(0.423/f_D)$?
**풀이**  
$v=27.78$ m/s, $f_D\!\approx\!\frac{27.78\cdot2.4e9}{3e8}\!\approx\!222\,\text{Hz}$.  
$T_c\approx 0.423/222\approx \mathbf{1.9\,ms}$.

### Q4. Rayleigh BPSK, $\bar{\gamma}=10$ dB(=10 선형). 평균 BER?
**풀이**  
$\overline{P_b}=\tfrac{1}{2}(1-\sqrt{\tfrac{10}{11}})\approx \tfrac{1}{2}(1-0.9535)=\mathbf{0.0233}$.

### Q5. 섀도잉 $\sigma=6$ dB, 아웃리지 5% 목표 시 마진?
**풀이**  
$Q^{-1}(0.05)=1.6449\Rightarrow M\approx 6\times1.6449=\mathbf{9.87\,dB}$.

### Q6. 2×1 Alamouti에서 수신 유효 SNR이 SISO 대비 어떻게 변하나?
**풀이**  
$|h_1|^2+|h_2|^2$ 배만큼 증가(평균 2배, **3 dB 다이버시티/배열이득**).

### Q7. 2×2 i.i.d. Rayleigh에서 평균적으로 SISO 대비 용량이?
**풀이**  
고 SNR에서 **약 2배**(공간다중화로 병렬 스트림 2개).

---

## 13. 빠른 암기표(Cheat Sheet)

- **FSPL(dB)** $=32.44+20\log f_\mathrm{MHz}+20\log d_\mathrm{km}$  
- **로그거리**: $ \mathrm{PL}=\mathrm{PL}(d_0)+10n\log(d/d_0)$, 섀도잉 $+\mathcal{N}(0,\sigma^2)$  
- **$B_c$** $ \approx 1/(5\tau_\mathrm{rms})$, **$T_c$** $ \approx 0.423/f_D$  
- **Rayleigh BPSK BER** $=\frac12(1-\sqrt{\bar{\gamma}/(1+\bar{\gamma})})$  
- **다이버시티 결합**: SC < EGC < **MRC**(최적)  
- **OFDM**: $\Delta f=1/T_u$, $T_\mathrm{CP}>\tau_\mathrm{max}$  
- **MIMO 용량** $=\log_2\det(I+\frac{\rho}{N_t}HH^\dagger)$, **Alamouti**(2Tx) 다이버시티2

---

## 14. 마무리 코멘트
- **경로손실 → 섀도잉 → 소규모 페이딩**의 3단 구조를 분리해서 생각하면 설계가 쉬워집니다.  
- **OFDM**(주파수 선택성 해결)과 **MIMO**(스루풋/신뢰성 향상)는 현대 무선의 표준 해법.  
- 시험에서는 **공식·근사식**, **단위/상수**, **마진 산정**을 빠르게 쓰는 연습이 승부를 가릅니다.
