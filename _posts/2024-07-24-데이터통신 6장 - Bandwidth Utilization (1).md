---
layout: post
title: 데이터 통신 6장 - Bandwidth Utilization (1)
date: 2024-07-24 19:20:23 +0900
category: DataCommunication
---
# 6. Bandwidth Utilization: Multiplexing and Spectrum Spreading

## 6.1 Multiplexing
- 하나의 통신 회선을 다수의 단말기가 사용할 수 있게 하는 것을 말한다. 여기서 보내는 쪽이 **Multiplexer(MUX)**, 받는 쪽이 **Demultiplexer(DEMUX)**라 한다. 그리고 논리적인 단위를 **channel**이라고 한다.

### 6.1.1 Frequency-Division Multiplexing (FDM, 주파수 분할 다중화)
- FDM : 링크의 대역폭일 때, 적용하는 아날로그 기술. 전송기에서는 주파수가 **frequency carrier**라 부른다. 여러 주파수에서 변조된 신호들은 단일 결합 신호로 합쳐져 링크로 전송된다. 캐리어 주파수는 충분한 대역폭으로 나뉘어 변조된 신호로 수용된다. 이 대역폭들은 여러 경로로 신호들이 떠난다. 채널들은 쓰이지 않는 대역폭인 **guard band**로 침범을 예방한다.

- FDM은 아날로그 신호들을 합치는데 쓰는 아날로그 다중화 기술이다.

신호는 다음과 같이 합쳐져 변조된다.

분해는 필터로 이뤄진다.
- 아날로그 캐리어 시스템
  - 아날로그 시스템(전화 등)에서 FDM이 쓰인다.
  - 전화회사는 **voice channels (4 KHz)**이라는 작은 단위에 12개를 모아서 **groups (48 KHz)**이 되고, 5개의 그룹을 모아 **super-groups (240 KHz)**, 슈퍼 그룹 10개를 모아 **master groups (2.4 MHz)**, 6개의 마스터 그룹을 모아서 **jumbo groups (15.12 MHz)**을 만들었다.

- FDM은 **AM, FM (530 ~ 1700 kHz)** 라디오 방송, 1세대 휴대폰(두 개의 30kHz 채널이 있다)에 쓰인다.
- FDM은 매우 쉽게 구현될 수 있다. TV방송, CATV, 라디오와 같은 경우에 구현될 수 있으며, 이 경우 다중화 시키거나 다중화를 푸는 장치가 필요 없다. 이동전화 시스템의 경우에는 기지국에서 전화 사용자들에게 반송 주파수를 할당한다. 각 사용자들에게 영구적으로 할당할 만큼의 충분한 대역은 없으므로, 통화자가 전화를 끊으면 그 대역을 다른 통화자에게 할당한다.

### 6.1.2 Wavelength-Division Multiplexing (WDM, 파장 분할 다중화 방식)
- 여러 파장대역을 통해, 동시에 전송하는 광 다중화 방식. 하나의 광섬유에, 입력 채널 신호들을 각기 다르게 할당된 채널 파장대역을 통해, 동시에 전송하는 광 다중화 방식
- 각 입력 채널마다 다른 각각의 파장대역을 할당하게 됨. 광섬유 저손실 파장대역(특히, 1550nm)을 여러 좁은 채널 파장대역으로 분할시킴

- 아이디어는 좋으나 복잡하다. 프리즘의 원리랑 같다.

#### 특징
- (다중화) FDM 방식의 일종인 파장 다중화 방식
  - 복수의 전달 정보를 각기 다른 파장에 할당하여 하나의 광섬유에 전송
  - 결국, 여러 개의 광 파장을 하나의 광섬유를 통하여 전송, 광코어의 수를 줄임
  - 선로의 증설없이 회선증설이 용이, 전송거리가 TDM 방식 보다 더 길게 할 수 있음
  - 양방향 전송 가능
- (투명성) 서로 다른 전송률과 프로토콜을 갖는 파장 채널들로 공존 가능
  - IP, ATM, SONET/SDH, 기가비트 이더넷의 전송이 모두 가능
- (네트워크 구성 용이) 광수동소자 만으로 쉽게 분기결합 구현 가능
- (확장성) 40 GB 이상의 전송용량 수용이 가능
  - 광섬유 추가 포설이나 전송장비의 교체 없이, 다른 파장의 채널을 간단히 추가해주는 것 만으로도 전송용량을 쉽게 확장 가능
- (장거리 통신) 중장거리 통신에 주로 활용
  - 중간에 광손실 보상을 위해 광증폭기가 사용 됨
- C 밴드 1550 nm 파장대의 EDFA 광증폭기의 발전으로 주로 이 부근에서 상용화
- DWDM(dense), CWDM(coarse)

### 6.1.3 Time-Division Multiplexing (TDM, 시분할 다중화)
- 시간분할된 여러 사용자 타임슬롯을 하나로 결합시키는 다중화 방식

#### 프레임 내 사용자 채널 할당 방식에 따른 구분
- **STDM(동기식 시분할 다중화)** 또는 비 통계적 시분할 다중화
  - 각 사용자 채널(타임슬롯)에서 데이터가 있건 없건 간에 프레임 내 해당 사용자 채널이 항상 점유됨
  - 프레임 동기 필요
  - 순서에 따라 목적지 구분이 용이
  - **interleaving(끼워넣기)**
    - TDM은 하나의 Multiplexing 쪽에서 다른 하나는 Demultiplexing하는 쪽에서 매우 빠르게 돌고 있는 스위치로 표현이 가능하다. 스위치들은 서로 동기화되어 같은 속도로 서로의 반대 방향으로 돈다. 다중화기 쪽에서는 스위치가 연결의 앞에서 열리게 되며, 그 연결이 경로의 한 단위를 전송할 수 있는 기회를 얻는다.
    이 과정을 **끼워넣기(Interleaving)**라고 한다. Demultiplexing을 하는 쪽에서는 스위치가 연결 앞에서 열리게 되며, 그 연결이 경로로부터 한 단위를 받을 기회를 얻는다.
  
  - **empty slots**
    - 발신자가 전송할 데이터가 없다면 해당 틈새가 비게 된다.
  - **data rate 관리**
    - empty slot의 문제를 해결하기 위해 multilevel multiplexing, multiple-slot allocation, pulse stuffing이 있다.
    - **multilevel multiplexing**
      - 어느 입력의 데이터 율이 다른 것들에 비해 정수 배만큼 빠를 때 사용하는 기술
      - 입력선의 데이터가 다른 것들의 배수일 때 사용된다.
    - **multiple-slot allocation**
      - 입력회선에 한 개보다 더 많은 slot을 할당하는 것
    - **pulse stuffing**
      - 가장 높은 데이터 율에 맞추기 위해 dummy bits를 끼워 넣는 것
      - 비트 패딩, 비트 채우기라고도 함

- **ATDM(비동기식 시분할 다중화)** 또는 통계적 시분할 다중화(STDM)
  - 각 사용자 채널에서 데이터가 있을 때에만 프레임에 삽입되어짐
  - 프레임 동기가 불필요
  - 각 타임슬롯에는 반드시 목적지 구분을 위한 주소가 필요함

#### 동기 클럭 관점에 따른 구분
- **비동기식 다중화(Plesiochronous Multiplexing)**
  - 개별 자체 클럭원에 의해 하위 계위 신호들을 상위 계위 신호로 다중화
  - 비트스터핑에 의한 비트 간의 동기를 일치시키며 다중화 처리함
- **동기식 다중화(Synchronous Multiplexing)**
  - 하나의 기준된 단일 동기 클럭원에 의해 하위 계위 신호가 상위 계위 신호로 다중화

#### Frame Synchronizing
- 동기화 문제를 위해 각 프레임에 비트를 삽입하는데 이를 **framing bits**라 한다.

#### DS(Digital Signal) 서비스 or Digital Hierarchy
- 디지털 신호의 계층 구조

##### 특징
- **DS-0**은 싱글 디지털 채널로 64kbps이다.
- **DS-1**은 1.544Mbps이며, DS-0 24개로 다중화한 것이다.
- **DS-2**은 6.312Mbps이며, DS-1 4개로 다중화한 것이다.
- **DS-3**은 44.376Mbps이며, DS-2 7개로 다중화한 것이다.
- **DS-4**은 274.176Mbps이며, DS-3 6개로 다중화한 것이다.
- **T 라인**: 전화 회사가 DS를 기준으로 라인을 만든 서비스이다.

##### 아날로그 통신에서 T 라인
- T 라인은 디지털 데이터를 기준으로 했으나 아날로그 데이터를 기준으로 한다.
- 아날로그는 56kbps 이하로 전송되며, 디지털로 매핑된다.

- 위의 것은 **DS-1**을 기준으로 작성되었다. 8bit 24개에 1bit의 여분의 비트로 193bit가 되었다. T-1에서 8000 프레임이 반송되면,

  $$193 \times 8000 = 1.544 \, \text{Mbps}$$

- **E Lines**: T 라인의 유럽 버전이다.

#### Statistical Time-Division Multiplexing (통계적 TDM)
- 동기식 TDM은 이미 할당된, 고정된 time slot을 쓴다. 각각의 time slot은 data transfer이 없어도 할당된다. → 낭비
- 비동기식 TDM은 동적으로 time slot을 수요에 따라 할당한다.
- **frame**이 꽉 찰 때까지 input line을 검사하고, 데이터를 모은다 → **buffering**
- line의 **Data rate**는 input line의 집계된 rate보다 낮아야 한다.
- 집계된 input rate보다 적은 output data는 peak period 동안 **queuing delay**를 발생시킨다 (대기 지연) → **waiting time**

##### Addressing
- 비동기식 TDM은 출력 결과가 $$N$$, 비트수가 $$n$$이면,

  $$ n = \log_2 N $$

#### Slot size
- 전송에 합리적인 크기이다.

##### No Synchronization Bit
- 비동기식 TDM은 동기화 비트가 필요 없다.

##### Bandwidth
- 각 채널에 저장 능력이 떨어지는데, 각 채널에 적재량이 정의되어 있기 때문이다.