---
layout: post
title: 선형대수 - 벡터의 정의
date: 2025-04-26 21:20:23 +0900
category: 선형대수
---
# 벡터의 정의와 표기

## 0. 표기 규약(Notation)

- 스칼라: $$a, b, \alpha \in \mathbb{R}$$
- 벡터: 본 문서에서는 **굵은 소문자**를 권장합니다(예: $$\mathbf{v}, \mathbf{x}$$).  
  상황에 따라 화살표 표기 $$\vec{v}$$ 도 함께 표기합니다.
- 행렬: 굵은 대문자(예: $$\mathbf{A}, \mathbf{B}$$)
- 전치: $$\mathbf{v}^\top, \ \mathbf{A}^\top$$
- 노름과 내적: $$\lVert \cdot \rVert,\ \langle \cdot, \cdot \rangle$$

---

## 1. 벡터란 무엇인가

벡터는 **크기와 방향을 동시에 가진 수학적 객체**입니다. 물리량의 예로는 속도, 가속도, 힘, 전기장 등이 있고, 데이터 과학에서는 샘플의 **특성 벡터**로 사용됩니다.

예시(개념적):
- 속도 벡터: 시속 60, 북쪽 방향
- 힘 벡터: 크기 10, 오른쪽 아래 방향

스칼라(크기만 있는 값)와 달리, 벡터는 **방향 정보**를 포함합니다.

---

## 2. 벡터의 표기 방식

### 2.1 기호 표기
- 굵은체 또는 화살표:
  - $$\mathbf{v} \quad \text{또는} \quad \vec{v}$$

### 2.2 좌표 표기
$$
\vec{v} \;=\;
\begin{bmatrix}
v_1 \\
v_2 \\
\vdots \\
v_n
\end{bmatrix}
\quad \text{또는} \quad
(v_1, v_2, \dots, v_n)
$$

예시:
- 2차원: $$\vec{a} = \begin{bmatrix} 3 \\ 4 \end{bmatrix}$$
- 3차원: $$\vec{b} = \begin{bmatrix} 1 \\ 0 \\ -2 \end{bmatrix}$$

---

## 3. 벡터의 차원

성분이 $$n$$ 개인 벡터는 $$n$$ 차원 벡터이며, 다음과 같이 씁니다.
$$
\vec{v} \in \mathbb{R}^n
$$

사례:
- 1차원: $$\vec{v} = [v_1]$$
- 2차원(평면): $$\vec{v} = [v_1, v_2]$$
- 3차원(공간): $$\vec{v} = [v_1, v_2, v_3]$$
- 일반 $$n$$ 차원: $$\vec{v} = [v_1, v_2, \dots, v_n]$$

---

## 4. 열벡터와 행벡터

선형대수의 기본 형태는 **열벡터**입니다.

### 4.1 열벡터(기본)
$$
\vec{v} \;=\;
\begin{bmatrix}
v_1 \\
v_2 \\
v_3
\end{bmatrix}
\quad (\text{크기 } n \times 1)
$$

### 4.2 행벡터(전치)
행렬 곱이나 내적을 위해 **전치**로 행벡터를 사용할 때가 많습니다.
$$
\vec{v}^\top \;=\;
\begin{bmatrix}
v_1 & v_2 & v_3
\end{bmatrix}
\quad (\text{크기 } 1 \times n)
$$

전치 연산은 열벡터를 행벡터로, 또는 그 반대로 바꿔 줍니다.

---

## 5. 기하학적 해석

2차원 또는 3차원에서 벡터는 원점에서 시작하여 점 $$ (v_1, v_2, \dots) $$ 을 가리키는 **화살표**로 해석할 수 있습니다.

예:
- $$\vec{v} = [3,4]$$ 는 원점에서 $$ (3,4) $$ 로 향하는 화살표입니다.
- 벡터의 길이(크기)는 피타고라스 정리에 따라  
  $$
  \lVert \vec{v} \rVert \;=\; \sqrt{3^2 + 4^2} \;=\; 5
  $$

---

## 6. 벡터의 기본 연산(핵심 공식)

### 6.1 덧셈과 스칼라곱
같은 차원의 벡터는 항목별로 더합니다.
$$
\begin{bmatrix}1\\2\end{bmatrix}
+
\begin{bmatrix}3\\4\end{bmatrix}
=
\begin{bmatrix}4\\6\end{bmatrix}
$$

스칼라곱(스칼라 배):
$$
2 \cdot
\begin{bmatrix}3\\5\end{bmatrix}
=
\begin{bmatrix}6\\10\end{bmatrix}
$$

### 6.2 내적(점곱)과 각도
내적:
$$
\langle \mathbf{u}, \mathbf{v} \rangle
\;=\;
\mathbf{u}^\top \mathbf{v}
\;=\;
\sum_{i=1}^n u_i v_i
$$

각도(둘 다 영벡터가 아닐 때):
$$
\cos \theta
\;=\;
\frac{\langle \mathbf{u}, \mathbf{v} \rangle}
{\lVert \mathbf{u} \rVert \, \lVert \mathbf{v} \rVert}
$$

### 6.3 노름(길이)과 단위벡터
노름:
$$
\lVert \mathbf{v} \rVert
\;=\;
\sqrt{\sum_{i=1}^n v_i^2}
$$

단위벡터:
$$
\hat{\mathbf{v}} \;=\; \frac{\mathbf{v}}{\lVert \mathbf{v} \rVert}
\quad (\mathbf{v} \neq \mathbf{0})
$$

### 6.4 투영(한 벡터를 다른 벡터 위로)
$$
\operatorname{proj}_{\mathbf{u}}(\mathbf{v})
\;=\;
\frac{\mathbf{v}^\top \mathbf{u}}{\mathbf{u}^\top \mathbf{u}} \, \mathbf{u}
\quad (\mathbf{u} \neq \mathbf{0})
$$

---

## 7. 좌표계·기저·선형결합·생성

표준기저:
$$
\mathbf{e}_1 = [1,0,\dots,0]^\top,\quad
\mathbf{e}_2 = [0,1,0,\dots,0]^\top,\ \dots
$$

선형결합:
$$
\alpha_1 \mathbf{v}_1 + \cdots + \alpha_k \mathbf{v}_k
$$

벡터 집합이 만들어 내는 모든 선형결합의 집합을 **생성(span)** 이라 합니다.
$$
\operatorname{span}\{\mathbf{v}_1,\dots,\mathbf{v}_k\}
$$

이 집합이 원점을 포함하고 덧셈과 스칼라곱에 닫혀 있으면 **부분공간**입니다.

---

## 8. 실제 해석 시나리오

- 물리: 질점에 작용하는 힘들의 합력은 벡터 덧셈으로 계산합니다.
- 기계학습: 샘플의 특성 벡터 간 유사도는 코사인 유사도(내적과 노름)로 정의됩니다.
- 컴퓨터 그래픽스: 회전·이동·스케일 변환은 벡터를 특정 행렬로 곱해 구현됩니다.

---

## 9. PyTorch 예제(벡터 정의, 전치, 길이, 내적, 각도, 투영)

```python
import torch

torch.set_printoptions(sci_mode=False, precision=4)

# 열벡터(기본)
v_col = torch.tensor([[3.0], [4.0]])     # shape: (2,1)
print("열벡터:\n", v_col)

# 행벡터(전치)
v_row = v_col.T                           # shape: (1,2)
print("행벡터(전치):\n", v_row)

# 벡터 크기(노름)
norm_v = torch.linalg.norm(v_col)         # Frobenius norm == 2-노름 for vector
print("벡터의 크기:", float(norm_v))      # 5.0

# 내적과 각도
u = torch.tensor([[1.0], [2.0]])          # shape: (2,1)
inner = float((v_col.T @ u).item())       # v^T u
cos_th = inner / (float(norm_v) * float(torch.linalg.norm(u)))
angle_rad = torch.arccos(torch.clamp(torch.tensor(cos_th), -1+1e-9, 1-1e-9))
print("내적:", inner)
print("cos(theta):", float(cos_th))
print("theta(rad):", float(angle_rad))

# 투영: proj_u(v) = (v^T u / u^T u) * u
coeff = float((v_col.T @ u).item()) / float((u.T @ u).item())
proj = coeff * u
print("proj_u(v):\n", proj)

# 주의: shape (n,) vs (n,1)
x = torch.tensor([1.0, 2.0, 3.0])         # shape: (3,)
A = torch.randn(2, 3)
y1 = A @ x                                # 결과 shape: (2,)
x_col = x.view(-1, 1)                     # shape: (3,1)
y2 = (A @ x_col).view(-1)                 # shape: (2,)
print("A@x:", y1.shape, " A@x_col:", y2.shape, " 동일성:", torch.allclose(y1, y2))
```

해설:
- 열벡터가 기본이지만, 프레임워크에서는 1차원 텐서 $$ (n,) $$ 와 $$ (n,1) $$ 의 차이에 주의해야 합니다.
- 내적은 $$ \mathbf{v}^\top \mathbf{u} $$ 로 계산되며, 각도는 $$ \cos\theta $$ 공식으로 얻습니다.
- 투영은 두 벡터의 **방향성 분해**를 수치적으로 확인하는 좋은 예입니다.

---

## 10. 흔한 실수와 주의사항

1. 표기 혼용: $$\vec{v}$$ 와 $$\mathbf{v}$$ 를 문서 내에서 섞어 쓰면 혼란이 커집니다. 한 스타일로 통일하세요.  
2. shape 오류: $$ (n,) $$ 와 $$ (n,1) $$ 은 계산에서 다르게 동작할 수 있습니다. 전치·행렬곱 앞에서는 의도한 shape 를 명확히 만드세요.  
3. 단위 혼동: 서로 다른 물리 단위를 같은 벡터에 섞으면 내적·노름 해석이 왜곡됩니다. 표준화/정규화가 필요할 수 있습니다.  
4. 영벡터 각도: 한쪽이라도 영벡터이면 $$ \theta $$ 는 정의되지 않습니다.  
5. 수치 안정성: 각도 계산 시 $$ \cos\theta $$ 값은 부동소수 오차로 $$[-1,1]$$ 범위를 조금 벗어날 수 있으니 클램핑을 사용하세요.

---

## 11. 요약 표

| 항목 | 핵심 정의/공식 |
|---|---|
| 벡터 | 크기와 방향을 가진 객체 |
| 표기 | $$\vec{v}$$ 또는 $$\mathbf{v}$$ |
| 차원 | $$\vec{v} \in \mathbb{R}^n$$ |
| 전치 | $$\vec{v}^\top$$ 은 행벡터, $$\vec{v}$$ 는 열벡터 |
| 노름 | $$\lVert \mathbf{v} \rVert = \sqrt{\sum_i v_i^2}$$ |
| 내적 | $$\langle \mathbf{u}, \mathbf{v} \rangle = \mathbf{u}^\top \mathbf{v}$$ |
| 각도 | $$\cos\theta = \dfrac{\mathbf{u}^\top\mathbf{v}}{\lVert \mathbf{u}\rVert \lVert \mathbf{v}\rVert}$$ |
| 투영 | $$\operatorname{proj}_{\mathbf{u}}(\mathbf{v}) = \dfrac{\mathbf{v}^\top\mathbf{u}}{\mathbf{u}^\top\mathbf{u}} \mathbf{u}$$ |

---

## 12. 연습문제(해설 힌트 제공)

1. $$\mathbf{v} = [-1,\, 2,\, -2]^\top$$ 에 대하여 $$\lVert \mathbf{v} \rVert$$ 과 $$\hat{\mathbf{v}}$$ 를 구하시오.  
   힌트: 단위벡터는 $$\hat{\mathbf{v}} = \mathbf{v} / \lVert \mathbf{v} \rVert$$ 입니다.

2. $$\mathbf{u} = [1,\, 1]^\top, \ \mathbf{v} = [2,\,-1]^\top$$ 일 때, 내적과 각도 $$\theta$$ 를 구하시오.  
   힌트: $$\cos\theta$$ 공식을 사용하십시오.

3. $$\mathbf{u} = [3,\, 4]^\top$$ 에 대하여 $$\operatorname{proj}_{\mathbf{u}}(\mathbf{v})$$ 의 일반식을 이용해 $$\mathbf{v} = [1,\, 2]^\top$$ 를 투영하세요.  
   힌트: 계수는 $$ (\mathbf{v}^\top \mathbf{u}) / (\mathbf{u}^\top \mathbf{u}) $$ 입니다.

4. 다음 두 표현의 차이를 설명하고, 동일 결과가 나오도록 코드를 작성하시오.  
   a) $$\mathbf{A} \in \mathbb{R}^{2 \times 3}, \ \mathbf{x} \in \mathbb{R}^{3}$$ (shape: $$ (3,) $$) 에서 $$\mathbf{A}\mathbf{x}$$  
   b) 같은 $$\mathbf{x}$$ 를 $$ (3,1) $$ 로 바꾸어 $$\mathbf{A}\mathbf{x}$$  
   힌트: 프레임워크의 브로드캐스팅과 전치 규칙을 점검하세요.

5. 3차원 벡터 $$\mathbf{u}, \mathbf{v} \in \mathbb{R}^3$$ 가 서로 수직이면 어떤 관계가 성립하는가?  
   힌트: 내적을 사용하세요.

---

## 13. 마무리

- 벡터는 **방향성과 크기**를 수학적으로 다루는 기본 객체이며, 좌표 표기와 전치, 내적·노름, 투영 개념을 통해 기하적 의미를 정량화합니다.  
- 실제 계산에서는 **shape 의식**, **수치 안정성**, **단위 정규화**가 중요합니다.