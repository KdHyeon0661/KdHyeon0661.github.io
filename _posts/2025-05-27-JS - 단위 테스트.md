---
layout: post
title: JavaScript - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
date: 2025-05-27 20:20:23 +0900
category: JavaScript
---
# âœ… ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì†Œê°œ (Jest, Mocha)

---

## ğŸ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë€?

> ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit Test)ëŠ” í”„ë¡œê·¸ë¨ì˜ **ê°€ì¥ ì‘ì€ ë‹¨ìœ„(í•¨ìˆ˜, ëª¨ë“ˆ ë“±)**ê°€ **ì˜ë„ëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸**í•˜ëŠ” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤.

### âœ”ï¸ ì™œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ì¤‘ìš”í• ê¹Œ?

- ì½”ë“œ ë³€ê²½ ì‹œ ê¸°ëŠ¥ì´ ê¹¨ì¡ŒëŠ”ì§€ ë¹ ë¥´ê²Œ í™•ì¸
- ë²„ê·¸ ì¡°ê¸° ë°œê²¬ â†’ ìœ ì§€ë³´ìˆ˜ ìš©ì´
- ë¦¬íŒ©í† ë§/ì¶”ê°€ ê°œë°œ ì‹œ ì•ˆì •ì„± í™•ë³´
- CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ ìë™í™” ê°€ëŠ¥

---

## ğŸ§ª ëŒ€í‘œì ì¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬

| ë„êµ¬ | ì„¤ëª… |
|------|------|
| **Jest** | Facebookì—ì„œ ë§Œë“  í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬. **React**ì™€ ì˜ í†µí•©ë¨ |
| **Mocha** | ìœ ì—°í•œ í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆ. ë‹¤ì–‘í•œ Assertion/Mock ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì¡°í•© |
| Jasmine | ì˜›ë‚ ë¶€í„° ì¡´ì¬. ë…ë¦½í˜•ì´ë©° ìì²´ Assertion í¬í•¨ |
| Vitest | Vite ê¸°ë°˜ì˜ ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ ë„êµ¬ (Jest API í˜¸í™˜) |

---

## ğŸ“¦ Jest ì†Œê°œ

### íŠ¹ì§•

- **í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆ + Assertion + Mock + ì»¤ë²„ë¦¬ì§€**ê°€ í¬í•¨ëœ All-in-one ë„êµ¬
- React í”„ë¡œì íŠ¸ì˜ í‘œì¤€
- ë¹ ë¥¸ ì‹¤í–‰, ì‰¬ìš´ ì„¤ì •
- TypeScript, Babel, ESM ì§€ì›

### ì„¤ì¹˜

```bash
npm install --save-dev jest
```

### ì˜ˆì œ: `math.js`

```js
export function add(a, b) {
  return a + b;
}
```

### í…ŒìŠ¤íŠ¸ íŒŒì¼: `math.test.js`

```js
import { add } from './math';

test('ë”í•˜ê¸° í•¨ìˆ˜ í…ŒìŠ¤íŠ¸', () => {
  expect(add(1, 2)).toBe(3);
});
```

### ì‹¤í–‰

```bash
npx jest
```

### Jestì˜ ì£¼ìš” API

| í•¨ìˆ˜ | ì„¤ëª… |
|------|------|
| `test()` ë˜ëŠ” `it()` | í…ŒìŠ¤íŠ¸ ì •ì˜ |
| `expect(value)` | ê²°ê³¼ ê°’ ì„¤ì • |
| `.toBe(value)` | ê°’ ë¹„êµ (ì—„ê²© ===) |
| `.toEqual(obj)` | ê°ì²´/ë°°ì—´ ê°’ ë¹„êµ |
| `.toThrow()` | ì—ëŸ¬ ë°œìƒ ì—¬ë¶€ í™•ì¸ |

---

## ğŸ”„ Mocha ì†Œê°œ

### íŠ¹ì§•

- í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆë§Œ ì œê³µ (Assertion, Mock ë„êµ¬ëŠ” ë”°ë¡œ ì„¤ì¹˜)
- ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥í•˜ê³  ë‹¨ìˆœí•œ êµ¬ì¡°
- Node.js ê¸°ë°˜ ìœ í‹¸ì„± ì½”ë“œ í…ŒìŠ¤íŠ¸ì— ê°•í•¨

### ì„¤ì¹˜

```bash
npm install --save-dev mocha chai
```

> `chai`ëŠ” Assertion ë¼ì´ë¸ŒëŸ¬ë¦¬

### ì˜ˆì œ: `math.js`

```js
exports.add = (a, b) => a + b;
```

### í…ŒìŠ¤íŠ¸ íŒŒì¼: `test/math.test.js`

```js
const { expect } = require('chai');
const { add } = require('../math');

describe('add()', () => {
  it('1 + 2 = 3', () => {
    expect(add(1, 2)).to.equal(3);
  });
});
```

### ì‹¤í–‰

```bash
npx mocha
```

---

## ğŸ†š Jest vs Mocha ë¹„êµ

| í•­ëª© | Jest | Mocha |
|------|------|-------|
| ëª©ì  | ì˜¬ì¸ì› í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ | í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆ (ì¡°í•©ì‹) |
| ê¸°ë³¸ í¬í•¨ | Assertion, Mock, Watch, Coverage | ì—†ìŒ (chai, sinon ë“± í•„ìš”) |
| ì„¤ì • ë‚œì´ë„ | ì‰¬ì›€ (zero-config) | ììœ ë¡­ì§€ë§Œ ì§ì ‘ ì„¤ì • í•„ìš” |
| ì‚¬ìš© ì˜ˆ | React, Vue, í”„ë¡ íŠ¸ì—”ë“œ | Node.js ë¼ì´ë¸ŒëŸ¬ë¦¬, ë°±ì—”ë“œ |
| í…ŒìŠ¤íŠ¸ ì†ë„ | ë¹ ë¦„ | ë³´í†µ |
| íƒ€ì… ì§€ì› | TypeScript ìë™ ì§€ì› | ì„¤ì • í•„ìš” |
| ìë™í™” | watch ëª¨ë“œ, snapshot í…ŒìŠ¤íŠ¸ | ë³„ë„ êµ¬ì„± í•„ìš” |

---

## ğŸ’¡ ì‹¤ë¬´ íŒ

- í”„ë¡œì íŠ¸ ê·œëª¨ê°€ ì‘ê±°ë‚˜ React í”„ë¡œì íŠ¸ë©´ Jest ì¶”ì²œ
- Node.js ê¸°ë°˜ ëª¨ë“ˆ í…ŒìŠ¤íŠ¸ëŠ” Mocha + Chai ì¡°í•©ë„ ìœ ë¦¬
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¸ì€ `--coverage` í”Œë˜ê·¸ í™œìš©
- `test/*.test.js` ë˜ëŠ” `__tests__` í´ë”ì—ì„œ í…ŒìŠ¤íŠ¸ ìë™ ì¸ì‹

---

## ğŸ›  ë³´ë„ˆìŠ¤: npm ìŠ¤í¬ë¦½íŠ¸ ë“±ë¡

```json
// package.json
{
  "scripts": {
    "test": "jest" // í˜¹ì€ "mocha"
  }
}
```

```bash
npm test  // ì‹¤í–‰
```

---

## ğŸ“ í…ŒìŠ¤íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° ì˜ˆì‹œ

```
ğŸ“¦ src
 â”£ ğŸ“œ math.js
 â”£ ğŸ“œ stringUtil.js
â”£ __tests__
 â”£ ğŸ“œ math.test.js
 â”£ ğŸ“œ stringUtil.test.js
```

---

## ğŸ”— ì°¸ê³  ë§í¬

- [Jest ê³µì‹ ì‚¬ì´íŠ¸](https://jestjs.io/)
- [Mocha ê³µì‹ ì‚¬ì´íŠ¸](https://mochajs.org/)
- [Chai Assertion ë¬¸ì„œ](https://www.chaijs.com/guide/)
- [Node.js í…ŒìŠ¤íŠ¸ ì „ëµ ê°€ì´ë“œ](https://nodejs.dev/learn/nodejs-unit-testing-in-depth)

---

## ğŸ“Œ ë§ˆë¬´ë¦¬ ìš”ì•½

| ì •ë¦¬ | ë‚´ìš© |
|------|------|
| ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë€? | í•¨ìˆ˜/ëª¨ë“ˆ ë‹¨ìœ„ì˜ ìë™ í…ŒìŠ¤íŠ¸ |
| Jest | ì˜¬ì¸ì› í”„ë ˆì„ì›Œí¬, React ì¹œí™”ì  |
| Mocha | ëŸ¬ë„ˆ ì¤‘ì‹¬, ë‹¤ì–‘í•œ ì¡°í•© ê°€ëŠ¥ |
| Assertion | Jest: `expect()`, Mocha: Chai ë“± í•„ìš” |
| ìë™í™” | CI/CD, pre-commit, watch ë“±ì— í™œìš© ê°€ëŠ¥ |