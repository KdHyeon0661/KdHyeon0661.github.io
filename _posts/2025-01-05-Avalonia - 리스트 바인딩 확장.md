---
layout: post
title: Avalonia - ë¦¬ìŠ¤íŠ¸ ë°”ì¸ë”© í™•ì¥
date: 2025-01-05 20:20:23 +0900
category: Avalonia
---
# ğŸ“‹ Avalonia ë¦¬ìŠ¤íŠ¸ í™•ì¥ ê¸°ëŠ¥ ì˜ˆì œ (ì¶”ê°€, ì‚­ì œ, í•„í„°, ìƒì„¸ ë³´ê¸°)

## ğŸ§© ê¸°ëŠ¥ ìš”ì•½

ì´ë²ˆ ì˜ˆì œì—ì„œëŠ” ë‹¤ìŒ ê¸°ëŠ¥ë“¤ì„ í•˜ë‚˜ì˜ ë¦¬ìŠ¤íŠ¸ì— êµ¬í˜„í•´ë´…ë‹ˆë‹¤:

- âœ… í•­ëª© ì¶”ê°€/ì‚­ì œ
- ğŸ” í…ìŠ¤íŠ¸ë¡œ í•„í„°ë§
- ğŸ—‚ï¸ `ListView`ë¡œ í…Œì´ë¸” í˜•íƒœ ì¶œë ¥
- ğŸ‘ï¸ í•­ëª© í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ í‘œì‹œ

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
MyAvaloniaApp/
â”œâ”€â”€ Models/
â”‚   â””â”€â”€ Person.cs
â”œâ”€â”€ ViewModels/
â”‚   â””â”€â”€ PeopleViewModel.cs
â”œâ”€â”€ Views/
â”‚   â””â”€â”€ PeopleView.axaml
```

---

## ğŸ‘¤ Model: `Person.cs`

```csharp
public class Person
{
    public string Name { get; set; }
    public int Age { get; set; }
}
```

---

## ğŸ›ï¸ ViewModel: `PeopleViewModel.cs`

```csharp
using ReactiveUI;
using System.Collections.ObjectModel;
using System.Reactive;
using System.Linq;

public class PeopleViewModel : ReactiveObject
{
    private string _filterText;
    private string _nameInput;
    private int _ageInput;
    private Person _selectedPerson;

    public ObservableCollection<Person> People { get; } = new();
    public ObservableCollection<Person> FilteredPeople { get; } = new();

    public string FilterText
    {
        get => _filterText;
        set
        {
            this.RaiseAndSetIfChanged(ref _filterText, value);
            ApplyFilter();
        }
    }

    public string NameInput
    {
        get => _nameInput;
        set => this.RaiseAndSetIfChanged(ref _nameInput, value);
    }

    public int AgeInput
    {
        get => _ageInput;
        set => this.RaiseAndSetIfChanged(ref _ageInput, value);
    }

    public Person SelectedPerson
    {
        get => _selectedPerson;
        set => this.RaiseAndSetIfChanged(ref _selectedPerson, value);
    }

    public ReactiveCommand<Unit, Unit> AddCommand { get; }
    public ReactiveCommand<Unit, Unit> DeleteCommand { get; }

    public PeopleViewModel()
    {
        People.Add(new Person { Name = "í™ê¸¸ë™", Age = 30 });
        People.Add(new Person { Name = "ê¹€ì² ìˆ˜", Age = 25 });
        People.Add(new Person { Name = "ì´ì˜í¬", Age = 28 });

        ApplyFilter();

        AddCommand = ReactiveCommand.Create(AddPerson);
        DeleteCommand = ReactiveCommand.Create(DeletePerson);
    }

    private void AddPerson()
    {
        if (!string.IsNullOrWhiteSpace(NameInput) && AgeInput > 0)
        {
            var person = new Person { Name = NameInput, Age = AgeInput };
            People.Add(person);
            NameInput = "";
            AgeInput = 0;
            ApplyFilter();
        }
    }

    private void DeletePerson()
    {
        if (SelectedPerson != null)
        {
            People.Remove(SelectedPerson);
            ApplyFilter();
        }
    }

    private void ApplyFilter()
    {
        FilteredPeople.Clear();
        foreach (var person in People)
        {
            if (string.IsNullOrWhiteSpace(FilterText) ||
                person.Name.Contains(FilterText, StringComparison.OrdinalIgnoreCase))
            {
                FilteredPeople.Add(person);
            }
        }
    }
}
```

---

## ğŸ–¼ï¸ View: `PeopleView.axaml`

```xml
<UserControl xmlns="https://github.com/avaloniaui"
             x:Class="MyAvaloniaApp.Views.PeopleView"
             xmlns:vm="clr-namespace:MyAvaloniaApp.ViewModels"
             Width="600" Height="400">
    
    <UserControl.DataContext>
        <vm:PeopleViewModel/>
    </UserControl.DataContext>

    <StackPanel Margin="10">
        <!-- ğŸ” í•„í„° ì…ë ¥ -->
        <TextBox Watermark="ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰" Text="{Binding FilterText}" Margin="0,0,0,10"/>

        <!-- ğŸ—‚ï¸ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥ -->
        <ListView Items="{Binding FilteredPeople}"
                  SelectedItem="{Binding SelectedPerson}"
                  Height="150">
            <ListView.Columns>
                <GridViewColumn Header="ì´ë¦„" Width="200" DisplayMemberBinding="{Binding Name}" />
                <GridViewColumn Header="ë‚˜ì´" Width="100" DisplayMemberBinding="{Binding Age}" />
            </ListView.Columns>
        </ListView>

        <!-- ğŸ‘ï¸ ìƒì„¸ ì •ë³´ -->
        <TextBlock Text="ì„ íƒëœ ì‚¬ëŒ:" FontWeight="Bold" Margin="0,10,0,0"/>
        <TextBlock Text="{Binding SelectedPerson.Name}" />
        <TextBlock Text="{Binding SelectedPerson.Age}" />

        <!-- â• ì¶”ê°€ -->
        <StackPanel Orientation="Horizontal" Margin="0,10,0,0" Spacing="10">
            <TextBox Width="150" Watermark="ì´ë¦„ ì…ë ¥" Text="{Binding NameInput}" />
            <TextBox Width="100" Watermark="ë‚˜ì´ ì…ë ¥" Text="{Binding AgeInput}" />
            <Button Content="ì¶”ê°€" Command="{Binding AddCommand}" />
        </StackPanel>

        <!-- âŒ ì‚­ì œ -->
        <Button Content="ì„ íƒ ì‚­ì œ" Command="{Binding DeleteCommand}" Margin="0,10,0,0"/>
    </StackPanel>
</UserControl>
```

---

## ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥ ìš”ì•½

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| `ObservableCollection` | ë¦¬ìŠ¤íŠ¸ ë°”ì¸ë”©ì— ì‚¬ìš© |
| `FilteredPeople` | í•„í„°ë§ëœ ë¦¬ìŠ¤íŠ¸ë¥¼ UIì— í‘œì‹œ |
| `AddCommand`, `DeleteCommand` | ReactiveCommandë¡œ MVVMì‹ ë²„íŠ¼ ì²˜ë¦¬ |
| `SelectedItem` | ì„ íƒëœ í•­ëª©ì„ ViewModelì—ì„œ ì¶”ì  |
| `ListView.Columns` | í…Œì´ë¸” í˜•íƒœë¡œ ë¦¬ìŠ¤íŠ¸ í‘œì‹œ |
| `TextBox + FilterText` | ì‹¤ì‹œê°„ í•„í„° êµ¬í˜„ |

---

## ğŸ’¡ í™•ì¥ ì•„ì´ë””ì–´

- ğŸ” í•­ëª© ìˆ˜ì • ê¸°ëŠ¥ ì¶”ê°€
- ğŸ“¦ ë¦¬ìŠ¤íŠ¸ë¥¼ íŒŒì¼(JSON)ë¡œ ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¤ê¸°
- ğŸ§ª ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¡œ ë¦¬ìŠ¤íŠ¸ ê¸°ëŠ¥ ê²€ì¦
- ğŸŒ ë‹¤êµ­ì–´ ì§€ì› (ì´ë¦„/ë‚˜ì´ ë¼ë²¨ ë²ˆì—­)

---

## âœ… ì •ë¦¬

ì´ì œ Avalonia MVVM êµ¬ì¡°ì—ì„œ ë‹¤ìŒì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- ë¦¬ìŠ¤íŠ¸ë¥¼ ë°”ì¸ë”©í•˜ê³ ,
- í•„í„°ë§í•˜ì—¬ í‘œì‹œí•˜ë©°,
- í•­ëª©ì„ ì¶”ê°€/ì‚­ì œí•˜ê³ ,
- ì„ íƒëœ í•­ëª©ì˜ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥

ì´ëŸ¬í•œ ê¸°ëŠ¥ì€ ë‹¤ì–‘í•œ **ê´€ë¦¬í˜• UI ì• í”Œë¦¬ì¼€ì´ì…˜**ì˜ ê¸°ë³¸ êµ¬ì¡°ê°€ ë©ë‹ˆë‹¤.  
ì•ìœ¼ë¡œëŠ” ì´ êµ¬ì¡°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ **íƒ­ë·°**, **ë‹¤ì¤‘ ë·° ì „í™˜**, **ë°ì´í„° ì €ì¥** ë“±ìœ¼ë¡œ í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!