---
layout: post
title: 형식언어와 오토마타 - 문맥 자유 문법에 대한 소속성 알고리즘
date: 2025-07-13 20:20:23 +0900
category: 형식언어와 오토마타
---
# 문맥 자유 문법에 대한 소속성 알고리즘

---

## ✅ 1. 소속성 문제란?

> **주어진 CFG G와 문자열 w에 대해, w ∈ L(G) 인가?**

즉, 문자열 `w`가 **문법 G로 생성 가능한가**를 판별하는 문제이다.

이 문제는 다음과 같은 상황에서 핵심적으로 사용된다:

- **프로그래밍 언어 구문 검사 (Parsing)**
- **정적 분석 및 문법 검사**
- **형식 언어 이론 증명**

---

## 🧠 2. 기본 아이디어

- 문맥 자유 문법은 **재귀적 구조**를 가지므로,
- 입력 문자열을 **하위 부분 문자열로 분할**하여 **역으로 유도 가능한지**를 검사함
- 이 과정을 **Bottom-Up 방식**으로 행렬(dynamic programming table)에 저장하며 진행

---

## 🧮 3. CYK 알고리즘(Cocke–Younger–Kasami)

### 📌 조건

- 입력 문법 G는 **Chomsky Normal Form(CNF)**이어야 한다.

즉, 모든 규칙은 다음 두 가지 형태여야 함:
- A → BC (두 비터미널)
- A → a (터미널)

---

### 🧱 알고리즘 개요

입력:
- CFG G (in CNF)
- 문자열 w = a₁a₂...aₙ (길이 n)

출력:
- `w ∈ L(G)` 여부 (True / False)

기본 아이디어:
- DP 테이블 `T[i][j]`: 길이 j인 문자열 aᵢ...aᵢ₊ⱼ₋₁을 **유도할 수 있는 모든 비터미널의 집합**

---

### 🧩 알고리즘 단계

#### Step 1: 초기화 (길이 1 부분 문자열)

모든 단일 문자 `aᵢ`에 대해:
- `T[i][1]`에 `A`를 추가 (if `A → aᵢ` in G)

#### Step 2: 점화식 적용 (길이 2 이상)

모든 길이 `l = 2 to n`, 모든 시작점 `i = 1 to n - l + 1`, 모든 분할점 `k = 1 to l - 1`에 대해:

- `T[i][l] = { A | A → BC, B ∈ T[i][k], C ∈ T[i + k][l - k] }`

#### Step 3: 결과 확인

- 시작 기호 `S ∈ T[1][n]`이면 `w ∈ L(G)`

---

## 📝 예시

### 문법 G (CNF):

```
S → AB | BC  
A → BA | a  
B → CC | b  
C → AB | a
```

### 문자열 w: `baaba`

- 길이: 5
- DP 테이블: T[1][1], T[2][1], ..., T[1][5]까지 생성
- 최종적으로 `S ∈ T[1][5]` 여부 확인

---

## ⏱️ 시간 복잡도

- 시간 복잡도: **O(n³ \* |P|)** (P는 생성규칙 수)
- 공간 복잡도: **O(n² \* |V|)** (V는 비터미널 수)

→ **비결정적 파싱**을 효율적으로 처리할 수 있는 **다항시간 알고리즘**

---

## ⚠️ 주의 사항

| 항목 | 주의점 |
|------|--------|
| 문법 형식 | 반드시 CNF로 변환되어 있어야 함 |
| ε 포함 여부 | ε은 CNF에서 오직 시작 기호 S → ε만 허용됨 |
| 최적화 | 실제 구현에서는 set/dictionary를 활용한 DP 테이블 구성이 필수 |

---

## 🛠️ 파서와의 관계

| 파서 유형 | 설명 |
|-----------|------|
| **Top-down (LL)** | 예측 기반, 왼쪽에서 시작, GNF 활용 |
| **Bottom-up (LR)** | 입력 전체 보고 역추적, shift-reduce |
| **CYK** | 완전한 bottom-up, **모든 가능한 파싱** 고려 (모호성 처리 가능) |

---

## 🧾 요약

| 항목 | 설명 |
|------|------|
| 문제 | 문자열 w가 CFG로 생성 가능한가? (w ∈ L(G)) |
| 알고리즘 | CYK (Cocke–Younger–Kasami) |
| 전제 조건 | CFG는 CNF로 변환되어야 함 |
| 핵심 자료구조 | DP 테이블 T[i][j]: 길이 j의 부분 문자열을 생성하는 비터미널 집합 |
| 시간 복잡도 | O(n³ \* |P|) |
| 용도 | 파싱, 언어 소속성 판단, 정적 분석 |