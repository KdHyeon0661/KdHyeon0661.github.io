---
layout: post
title: WPF - 컨트롤 배치
date: 2025-08-27 22:25:23 +0900
category: WPF
---
# 컨트롤 배치 (Grid, StackPanel, DockPanel 등)

WPF의 가장 큰 강점 중 하나는 **레이아웃 시스템**입니다.  
윈도우 창 크기, DPI, 폰트 스케일링에 따라 **자동으로 UI를 재배치/재계산**하여 반응형 UI를 구현할 수 있습니다.  
그 핵심은 **레이아웃 컨테이너(패널)**이며, 그중에서도 **Grid, StackPanel, DockPanel**은 가장 자주 사용됩니다.

---

## 1) Grid

### 1.1 특징
- **가장 강력하고 범용적**인 레이아웃 컨테이너  
- **행(Row)**과 **열(Column)**을 정의하고, 컨트롤을 해당 셀에 배치  
- **가변 크기**(`*`, `Auto`, 고정값)로 유연한 배치 지원  
- 복잡한 UI 배치에서 **표준**으로 사용됨

### 1.2 기본 구문
```xml
<Grid>
  <Grid.RowDefinitions>
    <RowDefinition Height="Auto"/>  <!-- 컨텐츠 크기 -->
    <RowDefinition Height="*"/>     <!-- 남은 공간 비율 분배 -->
    <RowDefinition Height="2*"/>    <!-- 남은 공간 중 2배 차지 -->
  </Grid.RowDefinitions>

  <Grid.ColumnDefinitions>
    <ColumnDefinition Width="Auto"/>
    <ColumnDefinition Width="*"/>
  </Grid.ColumnDefinitions>

  <TextBlock Text="이름:" Grid.Row="0" Grid.Column="0" />
  <TextBox Grid.Row="0" Grid.Column="1" />
  <TextBlock Text="주소:" Grid.Row="1" Grid.Column="0" />
  <TextBox Grid.Row="1" Grid.Column="1" AcceptsReturn="True"/>
</Grid>
```

### 1.3 속성
- `Grid.Row`, `Grid.Column`: 배치 위치 지정  
- `Grid.RowSpan`, `Grid.ColumnSpan`: 셀 병합  
- `ShowGridLines="True"`: 디버깅 시 행/열 표시

### 1.4 장점/단점
- ✅ 강력하고 유연함 → 복잡한 폼/대시보드/마스터-디테일 레이아웃에 적합  
- ❌ 선언이 길어지고, 간단한 경우 오히려 과한 구조가 될 수 있음  

---

## 2) StackPanel

### 2.1 특징
- **수직/수평으로 컨트롤을 차례대로 나열**  
- 가장 단순하고 빠른 패널  
- 스크롤 영역 등과 함께 자주 사용됨

### 2.2 기본 구문
```xml
<StackPanel Orientation="Vertical" Margin="10">
  <TextBlock Text="로그인" FontSize="20" Margin="0,0,0,10"/>
  <TextBox PlaceholderText="아이디 입력"/>
  <PasswordBox Margin="0,5,0,0"/>
  <Button Content="로그인" Margin="0,10,0,0"/>
</StackPanel>
```

- `Orientation="Vertical"`: 위에서 아래로 배치(기본값)  
- `Orientation="Horizontal"`: 왼쪽에서 오른쪽으로 배치

### 2.3 장점/단점
- ✅ 선언이 간단, 정렬이 직관적  
- ❌ 공간 분할/정밀 제어 불가 (여백은 Margin/Alignment로만 제어)  
- ❌ 크기 조절/비율 분배가 어렵다 → `Grid`가 더 적합할 때가 많음  

---

## 3) DockPanel

### 3.1 특징
- **컨트롤을 패널의 한쪽(Top, Bottom, Left, Right)에 붙이는 방식**  
- 마지막 요소는 기본적으로 **남은 공간 전체 채움**  
- 전통적인 WinForms/WPF에서 메뉴/툴바/상태바 배치에 널리 사용

### 3.2 기본 구문
```xml
<DockPanel LastChildFill="True">
  <Menu DockPanel.Dock="Top">
    <MenuItem Header="파일"/>
    <MenuItem Header="편집"/>
  </Menu>
  <StatusBar DockPanel.Dock="Bottom">
    <TextBlock Text="상태: 준비"/>
  </StatusBar>
  <TreeView DockPanel.Dock="Left" Width="200"/>
  <Grid Background="LightGray"/> <!-- 나머지 영역 채움 -->
</DockPanel>
```

### 3.3 속성
- `DockPanel.Dock="Top|Bottom|Left|Right"`: 부착 방향 지정  
- `LastChildFill="True"`: 마지막 요소가 남은 공간 전체 차지

### 3.4 장점/단점
- ✅ 메뉴/툴바/상태바/좌측 내비게이션 배치에 적합  
- ❌ 복잡한 폼에는 한계 → 주로 **Grid와 혼합 사용**  

---

## 4) WrapPanel (추가)

### 4.1 특징
- **자동 줄바꿈** 지원 (화면 크기 줄어들면 다음 줄로 이동)  
- 사진 갤러리, 태그 버튼, 유동적인 아이콘 목록에 적합

### 4.2 예시
```xml
<WrapPanel Orientation="Horizontal">
  <Button Content="A" Width="80"/>
  <Button Content="B" Width="80"/>
  <Button Content="C" Width="80"/>
  <Button Content="D" Width="80"/>
</WrapPanel>
```

---

## 5) UniformGrid (추가)

### 5.1 특징
- 모든 셀을 **동일 크기**로 나눠 배치  
- 게임 보드/키패드 같은 UI에 유용

### 5.2 예시
```xml
<UniformGrid Rows="3" Columns="3">
  <Button Content="1"/>
  <Button Content="2"/>
  <Button Content="3"/>
  <Button Content="4"/>
  <Button Content="5"/>
  <Button Content="6"/>
  <Button Content="7"/>
  <Button Content="8"/>
  <Button Content="9"/>
</UniformGrid>
```

---

## 6) 패널 선택 가이드

| 패널 | 특징 | 주 용도 |
|------|------|---------|
| **Grid** | 행/열 단위 정밀 제어, 비율/자동 크기 지원 | 폼, 대시보드, 복잡한 UI |
| **StackPanel** | 수직/수평 단순 나열 | 로그인 화면, 단순 목록 |
| **DockPanel** | 화면 가장자리에 부착, 나머지 채움 | 메뉴/툴바/상태바, 좌측 내비게이션 |
| **WrapPanel** | 자동 줄바꿈, 유동적 레이아웃 | 갤러리, 태그/버튼 모음 |
| **UniformGrid** | 동일 크기 셀 배치 | 키패드, 게임 보드, 단순 격자 |

---

## 7) 실전 레이아웃 예시

### 7.1 대시보드 레이아웃
```xml
<Grid>
  <Grid.RowDefinitions>
    <RowDefinition Height="Auto"/>   <!-- 상단 메뉴 -->
    <RowDefinition Height="*"/>      <!-- 메인 -->
    <RowDefinition Height="Auto"/>   <!-- 상태바 -->
  </Grid.RowDefinitions>
  <Grid.ColumnDefinitions>
    <ColumnDefinition Width="200"/>  <!-- 좌측 내비 -->
    <ColumnDefinition Width="*"/>    <!-- 메인 컨텐츠 -->
  </Grid.ColumnDefinitions>

  <!-- 상단 메뉴 -->
  <Menu Grid.Row="0" Grid.ColumnSpan="2">
    <MenuItem Header="파일"/>
    <MenuItem Header="편집"/>
  </Menu>

  <!-- 좌측 내비 -->
  <TreeView Grid.Row="1" Grid.Column="0"/>

  <!-- 메인 컨텐츠 -->
  <ContentControl Grid.Row="1" Grid.Column="1"/>

  <!-- 상태바 -->
  <StatusBar Grid.Row="2" Grid.ColumnSpan="2">
    <TextBlock Text="Ready"/>
  </StatusBar>
</Grid>
```

---

## 8) 마무리

- **Grid**: 만능, 비율 기반 배치 필수  
- **StackPanel**: 직선 배치(간단 UI)  
- **DockPanel**: 화면 가장자리에 UI 고정  
- **WrapPanel**: 자동 줄바꿈 필요할 때  
- **UniformGrid**: 동일한 셀 크기 필요할 때  

실무에서는 보통 **Grid + StackPanel + DockPanel**을 혼합해 쓰며,  
**복잡한 레이아웃은 Grid**로, **간단한 부분은 StackPanel**로 정리하는 것이 가장 깔끔합니다.