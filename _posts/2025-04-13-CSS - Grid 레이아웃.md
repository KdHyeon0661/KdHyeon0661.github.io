---
layout: post
title: CSS - Grid 레이아웃
date: 2025-04-06 22:20:23 +0900
category: CSS
---
# CSS Grid 레이아웃 완벽 정리 — 기본부터 실전 패턴, 반응형, 고급 트릭까지

당신이 준 초안의 구조(핵심 속성 표, 예제, Grid vs Flex 비교)를 **보강**해 다음을 채웠습니다.

- **명시/암시 그리드(Explicit/Implicit)**, **자동 배치 알고리즘**, **라인/영역 네이밍**, **음수 인덱스/스팬**, **`minmax()`/`fit-content()`/`fr` 정확한 모델**, **정렬 계열(place-*)**, **서브그리드(subgrid)**, **반응형 카드/잡지형 레이아웃**, **접근성/DOM 순서 주의**, **성능 팁**까지.

각 섹션 예제는 **복붙 실행** 가능하며, 코드 외 설명은 실무에서 자주 막히는 지점 위주로 보완했습니다.

---

## 0) 용어 빠른 정리

- **Grid Container**: `display:grid | inline-grid`가 지정된 부모
- **Grid Item**: 컨테이너의 **직계 자식**
- **Track**: 행(Row) 또는 열(Column) 한 줄
- **Line**: 트랙의 경계(선). 1,2,3… 번호 또는 이름 지정 가능
- **Cell/Area**: 그리드 셀/여러 셀을 합친 영역

---

## 1) 최소 예제 — 시작은 이것 하나면 충분

```html
<div class="grid">
  <div class="item">A</div><div class="item">B</div><div class="item">C</div>
  <div class="item">D</div><div class="item">E</div><div class="item">F</div>
</div>
```

```css
.grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr; /* 3열 */
  gap: 12px;
}
.item { background:#f3f4f6; padding:12px; border-radius:8px; text-align:center; }
```

- `fr`: 컨테이너 **남은 공간(free space)**을 비율로 분배(패딩/보더/스크롤바 등을 제외한 가용 공간 기준).
- `gap`: 셀 간격(행/열 동시), `row-gap`/`column-gap`으로 분리 가능.

---

## 2) 명시(Explicit) vs 암시(Implicit) 그리드

```css
.grid {
  display:grid;
  grid-template-columns: 200px 1fr; /* 명시 그리드: 열 2개 */
  grid-auto-rows: 140px;            /* 암시 그리드: 필요 시 행 자동 생성 */
  gap: 10px;
}
```

- **명시 그리드**: `grid-template-rows|columns|areas`로 정의된 부분.
- **암시 그리드**: 아이템 배치 중 **부족한 트랙이 필요할 때 자동**으로 생성되는 행/열.
  - 크기 기본값: `auto`. 실무에선 **`grid-auto-rows/columns`로 표준화**하는 게 안정적.

---

## 3) 트랙 크기 — `px/%/fr/minmax()/fit-content()`

```css
.grid {
  display:grid;
  grid-template-columns: 240px minmax(180px, 1fr) fit-content(420px);
}
```

- `fr`: 남는 공간 분배 단위(내용 크기/최소 크기 규칙 고려 후 분배).
- `minmax(min, max)`: 트랙이 **최소 min ~ 최대 max** 사이에서 유연하게.
- `fit-content(X)`: **최대 X까지만 늘어나는** 자동 크기(= `min(max-content, X)` 느낌).

> 팁: “좌 고정 네비 + 가변 본문 + 우측 최대폭 사이드” 같은 3단에 자주 씀.

---

## 4) 반복 생성 — `repeat()`, 자동 채움 `auto-fill`/`auto-fit`

```css
/* 갯수 고정 반복 */
grid-template-columns: repeat(4, 1fr);

/* 반응형 카드: 자동 채움 + 최소/최대 폭 */
grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
```

- `auto-fill`: 빈 트랙도 **자리 차지**(의미상 “채우기”).
- `auto-fit`: 빈 트랙을 **접어서 없앰** → 남은 트랙이 늘어나 **빈칸 없이 꽉** 참(카드 레이아웃에 선호).

---

## 5) 아이템 배치 — `grid-column/row`와 스팬, 음수 인덱스

```css
.item--hero {
  grid-column: 1 / 3; /* 1~2열 차지, 3 직전까지 */
  grid-row:    1 / 3; /* 1~2행 차지, 3 직전까지 */
}

/* 음수: -1은 마지막 라인 */
.item--footer {
  grid-column: 1 / -1; /* 전체 열 가로지르기 */
}
```

- 라인은 **경계선**을 의미 → end는 **배타적(exclusive)**.
- 스팬 문법:
  ```css
  /* 시작점: auto로 두고 넓이만 지정 */
  grid-column: span 2; /* 현재 배치 위치 기준, 2열 폭 차지 */
  grid-row: span 3;
  ```

---

## 6) 라인/영역 네이밍 — 가독성과 유지보수의 핵심

### 6.1 라인 네이밍
```css
.grid {
  display:grid;
  grid-template-columns:
    [full-start] 1fr
    [content-start] minmax(0, 800px) [content-end]
    1fr [full-end];
}

/* 아이템: 이름으로 배치 */
.article {
  grid-column: content-start / content-end;
}
.full-bleed {
  grid-column: full-start / full-end; /* 전체 가로 채우기 */
}
```

### 6.2 영역 네이밍 — `grid-template-areas`
```css
.grid {
  display:grid;
  grid-template-areas:
    "header header"
    "sidebar content"
    "footer footer";
  grid-template-columns: 240px 1fr;
  grid-template-rows: auto 1fr auto;
  gap: 12px;
}
.header { grid-area: header; }
.sidebar{ grid-area: sidebar; }
.content{ grid-area: content; }
.footer { grid-area: footer; }
```

- **가독성 최고**. 큰 레이아웃을 선언적으로 명시.

---

## 7) 자동 배치 알고리즘 — `grid-auto-flow`

```css
.grid {
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  grid-auto-rows: 160px;
  grid-auto-flow: row dense; /* 행 우선, 빈 자리에 “빽빽하게(dense)” 재배치 */
}
```

- `row | column`: 새 아이템을 행/열 우선으로 배치.
- `dense`: **빈칸이 생기면 뒤의 작은 아이템을 끌어와** 촘촘히 채움(시각 순서가 **DOM 순서와 달라질 수 있음** → 접근성 주의).

---

## 8) 정렬 시스템 — 셀 내부 vs 그리드 전체

### 8.1 셀 내부(아이템 내용물) 정렬
```css
.grid { justify-items: center; align-items: center; }     /* 전체 아이템 공통 */
.card { justify-self: end; align-self: start; }           /* 개별 오버라이드 */
```
- `justify-*`: **인라인 축(가로)**, `align-*`: **블록 축(세로)**.
- 단축: `place-items`, `place-self`.

### 8.2 그리드 전체(트랙 묶음) 정렬
```css
.grid {
  justify-content: center; /* 그리드 전체를 컨테이너 가로 방향에서 어떻게 둘지 */
  align-content: start;    /* 세로 방향 */
}
```
- 트랙 전체 공간을 남길 때 의미. 보통 `gap`과 함께.

---

## 9) 실전 패턴 ① — 반응형 카드 그리드(모던 기본기)

```html
<section class="cards">
  <article class="card">A</article><article class="card">B</article>
  <article class="card">C</article><article class="card">D</article>
  <article class="card">E</article><article class="card">F</article>
</section>
```

```css
.cards {
  display:grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}
.card {
  background:#f9fafb; border:1px solid #e5e7eb; border-radius:12px;
  padding:16px; min-height:120px;
}
```

- **상한 없는 1열 → 다열 자동 전환**. 미디어쿼리 거의 불필요.

---

## 10) 실전 패턴 ② — 헤더/사이드/본문/푸터 기본 뼈대

```html
<div class="layout">
  <header class="header">헤더</header>
  <aside  class="sidebar">사이드</aside>
  <main   class="content">본문</main>
  <footer class="footer">푸터</footer>
</div>
```

```css
.layout {
  display:grid; min-height:100vh; gap:12px;
  grid-template-areas:
    "header  header"
    "sidebar content"
    "footer  footer";
  grid-template-columns: 240px 1fr;
  grid-template-rows: auto 1fr auto;
  padding:12px;
}
.header { grid-area: header;    background:#eef2ff; padding:12px; }
.sidebar{ grid-area: sidebar;   background:#f1f5f9; padding:12px; }
.content{ grid-area: content;   background:#fff;    padding:12px; }
.footer { grid-area: footer;    background:#f8fafc; padding:12px; }
```

- 모바일 1열 전환은 **미디어쿼리**로 영역 재정의:

```css
@media (max-width: 820px) {
  .layout {
    grid-template-areas:
      "header"
      "content"
      "sidebar"
      "footer";
    grid-template-columns: 1fr;
  }
}
```

---

## 11) 실전 패턴 ③ — 잡지형(히어로+타일) 첫 화면

```html
<section class="mag">
  <article class="hero">Hero</article>
  <article class="tile a">A</article>
  <article class="tile b">B</article>
  <article class="tile c">C</article>
  <article class="tile d">D</article>
</section>
```

```css
.mag {
  display:grid; gap:12px;
  grid-template-columns: repeat(6, 1fr);
  grid-auto-rows: 120px; /* 명확히: 암시 행 높이 표준화 */
}
.hero { grid-column: 1 / -1; grid-row: 1 / span 2; background:#e0f2fe; }
.a    { grid-column: 1 / span 2; background:#fee2e2; }
.b    { grid-column: 3 / span 2; background:#dcfce7; }
.c    { grid-column: 5 / span 2; background:#fef9c3; }
.d    { grid-column: 1 / span 3; background:#ede9fe; grid-row: span 2; }
/* 각 타일은 자동으로 빈칸을 고려해 배치(명시/암시 혼합) */
```

- 단순 Masonry 흉내는 `grid-auto-rows`와 **콘텐츠 높이에 맞춰 span 계산**(JS나 CSS `subgrid`/`content-visibility` 없이도 가능한 패턴).

---

## 12) 서브그리드(Subgrid) — 컴포넌트 간 라인 정렬 공유

> 최신 브라우저에서 점차 지원(파이어폭스/사파리/크로뮴 계열 최신). **부모 그리드의 행/열 라인을 자식 그리드가 공유**.

```html
<section class="parent">
  <article class="card">
    <header>제목</header>
    <div class="body">본문</div>
    <footer>메타</footer>
  </article>
  <!-- 여러 카드 반복 -->
</section>
```

```css
.parent {
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

.card {
  display:grid;
  grid-template-rows: subgrid; /* 부모(암시/명시) 행 라인 공유 */
  grid-row: span 3;            /* 부모 그리드의 3행 높이를 공유 */
  gap: 8px;
  padding:12px; border:1px solid #e5e7eb; border-radius:12px;
}
```

- 장점: **카드들 사이에서 내부 요소(헤더/본문/푸터) 라인이 수평 정렬**되어, 다양한 내용 길이에도 **정갈한 수평선** 유지.
- 지원 상황은 프로젝트 타깃 브라우저에 맞춰 확인.

---

## 13) 접근성/순서 — 시각 배치 vs DOM 순서

- Grid는 **시각적 위치**를 자유롭게 바꾸지만, **키보드 포커스/스크린리더 순서**는 **DOM 순서**를 따릅니다.
- `grid-auto-flow:dense`나 복잡한 라인 점프는 **탭 순서 혼선** 유발 가능.
- **원칙**: 의미/탭 순서가 중요한 콘텐츠는 **DOM 순서와 시각 순서를 맞추자**.

---

## 14) 성능/안정성 팁

- **트랙 수를 과도하게 늘리지 말 것**(특히 `auto-fill`/`auto-fit` 남발).
- **이미지/콘텐츠 비율 안정**: 아이템에 `aspect-ratio` 활용.
  ```css
  .card { aspect-ratio: 4 / 3; }
  ```
- **오버플로우/최소 컨텐츠 크기**: 텍스트 길면 그리드가 늘어남 → `minmax(0, 1fr)`, `min-width:0`로 오버플로우 제어.
  ```css
  .content { min-width: 0; } /* 긴 단어 줄바꿈 허용 */
  ```

---

## 15) 자주 쓰는 스니펫 모음

### 15.1 전체 폭과 콘텐츠 폭(Full-bleed 레이아웃)
```css
.page {
  display:grid;
  grid-template-columns:
    [full-start] minmax(16px, 1fr)
    [content-start] minmax(0, 1024px) [content-end]
    minmax(16px, 1fr) [full-end];
}
.full { grid-column: full-start / full-end; }
.content { grid-column: content-start / content-end; }
```

### 15.2 카드 가로 2~5개 자동
```css
.grid {
  display:grid;
  gap:12px;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
}
```

### 15.3 고정 사이드 + 유동 본문
```css
.shell {
  display:grid;
  grid-template-columns: 260px minmax(0, 1fr);
  gap: 16px;
}
```

### 15.4 고정 행 헤더 + 스크롤 본문 + 고정 푸터
```css
.app {
  display:grid; min-height:100vh;
  grid-template-rows: auto 1fr auto;
}
```

---

## 16) 전체 예제 — 반응형 대시보드(헤더/사이드/메인/카드)

```html
<!doctype html>
<meta charset="utf-8">
<title>Grid Dashboard</title>
<style>
  :root { --gap:16px; --sidebar:260px; }
  * { box-sizing:border-box; }

  .app {
    display:grid; min-height:100vh; gap: var(--gap);
    grid-template-areas:
      "header  header"
      "sidebar main"
      "footer  footer";
    grid-template-columns: var(--sidebar) minmax(0, 1fr);
    grid-template-rows: auto 1fr auto;
    padding: var(--gap);
    background:#f8fafc;
  }
  .header  { grid-area: header;  background:#eef2ff; padding:12px; border-radius:12px; }
  .sidebar { grid-area: sidebar; background:#f1f5f9; padding:12px; border-radius:12px; }
  .main    { grid-area: main;    background:#fff;    padding:12px; border-radius:12px; display:grid; gap:var(--gap); grid-template-rows: auto 1fr; }

  .toolbar { display:grid; grid-template-columns: 1fr auto auto; gap:var(--gap); }
  .cards   {
    display:grid; gap:var(--gap);
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    align-content:start;
  }
  .card { background:#f9fafb; border:1px solid #e5e7eb; border-radius:12px; padding:12px; min-height:120px; }

  .footer  { grid-area: footer; background:#f8fafc; padding:12px; border-radius:12px; }

  @media (max-width: 900px) {
    .app {
      grid-template-areas:
        "header"
        "main"
        "sidebar"
        "footer";
      grid-template-columns: 1fr;
    }
  }
</style>

<div class="app">
  <header class="header">헤더: 검색/알림/프로필 등</header>
  <aside class="sidebar">사이드: 메뉴/필터</aside>
  <main class="main">
    <div class="toolbar">
      <input placeholder="검색..." />
      <button>새로고침</button>
      <button>내보내기</button>
    </div>
    <section class="cards">
      <article class="card">매출 카드</article>
      <article class="card">방문자 카드</article>
      <article class="card">전환 카드</article>
      <article class="card">리텐션 카드</article>
      <article class="card">세션 카드</article>
      <article class="card">이탈 카드</article>
    </section>
  </main>
  <footer class="footer">푸터: 저작권/링크</footer>
</div>
```

- **핵심 포인트**:
  - `grid-template-areas`로 상단/좌측/본문/하단 명확화.
  - 본문 내부도 다시 Grid(`.main` → `toolbar` + `cards`).
  - `cards`는 `auto-fit + minmax`로 **반응형 컬럼 자동**.
  - 모바일에선 영역 재배치만으로 1열 전환.

---

## 17) Grid vs Flex — 실무 결론

| 항목 | Grid | Flex |
|---|---|---|
| 차원 | **2차원**(행+열) | **1차원**(행 또는 열) |
| 주요 목적 | **레이아웃**(영역 나누기) | **콘텐츠 흐름** 정렬/분배 |
| 영역/병합 | `grid-area`/`span` 자연스러움 | 불가(랩핑은 가능) |
| 반응형 | `auto-fit`+`minmax`로 미디어쿼리 축소 | 방향 전환/정렬엔 강함 |
| 접근성 | 강한 재배치 기능 → DOM 순서 주의 | 비교적 DOM 순서 유지 쉬움 |

- **정리**: **전체 뼈대/카드 격자 = Grid**, **버튼줄/네비/정렬 = Flex**.

---

## 18) 자주 하는 실수와 해결

1) **긴 제목/링크가 칸을 밀어넣음**  
→ `minmax(0, 1fr)`를 사용하고, 아이템에 `min-width:0` 지정.

2) **빈 공간이 애매하게 남음**  
→ `justify-content/align-content`로 그리드 전체 정렬 조정.

3) **카드 갯수 줄 때 마지막 줄 정렬 이상**  
→ `auto-fit`과 `auto-fill` 차이 재검토. **빈칸 없이 늘리려면 `auto-fit`**.

4) **시각 순서가 탭 순서와 다름**  
→ 중요한 상호작용 요소는 **DOM 순서 유지**. `dense` 사용은 신중히.

---

## 19) 치트시트(짧은 예문 모음)

```css
/* 3열, 균등 */
grid-template-columns: repeat(3, 1fr);

/* 전체 가로 스팬 */
grid-column: 1 / -1;

/* 220px~가변, 자동 줄바꿈 카드 */
grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));

/* 명시+암시 혼용: 암시 행의 표준 높이 */
grid-auto-rows: 160px;

/* 영역 네이밍 */
grid-template-areas:
  "header header"
  "sidebar content"
  "footer footer";

/* 셀 내부 정렬(전체/개별) */
justify-items: center; align-items: center;
justify-self: end;    align-self: start;

/* 그리드 전체 정렬 */
justify-content: center; align-content: start;

/* 자동 배치 모드 */
grid-auto-flow: row dense;

/* 라인 네이밍 */
grid-template-columns: [full-start] 1fr [content-start] minmax(0, 960px) [content-end] 1fr [full-end];
```

---

## 20) 마지막 한 장 요약

- **Grid = 페이지 뼈대/2차원 레이아웃의 표준**  
- `repeat(auto-fit, minmax())`로 **반응형 컬럼 자동**  
- **명시 vs 암시**를 이해하고 `grid-auto-rows/columns`로 표준화  
- **라인/영역 네이밍**으로 가독성/유지보수 향상  
- 정렬은 **셀 내부(`justify/align-items|self`)** vs **그리드 전체(`justify/align-content`)** 구분  
- **DOM 순서 ≠ 시각 순서** 문제를 항상 점검  
- 가능하면 **서브그리드**로 수평 정렬 품질 업(타깃 브라우저 고려)