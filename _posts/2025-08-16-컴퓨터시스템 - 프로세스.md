---
layout: post
title: 컴퓨터시스템 - 프로세스
date: 2025-08-16 14:20:23 +0900
category: 컴퓨터시스템
---
# 프로세스(Process)에 대한 자세한 설명

## 1. 프로세스란 무엇인가?
프로세스(Process)는 **실행 중인 프로그램의 인스턴스**를 의미합니다. 단순히 디스크에 저장된 프로그램 파일(정적 코드)이 아니라, 운영체제가 메모리에 적재하여 **CPU에서 실행할 수 있도록 준비된 동적 실행 단위**입니다.

운영체제는 프로세스를 통해 **자원(메모리, CPU, 파일 핸들 등)**을 할당하고, 각 프로세스가 독립적으로 실행되도록 관리합니다.

---

## 2. 프로세스와 프로그램의 차이
| 항목        | 프로그램 | 프로세스 |
|-------------|----------|----------|
| 형태        | 정적 코드/데이터 | 실행 중인 인스턴스 |
| 저장 위치   | 디스크   | 메모리(RAM) |
| 동시 실행 가능 여부 | 불가(그 자체로 실행 안됨) | 가능(동일 프로그램도 여러 프로세스로 실행 가능) |
| 상태 변화   | 없음     | 실행, 대기, 종료 등 상태 변화 존재 |

예를 들어, **`/bin/ls`** 프로그램은 파일 형태로만 존재하지만, 터미널에서 `ls`를 실행하면 **운영체제가 해당 프로그램을 메모리에 적재하고 CPU 스케줄링을 통해 실행**하여 프로세스가 됩니다.

---

## 3. 프로세스의 구성 요소
하나의 프로세스는 다음과 같은 메모리 영역으로 구성됩니다.

1. **코드 영역(Text Segment)**  
   - 실행할 기계어 코드가 저장되는 영역
2. **데이터 영역(Data Segment)**  
   - 전역 변수, static 변수 저장
3. **힙(Heap)**  
   - 동적 메모리 할당 영역 (`malloc`, `new` 등)
4. **스택(Stack)**  
   - 함수 호출, 지역 변수, 리턴 주소 저장

또한 운영체제는 프로세스를 관리하기 위해 **프로세스 제어 블록(PCB, Process Control Block)**을 유지합니다.

---

## 4. 프로세스 제어 블록(PCB)
PCB는 각 프로세스의 상태를 저장하는 자료구조로, 다음과 같은 정보가 들어 있습니다.

- **프로세스 ID(PID)**
- **프로세스 상태** (Running, Ready, Waiting 등)
- **CPU 레지스터 값** (문맥 전환 시 저장/복원)
- **프로그램 카운터(PC)** (다음 실행할 명령어 주소)
- **메모리 관리 정보** (페이지 테이블, 세그먼트 정보)
- **파일 디스크립터 테이블**

운영체제는 문맥 전환(Context Switch) 시 PCB를 이용해 실행 상태를 저장하고 복구합니다.

---

## 5. 프로세스 상태와 전이
프로세스는 실행 중에 여러 상태로 변화합니다.

- **New** : 생성 중
- **Ready** : CPU 할당 대기
- **Running** : CPU에서 실행 중
- **Waiting(Blocked)** : I/O 요청 등으로 대기
- **Terminated** : 실행 종료

전이는 스케줄러와 인터럽트, I/O 완료 이벤트 등에 의해 발생합니다.

---

## 6. 프로세스 생성과 종료
### 6.1 생성
- **`fork()`** (UNIX 계열) : 부모 프로세스를 복제
- **`exec()`** : 새로운 프로그램으로 메모리 덮어쓰기
- **`CreateProcess()`** (Windows) : 새로운 프로세스 생성 API

### 6.2 종료
- 정상 종료(`exit()` 호출)
- 오류 종료
- 다른 프로세스에 의한 강제 종료(`kill`, `TerminateProcess` 등)

---

## 7. 프로세스 간 통신(IPC)
서로 다른 프로세스는 독립된 메모리 공간을 갖기 때문에, 운영체제가 제공하는 IPC(Inter-Process Communication) 메커니즘을 통해 데이터 교환을 합니다.

- **파이프(Pipe)**
- **메시지 큐(Message Queue)**
- **공유 메모리(Shared Memory)**
- **소켓(Socket)**
- **시그널(Signal)**

---

## 8. 멀티프로세싱과 프로세스 스케줄링
멀티코어 환경에서는 여러 프로세스가 병렬로 실행됩니다. 운영체제는 다음과 같은 스케줄링 알고리즘으로 CPU 자원을 할당합니다.

- **FCFS(First-Come First-Served)**
- **SJF(Shortest Job First)**
- **RR(Round Robin)**
- **Priority Scheduling**
- **MLFQ(Multi-Level Feedback Queue)**

---

## 9. C 언어 예시: `fork()`를 이용한 프로세스 생성
```c
#include <stdio.h>
#include <unistd.h>

int main() {
    pid_t pid = fork();
    if (pid == 0) {
        printf("자식 프로세스: PID=%d\n", getpid());
    } else {
        printf("부모 프로세스: PID=%d, 자식 PID=%d\n", getpid(), pid);
    }
    return 0;
}
```
- `fork()` 호출 시 부모와 자식 프로세스가 생성되며, 각 프로세스는 독립적으로 실행됩니다.

---

## 10. 결론
프로세스는 **운영체제가 실행하는 기본 단위**이며, 메모리·CPU·파일 등의 자원을 관리받습니다. 프로세스를 이해하는 것은 **운영체제 구조, 멀티태스킹, 병렬 처리, IPC** 등 시스템 전반을 이해하는 핵심 기반이 됩니다.