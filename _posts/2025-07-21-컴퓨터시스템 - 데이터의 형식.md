---
layout: post
title: 컴퓨터시스템 - 데이터의 형식
date: 2025-07-21 20:20:23 +0900
category: 컴퓨터시스템
---
# 🧮 데이터의 형식 (Data Representations)

컴퓨터는 모든 데이터를 **비트열(bit string)**로 저장한다. 이 장에서는 **정수, 부동소수점, 문자, 포인터** 등이 어떻게 **이진수(binary)**로 표현되는지, 그리고 **정확하게 어떻게 동작하는지** 설명한다.

---

## 📌 1. 비트와 바이트

- **비트(bit)**: 정보의 최소 단위, 0 또는 1.
- **바이트(byte)**: 8비트. 대부분 시스템에서 최소 주소 지정 단위.

### 예시

```c
char c = 'A';  // ASCII 65 → 01000001
```

- 메모리에는 `0x41`로 저장된다.

---

## 📌 2. 정수(integer)의 표현

정수는 **고정된 비트 수**를 사용해 표현된다.

### ✴️ 부호 없는 정수 (unsigned)

- 범위: \( 0 \sim 2^w - 1 \)
- 사용 예: 크기, 인덱스 등 음수가 있을 수 없는 값

#### 예: 8비트 unsigned

| 10진수 | 2진수  | 16진수 |
|--------|--------|--------|
| 0      | 00000000 | 0x00 |
| 255    | 11111111 | 0xFF |

### ✴️ 2의 보수 (Two’s complement)

- **표준적인 부호 있는 정수 표현**
- 범위: \( -2^{w-1} \sim 2^{w-1} - 1 \)

#### 장점

- 덧셈/뺄셈 회로를 그대로 사용 가능
- 음수 표현이 고유함 (0은 유일함)

#### 예: 8비트 2의 보수

| 10진수 | 2진수     | 16진수 |
|--------|-----------|--------|
| -1     | 11111111  | 0xFF   |
| 0      | 00000000  | 0x00   |
| 1      | 00000001  | 0x01   |
| -128   | 10000000  | 0x80   |
| 127    | 01111111  | 0x7F   |

#### C 코드 예시

```c
#include <stdio.h>
int main() {
    char x = -1;
    printf("%d\n", x);        // 출력: -1
    printf("%x\n", x & 0xFF); // 출력: ff (메모리 저장 상태 확인)
}
```

---

## 📌 3. 비트 수준 연산

정수는 비트 연산을 통해 조작된다.

### 주요 연산자

| 연산자 | 설명        |
|--------|-------------|
| `&`    | AND         |
| `|`    | OR          |
| `^`    | XOR         |
| `~`    | NOT         |
| `<<`   | 왼쪽 시프트 |
| `>>`   | 오른쪽 시프트 (부호 비트 유지 여부 주의) |

### C 예시

```c
unsigned char a = 0xF0;  // 11110000
unsigned char b = 0x0F;  // 00001111
unsigned char c = a | b; // 11111111 → 0xFF
```

---

## 📌 4. 캐스팅과 비트 확장

### 부호 없는 → 더 큰 부호 없는

- 0으로 확장 (zero extension)

### 부호 있는 → 더 큰 부호 있는

- 부호 비트를 그대로 확장 (sign extension)

```c
char x = -10;
short y = x;  // -10 그대로 유지됨 (sign-extended)
```

---

## 📌 5. 부동소수점 수 (Floating-Point)

실수를 표현하기 위한 형식은 **IEEE 754 표준**을 따른다.

### ✴️ 기본 구조

\[
\text{값} = (-1)^s \times M \times 2^E
\]

| 항목   | 설명                       |
|--------|----------------------------|
| \( s \) | 부호 비트 (0: 양수, 1: 음수) |
| \( E \) | 지수 (exponent)           |
| \( M \) | 가수 (mantissa or significand) |

---

### 📌 단정도 (float, 32비트)

| 비트수 | 의미 |
|--------|------|
| 1비트  | 부호 \( s \) |
| 8비트  | 지수 \( E \) (편향: 127) |
| 23비트 | 가수 \( M \) (숨은 1 포함) |

\[
\text{실수} = (-1)^s \times (1 + f) \times 2^{e - 127}
\]

### 예시: `1.0`

- 이진 표현: `1.0 = 1.0 × 2^0`
- \( s = 0 \)
- \( E = 127 \) → `01111111`
- \( f = 0 \)

```text
0 01111111 00000000000000000000000 → 0x3F800000
```

---

### 📌 배정도 (double, 64비트)

| 비트수 | 의미 |
|--------|------|
| 1비트  | 부호 |
| 11비트 | 지수 (편향: 1023) |
| 52비트 | 가수 |

\[
\text{실수} = (-1)^s \times (1 + f) \times 2^{e - 1023}
\]

---

## 📌 6. 부동소수점 특수값

### ✴️ 정규화된 값 (Normalized)

- \( 1 \leq M < 2 \)
- \( 1 + f \) 형태
- 지수 범위: `1 ~ 254 (float)` → \( -126 \sim +127 \)

### ✴️ 비정규화된 값 (Denormalized)

- 지수 필드가 0일 때
- \( M = f \), \( E = 1 - \text{bias} \)
- 정밀도는 낮지만 0에 가까운 값 표현 가능

### ✴️ 특수값 (Special Values)

- **무한대 (Inf)**: 지수 all 1, 가수 0
- **NaN (Not a Number)**: 지수 all 1, 가수 ≠ 0

```c
#include <stdio.h>
#include <math.h>
int main() {
    float inf = 1.0f / 0.0f;
    float nan = 0.0f / 0.0f;
    printf("inf = %f\n", inf);  // 출력: inf
    printf("nan = %f\n", nan);  // 출력: nan
}
```

---

## 📌 7. 실수 오차의 본질

- 컴퓨터는 실수를 **근사적으로** 표현함.
- 대부분 실수는 **유한 비트수**로 정확히 표현 불가.
- 반올림 오차 발생 가능

### 예시: 0.1 저장

- 0.1은 이진수로 무한소수
- float로 저장하면 정확히 0.1이 아님

```c
#include <stdio.h>
int main() {
    float f = 0.1f;
    if (f == 0.1f)
        printf("같다\n");
    else
        printf("다르다\n");  // 출력: 다르다
}
```

---

## 📌 8. 포인터와 주소

- 포인터는 **메모리 주소**를 저장하는 변수

```c
int x = 10;
int *p = &x;
```

- 포인터는 주소이므로 크기 고정 (32비트 or 64비트)

---

## 📌 9. 문자 인코딩 (ASCII)

```c
char c = 'A';  // 65
```

- ASCII: 7비트, 128문자
- 확장 ASCII (8비트): 256문자
- 유니코드(UTF-8 등)는 다중 바이트 사용

---

## 📌 10. 구조체와 패딩

C의 구조체는 **정렬(alignment)**을 위해 **패딩**을 삽입한다.

```c
struct example {
    char a;   // 1바이트
    int b;    // 4바이트 → 앞에 3바이트 패딩
};
```

- 구조체 크기: 8바이트

---

## 📌 11. 비트필드

구조체 내에서 **비트 단위 필드**를 정의 가능

```c
struct flags {
    unsigned int a : 3;
    unsigned int b : 5;
};
```

- 전체 8비트로 저장

---

## 📌 12. 데이터 형식 변환

형식 캐스팅을 통해 다양한 형식 간 변환 가능

```c
float f = 3.14;
int i = (int)f;  // i = 3
```

- 부동소수점 → 정수: 소수점 버림
- 정수 → 부동소수점: 정밀도 손실 주의

---

## 📌 13. 엔디안(Endianness)

- **빅 엔디안**: 가장 큰 바이트를 먼저 저장
- **리틀 엔디안**: 가장 작은 바이트를 먼저 저장 (x86)

```c
int x = 0x12345678;
// 메모리: 78 56 34 12 (리틀 엔디안)
```

---

## 마무리

컴퓨터는 모든 데이터를 이진수로 표현하지만, 다양한 데이터 형식을 갖는다.  
정수, 실수, 문자, 포인터 등은 각자만의 방식으로 비트를 해석하며,  
**정확한 동작 원리와 저장 방식**을 이해하는 것이 시스템 프로그래밍의 핵심이다.