---
layout: post
title: CSS - 박스 모델
date: 2025-03-08 20:20:23 +0900
category: CSS
---
# 박스 모델(Box Model)

## 박스 모델이란?

모든 요소는 브라우저에서 하나의 **사각형 박스**로 렌더링됩니다. 박스는 다음 4개 층으로 이루어집니다.

```
+-------------------------+
|      margin (바깥 여백) |
|  +-------------------+  |
|  |   border (테두리)  |  |
|  | +---------------+ |  |
|  | | padding (내부) | |  |
|  | | +-----------+ | |  |
|  | | | content   | | |  |
|  | | +-----------+ | |  |
|  | +---------------+ |  |
|  +-------------------+  |
+-------------------------+
```

- **content**: 실제 내용(텍스트/이미지 등)
- **padding**: content와 border 사이의 **내부 여백** (배경에 포함)
- **border**: 패딩과 콘텐츠를 감싸는 **경계선**
- **margin**: 요소 박스 바깥의 **외부 여백** (항상 투명)

---

## 네 가지 구성 요소 상세

### Content

```css
.box {
  width: 200px;
  height: 100px;
}
```
- 기본적으로 `width`, `height`는 **content 영역**의 크기를 의미합니다(`content-box` 전제).

### Padding (내부 여백)

```css
.box {
  padding: 20px;            /* 상하좌우 20px */
  background: #e8f4ff;      /* 패딩 영역까지 칠해짐 */
}
```
- 배경(색/그라디언트/이미지)은 **패딩까지** 포함됩니다.

### Border (테두리)

```css
.box {
  border: 2px solid #333;
  /* border-style: dotted | dashed | double | groove | ridge | inset | outset ... */
}
```
- `border-image`로 이미지 테두리도 가능.

### Margin (외부 여백)

```css
.box { margin: 30px; }
```
- 배경과 무관(항상 투명). 인접 블록 요소와의 간격 조정에 사용.

---

## 실제 박스 크기 계산

기본 규칙은 다음과 같습니다(수평 방향, 스크롤바/스크롤 간극 등은 제외).

### content-box (기본값)

$$
\text{rendered width} =
\text{width} +
\text{padding-left} + \text{padding-right} +
\text{border-left} + \text{border-right}
$$

### border-box

$$
\text{content width} =
\text{width} -
(\text{padding-left} + \text{padding-right} +
\text{border-left} + \text{border-right})
$$

### 예시

```css
.box {
  width: 200px;
  padding: 10px;
  border: 2px solid;
  margin: 20px;
  box-sizing: content-box; /* 기본 */
}
```

| 항목 | 값 |
|---|---|
| Content 폭 | 200px |
| Padding 좌우 | 10 + 10 = 20px |
| Border 좌우 | 2 + 2 = 4px |
| 박스 렌더링 폭 | 200 + 20 + 4 = **224px** |
| Margin 포함 총 폭 | 224 + 20 + 20 = **264px** |

> 기본적으로 `width`는 **content만** 포함합니다.
> `border-box`를 쓰면 `width` 안에 padding/border가 **포함**되어 계산이 단순해집니다.

---

## `box-sizing` — 실무에서 왜 중요할까

### content-box (기본)

```css
.box { box-sizing: content-box; }
```
- `width`가 content만 의미. padding/border는 **추가**되어 총 너비가 커짐.

### border-box (추천)

```css
*,
*::before,
*::after {
  box-sizing: border-box;
}
```
- `width`에 padding/border가 **포함**됩니다.
- 반응형/컴포넌트 설계 시 예측이 쉬워 **권장 기본값**입니다.

---

## 마진 겹침(Margin Collapse) — 반드시 아는 포인트

**세로 방향 블록**끼리 인접하면 상하 마진이 **겹쳐 하나**로 계산될 수 있습니다.

```css
p { margin: 20px 0; }
```
```html
<p>문단 1</p>
<p>문단 2</p>
```
- 두 문단 사이 간격은 20px + 20px이 아닌 **최댓값 20px**만 적용.

겹침이 일어나는 경우(대표):
1) 인접한 형제 블록의 상하 마진
2) 부모와 첫/마지막 자식의 상/하 마진
3) 비어 있는 블록(패딩/보더/인라인 콘텐츠 없음)의 상하 마진

겹치지 않는 경우:
- Flex/Grid 아이템, float, absolute/fixed 포지셔닝 등

겹침 방지 방법(택1):
```css
.container {
  /* 1) BFC 생성 */
  overflow: auto;          /* 혹은 hidden */
  /* 또는 */
  display: flow-root;      /* 현대적 BFC 트리거 */
  /* 또는 */
  padding-top: 1px; border-top: 1px solid transparent; /* 부모에 경계 삽입 */
}
```
> 리스트/카드 간격 등은 **gap(Flex/Grid)** 사용을 우선 고려하면 겹침 이슈 자체를 피할 수 있습니다.

---

## 논리 속성(Logical Properties)로 국제화 대응

좌/우/상/하 대신 **작성 방향**에 독립적인 속성을 사용하세요.

- `margin-top/bottom/left/right` → `margin-block-start/end`, `margin-inline-start/end`
- `padding-*`도 동일

```css
.card {
  padding-block: 1rem;        /* top/bottom */
  padding-inline: 1.25rem;    /* left/right in LTR, 반대로 RTL에서도 자동 대응 */
  margin-block-end: 1rem;
}
```

`writing-mode`가 세로(`vertical-rl` 등)인 레이아웃에서도 동일 규칙으로 유지보수 용이.

---

## 퍼센트 padding과 비율 박스(aspect ratio)

**중요**: `%` padding은 항상 **컨테이너의 가로 너비** 기준입니다(수직 패딩도 폭 기준).

```css
.ratio-16-9 {
  width: 100%;
  padding-top: 56.25%;  /* 9/16 = 0.5625 */
  position: relative;
}
.ratio-16-9 > iframe {
  position: absolute; inset: 0; width: 100%; height: 100%;
}
```

현대 대체:
```css
.ratio {
  aspect-ratio: 16 / 9; /* 더 간단하고 의미적 */
}
```

---

## 배경 페인팅 영역과 clipping

- 배경은 기본적으로 **content + padding**까지 칠해집니다.
- `background-clip`으로 경계 조정 가능:
```css
.card {
  background: linear-gradient(180deg, #eef6ff, #fff);
  border: 1px solid #cfe0ff;
  padding: 16px;
  background-clip: padding-box; /* 보더 바깥으로 번짐 방지 */
}
```
- `margin`은 배경에 포함되지 않습니다(항상 투명).

---

## outline, box-shadow, filter — 크기에 영향 없음

```css
.box {
  border: 1px solid #ddd;       /* 크기에 영향 O (border-box면 width 포함) */
  outline: 3px solid #0ea5e9;   /* 크기에 영향 X (레이아웃 비영향) */
  box-shadow: 0 8px 24px rgba(0,0,0,.12); /* 크기에 영향 X */
}
```
- **태피/포커스 표시**는 `outline`을 선호(접근성 우수, 레이아웃 영향 없음).

---

## 오버플로와 스크롤바, 스크롤 패딩

- 내용이 박스를 넘치면 `overflow`로 제어:
```css
.box { overflow: auto; /* 필요 시 스크롤바 */ }
```
- 고정 헤더 아래로 앵커 이동 시 가림 방지:
```css
:root { scroll-padding-top: 72px; }     /* 전역 */
#section-title { scroll-margin-top: 72px; } /* 개별 타깃 */

```

일부 플랫폼에서 스크롤바 폭이 **레이아웃에 반영**될 수 있습니다(환경/설정에 따라 다름).

---

## 인라인/인라인블록의 박스 모델

- **인라인 요소**(`span`, `a` 등)의 **수직 마진(top/bottom)**은 레이아웃에 기대대로 반영되지 않을 수 있습니다.
  내부 여백(히트영역/가독성)은 **padding**으로 확보하세요.
- **inline-block**/**block**/**flex**/**grid**는 수직 마진이 정상적으로 동작.

```css
.tag {
  display: inline-block;       /* 내부 여백/테두리/배경을 직관적으로 적용 */
  padding: .25rem .5rem;
  border-radius: .5rem;
  background: #eef2ff;
}
```

---

## gap(Flex/Grid) vs margin — 간격의 현대적 기준

- 형제 아이템 간 간격은 **gap**을 선호(마진 겹침/첫·마지막 보정 불필요, 읽기 쉬움).
```css
.list { display: flex; gap: 12px; }
/* grid도 동일: .grid { display: grid; gap: 1rem; } */
```
- 끝단 여백은 부모의 `padding`으로 잡으면 자연스럽습니다.

---

## 안전 영역(safe area)과 패딩

노치/홈 인디케이터가 있는 장치에서 안전 영역을 반영:
```css
.header {
  padding-top: calc(16px + env(safe-area-inset-top));
}
.footer {
  padding-bottom: calc(16px + env(safe-area-inset-bottom));
}
```

---

## min/max/fit-content와 유동 여백

여백/크기 설계는 **함수형 치수**를 활용하면 유연합니다.
```css
.section {
  width: min(90vw, 72rem);     /* 뷰포트와 고정치의 최소값 */
  padding-inline: clamp(1rem, 5vw, 3rem);  /* 적응형 내부 여백 */
}
```

---

## 실전 시나리오

### 카드 레이아웃: 내부 여백과 간격 분리

```html
<section class="cards">
  <article class="card">내용</article>
  <article class="card">내용</article>
  <article class="card">내용</article>
</section>
```
```css
.cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr));
  gap: 1.25rem;                         /* 카드 간 간격 → gap */
}
.card {
  padding: 1rem;                        /* 카드 내부 여백 → padding */
  border: 1px solid #e5e7eb;
  border-radius: .75rem;
  background: #fff;
}
```

### 본문 타이포: 문단 간격과 박스 겹침 차단

```css
.prose {
  max-inline-size: 70ch;
  margin-inline: auto;
  padding-inline: 1rem;
  padding-block: 2rem;
  display: flow-root;        /* 마진 겹침 방지용 BFC */
}
.prose p { margin-block: 1em; }
```

### 고정 헤더가 있는 앵커 내비게이션

```css
:root { scroll-padding-top: 64px; } /* 헤더 높이만큼 보정 */
h2[id] { scroll-margin-top: 64px; } /* 개별 요소 보정 */
```

### 중앙 정렬과 여백

```css
.container {
  width: min(90vw, 60ch);
  margin-inline: auto;     /* 좌우 가운데 정렬 */
}
```

---

## 표(테이블)와 박스 모델 특성

- `table`, `table-cell` 등은 일반 블록과 **다른 레이아웃 규칙**이 적용됩니다.
- 셀 간 간격은 `border-collapse`/`border-spacing`으로 제어:
```css
table { border-collapse: separate; border-spacing: 0 .5rem; }
```

---

## 디버깅 팁

- 임시 아웃라인으로 박스 경계 확인:
```css
* { outline: 1px solid rgba(255,0,0,.1); } /* 개발 중에만 */
```
- DevTools의 **Computed** 패널에서 content/padding/border/margin을 확인하세요.

---

## 자주 묻는 질문(FAQ)

### Q1. 내부 여백을 margin으로 주면 안 되나요?

- 버튼/배지 등 **히트영역/가독성**은 **padding**입니다. margin은 **바깥 간격**입니다.

### Q2. 요소끼리 일정 간격을 유지하려면?

- Flex/Grid라면 **gap**을 우선 고려하세요.
- 전통 블록 흐름이라면 형제 마진을 쓰되, 겹침을 이해하고 필요 시 BFC로 차단하세요.

### Q3. 왜 border-box가 더 낫나요?

- 반응형에서 padding/border를 포함해도 `width`가 변하지 않아 예측이 쉽습니다.

---

## 핵심 정리 표

| 구성 요소 | 영역 | 배경 포함 | 크기 계산 영향 | 주용도 |
|---|---|---|---|---|
| content | 내용 | 포함 | 기본 `width/height` | 실제 정보 표시 |
| padding | 내부 여백 | 포함 | 포함(특히 border-box) | 히트영역/가독성 |
| border | 경계선 | 경계 | 포함 | 구분/강조 |
| margin | 외부 여백 | 미포함 | 미포함 | 요소 간 간격 |

보조 규칙:
- 마진 겹침: 블록 상하에서 발생 가능 → `flow-root/overflow/padding/border`로 차단
- 간격은 가능하면 `gap`(flex/grid) 사용
- 국제화: `margin/padding-inline|block-*` 논리 속성 활용
- 스크롤 보정: `scroll-padding`/`scroll-margin`

---

## 실무 체크리스트

- 전역 기본: `box-sizing: border-box;`
- 내부 공간은 padding, 형제 간 간격은 gap(또는 margin)
- 마진 겹침을 이해하고 필요 시 BFC(`flow-root`/`overflow`) 적용
- 논리 속성으로 RTL/세로쓰기 대응
- 비율 박스는 `aspect-ratio` 선호(레거시는 `%` padding)
- 배경 번짐은 `background-clip`으로 제어
- 포커스 표시엔 `outline`(레이아웃 비영향)
