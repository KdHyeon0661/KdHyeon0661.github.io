---
layout: post
title: Git - Rebase + Autosquash
date: 2025-02-26 20:20:23 +0900
category: Git
---
# ğŸ§¹ Git Rebase + Autosquashë¡œ ì»¤ë°‹ ì •ë¦¬í•˜ëŠ” ë²•

---

## ğŸ§  ì™œ ì»¤ë°‹ ì •ë¦¬ê°€ í•„ìš”í• ê¹Œ?

> ì‹¤ë¬´ì—ì„œ ì‘ì—…ì„ í•˜ë‹¤ ë³´ë©´, í•˜ë‚˜ì˜ ê¸°ëŠ¥ì„ ê°œë°œí•˜ë©´ì„œ ì—¬ëŸ¬ ê°œì˜ ì¡ë‹¤í•œ ì»¤ë°‹ì´ ìƒê¸°ê¸° ë§ˆë ¨ì…ë‹ˆë‹¤.

ì˜ˆ:
```text
feat: íšŒì›ê°€ì… ê¸°ëŠ¥ ì¶”ê°€
fix: ë³€ìˆ˜ ì˜¤íƒ€ ìˆ˜ì •
fix: ìœ íš¨ì„± ê²€ì‚¬ ì¡°ê±´ ì¶”ê°€
```

ì´ëŸ° ì»¤ë°‹ì€ **PR(Pull Request)** ì „ì— ì •ë¦¬í•˜ì—¬:

- **ì˜ë¯¸ ìˆëŠ” ì»¤ë°‹ ë‹¨ìœ„ë¡œ ë³‘í•©**
- ê¹”ë”í•œ Git ë¡œê·¸ ìœ ì§€
- `main` ë¸Œëœì¹˜ ì´ë ¥ì— ì¡ë‹¤í•œ ìˆ˜ì • ë¡œê·¸ë¥¼ ë‚¨ê¸°ì§€ ì•ŠìŒ

---

## âœ¨ í•µì‹¬ ê¸°ëŠ¥: `--autosquash`

Gitì˜ `--autosquash`ëŠ” `fixup!`, `squash!` ì»¤ë°‹ì„ ìë™ìœ¼ë¡œ ì›ë˜ ì»¤ë°‹ì— ë³‘í•©í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.  
ì´ë¥¼ ìœ„í•´ì„œëŠ” **ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™**ì´ í•„ìš”í•©ë‹ˆë‹¤.

---

## ğŸ§ª ì˜ˆì œ íë¦„

### 1. ì‘ì—… ì¤‘ ì»¤ë°‹

```bash
git commit -m "feat: ê²Œì‹œê¸€ ì‘ì„± ê¸°ëŠ¥"
git commit -m "fixup! feat: ê²Œì‹œê¸€ ì‘ì„± ê¸°ëŠ¥"
git commit -m "squash! feat: ê²Œì‹œê¸€ ì‘ì„± ê¸°ëŠ¥"
```

> ìœ„ì²˜ëŸ¼ ì»¤ë°‹ ë©”ì‹œì§€ ì•ì— `fixup!` ë˜ëŠ” `squash!` + ê¸°ì¡´ ë©”ì‹œì§€ë¥¼ ë¶™ì´ë©´ Gitì´ **ìë™ìœ¼ë¡œ ë³‘í•© ëŒ€ìƒì„ ì°¾ìŠµë‹ˆë‹¤.**

---

### 2. `rebase -i --autosquash` ì‹¤í–‰

```bash
git rebase -i --autosquash HEAD~3
```

- `HEAD~3` â†’ ìµœê·¼ 3ê°œì˜ ì»¤ë°‹ì„ ëŒ€ìƒìœ¼ë¡œ ì‹¤í–‰
- ìë™ìœ¼ë¡œ `fixup`/`squash` ì»¤ë°‹ì´ ì¬ë°°ì¹˜ë˜ê³ , ë³‘í•©ë©ë‹ˆë‹¤

---

## ğŸ” ì‹¤ì œ ì¸í„°ë™í‹°ë¸Œ í™”ë©´ ì˜ˆì‹œ

```text
pick  a1b2c3  feat: ê²Œì‹œê¸€ ì‘ì„± ê¸°ëŠ¥
fixup  d4e5f6  fixup! feat: ê²Œì‹œê¸€ ì‘ì„± ê¸°ëŠ¥
squash  e7f8g9  squash! feat: ê²Œì‹œê¸€ ì‘ì„± ê¸°ëŠ¥
```

- `fixup`ì€ ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ìœ ì§€í•˜ì§€ ì•Šê³  ë³‘í•©
- `squash`ëŠ” ë©”ì‹œì§€ë¥¼ **ì„ íƒì ìœ¼ë¡œ ë³‘í•©**í•  ìˆ˜ ìˆê²Œ í¸ì§‘ ì°½ì´ ëœ¸

---

## âœ… ì»¤ë°‹ ë©”ì‹œì§€ ìë™í™” íŒ

### `fixup` ì»¤ë°‹ ë§Œë“¤ê¸° (ê¸°ì¡´ ì»¤ë°‹ ê¸°ì¤€ ìë™ ì„¤ì •)

```bash
git commit --fixup=<ì»¤ë°‹í•´ì‹œ or ë©”ì‹œì§€>
```

ì˜ˆ:
```bash
git commit --fixup=feat: ê²Œì‹œê¸€ ì‘ì„± ê¸°ëŠ¥
```

â†’ ìë™ìœ¼ë¡œ `fixup! feat: ê²Œì‹œê¸€ ì‘ì„± ê¸°ëŠ¥` ë©”ì‹œì§€ ìƒì„±ë¨

---

## ğŸ›  rebase -i --autosquash ì „ì²´ íë¦„ ìš”ì•½

```bash
# 1. ì»¤ë°‹ë“¤ ìƒì„±
git commit -m "feat: A"
git commit -m "fixup! feat: A"

# 2. ì»¤ë°‹ ë©”ì‹œì§€ í™•ì¸
git log --oneline

# 3. ì¸í„°ë™í‹°ë¸Œ ë¦¬ë² ì´ìŠ¤
git rebase -i --autosquash HEAD~2

# 4. ì¶©ëŒ í•´ê²° (í•„ìš” ì‹œ)
# 5. force push (ë¦¬ë² ì´ìŠ¤ í›„ì—ëŠ” ê°•ì œ í‘¸ì‹œ)
git push -f origin feature/my-feature
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

| í•­ëª© | ì£¼ì˜ì  |
|------|--------|
| `fixup!` ë©”ì‹œì§€ëŠ” **ì •í™•íˆ ì¼ì¹˜í•´ì•¼** ìë™ ë§¤ì¹­ë¨ |
| `--autosquash`ëŠ” `-i`(interactive) ì˜µì…˜ê³¼ í•¨ê»˜ ì¨ì•¼ ì‘ë™í•¨ |
| ë¦¬ë² ì´ìŠ¤ ì´í›„ì—ëŠ” **ê°•ì œ í‘¸ì‹œ** (`git push -f`) í•„ìš” |
| í˜‘ì—… ë¸Œëœì¹˜ì—ì„œëŠ” ì¶©ëŒì´ë‚˜ ì´ë ¥ ê¼¬ì„ ìœ ì˜ |

---

## ğŸ§¹ ì»¤ë°‹ ì •ë¦¬ë¥¼ ìœ„í•œ ì‹¤ì „ íŒ

| ì‘ì—… | ëª…ë ¹ì–´ |
|------|--------|
| ê¸°ì¡´ ì»¤ë°‹ ìˆ˜ì • | `git commit --amend` |
| íŠ¹ì • ì»¤ë°‹ì— ìˆ˜ì • ë§ë¶™ì´ê¸° | `git commit --fixup=<hash or msg>` |
| squash + ë©”ì‹œì§€ ë³‘í•© | `squash!` ì»¤ë°‹ ì‚¬ìš© |
| ê¹”ë”í•œ ì»¤ë°‹ ë‹¨ìœ„ ìœ ì§€ | ì‘ì—… ë‹¨ìœ„ë§ˆë‹¤ ì»¤ë°‹, ë¦¬ë·° ì „ ì •ë¦¬ |
| ìë™ ë³‘í•© ì ìš© | `git rebase -i --autosquash` ì‚¬ìš© |

---

## ğŸ”— ì°¸ê³  ìë£Œ

- [Git ê³µì‹ ë¬¸ì„œ - Rebase](https://git-scm.com/docs/git-rebase)
- [Pro Git Book - Interactive Rebase](https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History)
- [Rebase Autosquash ì„¤ëª…](https://git-scm.com/docs/git-rebase#Documentation/git-rebase.txt---autosquash)
