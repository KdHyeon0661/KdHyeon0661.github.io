---
layout: post
title: Git - GitHub 웹에서 PR 충돌 해결
date: 2025-02-06 19:20:23 +0900
category: Git
---
# Git: reset vs revert vs rebase

---

## 🔁 1. `git reset`: 과거로 히스토리를 되돌림

---

### 🧠 개념

`reset`은 특정 커밋 시점으로 **브랜치 포인터를 되돌리는 명령어**입니다.  
이때 `--soft`, `--mixed`, `--hard` 옵션에 따라 **작업 디렉토리와 스테이징 상태**도 함께 변경됩니다.

---

### 🪜 reset 종류

| 옵션 | 설명 |
|------|------|
| `--soft` | 브랜치만 이동, 작업 내용 유지 |
| `--mixed` (기본) | 브랜치 + 스테이징 초기화 |
| `--hard` | 브랜치 + 스테이징 + 작업 폴더까지 초기화 (위험) |

---

### ✅ 예제

#### `HEAD`를 한 커밋 이전으로 되돌리기:

```bash
git reset --soft HEAD~1     # 커밋만 제거
git reset --mixed HEAD~1    # 커밋 + staging 제거
git reset --hard HEAD~1     # 모든 변경사항 제거
```

---

### ⚠️ 주의

- **로컬 히스토리를 강제로 변경**하는 것이므로 **공유된 브랜치에는 사용하지 않는 것이 좋음**
- `--hard`는 **작업 내용까지 삭제**되므로 매우 주의!

---

## ↩️ 2. `git revert`: 되돌리는 새로운 커밋 만들기

---

### 🧠 개념

`revert`는 지정된 커밋을 **취소하는 새로운 커밋을 생성**합니다.

> 즉, 기존 커밋은 그대로 유지하면서 **"무효화 커밋"**을 새로 추가

---

### ✅ 예제

#### 특정 커밋 되돌리기:

```bash
git revert 9fceb02
```

> `9fceb02` 커밋의 반대 작업을 수행하는 **새 커밋**이 생성됨

---

### 🔁 여러 커밋 되돌리기

```bash
git revert HEAD~3..HEAD
```

---

### 👍 안전성

- 협업에 안전 (히스토리는 그대로 유지됨)
- 되돌렸다는 기록이 명확하게 남음
- 실수한 커밋을 "취소"하는 방식에 적합

---

## 🔀 3. `git rebase`: 브랜치의 히스토리를 새로 정렬

---

### 🧠 개념

`rebase`는 현재 브랜치의 커밋을 **다른 브랜치 끝에 붙여서 히스토리를 재정렬**합니다.

> 병합 커밋 없이 깔끔한 히스토리를 만들고 싶을 때 사용

---

### ✅ 예제

```bash
git checkout feature
git rebase main
```

> feature 브랜치의 커밋들을 main 위에 다시 배치

---

### ✍️ 커밋 정리 (`-i`)

```bash
git rebase -i HEAD~3
```

- 커밋 순서 변경
- squash 등으로 하나로 합치기
- 커밋 메시지 수정

---

### ⚠️ 주의

- rebase는 **커밋 해시를 변경**함
- **공유 브랜치에서 사용 시 충돌과 혼란 유발 가능**

---

## 🧾 4. reset vs revert vs rebase: 총정리

| 항목 | `reset` | `revert` | `rebase` |
|------|---------|----------|-----------|
| 목적 | 커밋 취소 및 브랜치 되돌리기 | 커밋 취소 (새 커밋 생성) | 커밋 순서 재정렬 |
| 히스토리 변경 | O (강제 변경) | X (기존 히스토리 보존) | O (해시 변경됨) |
| 안전성 | 낮음 (혼자 쓸 때 적합) | 높음 (협업에 안전) | 중간 (공유 브랜치 주의) |
| 사용 대상 | 로컬 브랜치 정리 | 실수 커밋 복구 | 히스토리 깔끔하게 정리 |
| 위험도 | 높음 (`--hard` 주의) | 낮음 | 중간 |
| 커밋 해시 변경 | O | X | O |

---

## 🎯 요약 추천

| 상황 | 추천 명령 |
|------|-----------|
| 최근 커밋 삭제하고 다시 커밋하고 싶음 | `git reset --soft HEAD~1` |
| 실수한 커밋을 되돌리고 싶은데 협업 중 | `git revert 커밋ID` |
| 기능 브랜치 히스토리를 깔끔히 정리하고 싶음 | `git rebase -i` |
| 최신 main 위에 기능 브랜치를 정렬하고 싶음 | `git rebase main` |

---

## 🔗 참고 링크

- [git reset 공식 문서](https://git-scm.com/docs/git-reset)
- [git revert 공식 문서](https://git-scm.com/docs/git-revert)
- [git rebase 공식 문서](https://git-scm.com/docs/git-rebase)