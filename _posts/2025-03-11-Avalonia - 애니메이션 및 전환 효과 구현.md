---
layout: post
title: Avalonia - ì• ë‹ˆë©”ì´ì…˜ ë° ì „í™˜ íš¨ê³¼ êµ¬í˜„
date: 2025-03-11 19:20:23 +0900
category: Avalonia
---
# ğŸï¸ Avaloniaì—ì„œ ì• ë‹ˆë©”ì´ì…˜ ë° ì „í™˜ íš¨ê³¼ êµ¬í˜„

---

## ğŸ¯ ëª©í‘œ

| í•­ëª© | ì„¤ëª… |
|------|------|
| âœ… í˜ì´ì§€ ì „í™˜ ì‹œ Fade, Slide ì ìš© | ContentControl ê¸°ë°˜ View ì „í™˜ |
| âœ… ë²„íŠ¼, ì´ë¯¸ì§€ ë“± UI ìš”ì†Œ ì• ë‹ˆë©”ì´ì…˜ | íŠ¸ë¦¬ê±° ê¸°ë°˜ ë˜ëŠ” ì‹œê°„ ê¸°ë°˜ ì „í™˜ |
| âœ… XAML ë˜ëŠ” C# ì½”ë“œì—ì„œ ì„¤ì • ê°€ëŠ¥ | MVVM êµ¬ì¡°ì— ì í•©

---

## 1ï¸âƒ£ ê¸°ë³¸ êµ¬ì¡° ì˜ˆì‹œ (í˜ì´ì§€ ì „í™˜)

### ğŸ“¦ êµ¬ì¡°

```
MainWindow.axaml
â”œâ”€â”€ ContentControl
     â””â”€â”€ CurrentPageViewModel ë°”ì¸ë”© (ex: Page1, Page2)
```

---

## 2ï¸âƒ£ ê¸°ë³¸ í˜ì´ë“œ(Fade) ì „í™˜

### ğŸ“„ MainWindow.axaml

```xml
<ContentControl Content="{Binding CurrentPage}">
  <ContentControl.Transitions>
    <Transitions>
      <PageSlide(TimeSpan='0:0:0.3') />
    </Transitions>
  </ContentControl.Transitions>
</ContentControl>
```

- `PageSlide`, `PageFade`, `CrossFade` ë“± ë‹¤ì–‘í•œ íš¨ê³¼ ì œê³µ

### ì‚¬ìš© ê°€ëŠ¥í•œ Transitions

| ì´ë¦„ | ì„¤ëª… |
|------|------|
| `PageSlide` | ì¢Œìš°ë¡œ ìŠ¬ë¼ì´ë“œ |
| `PageFade`  | íˆ¬ëª…ë„ ê¸°ë°˜ í˜ì´ë“œ ì¸/ì•„ì›ƒ |
| `CrossFade` | ì´ì „/ë‹¤ìŒ ì»¨í…ì¸ ë¥¼ êµì°¨ í˜ì´ë“œ |
| `PageTurn`  | í˜ì´ì§€ ë„˜ê¹€ íš¨ê³¼ (3D ëŠë‚Œ) |

---

## 3ï¸âƒ£ ViewModelì—ì„œ ViewModel êµì²´

```csharp
public class MainWindowViewModel : ViewModelBase
{
    public ViewModelBase CurrentPage { get; set; }

    public void GoToPage2()
    {
        CurrentPage = new Page2ViewModel();
        this.RaisePropertyChanged(nameof(CurrentPage));
    }
}
```

ì´ë ‡ê²Œ í•˜ë©´ ContentControlì´ ìƒˆ ViewModelë¡œ ë°”ë€Œë©°, Transitionì´ ì‹¤í–‰ë¨.

---

## 4ï¸âƒ£ Avalonia.Animation ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© (ê³ ê¸‰)

### ì„¤ì¹˜

```bash
dotnet add package Avalonia.Animation
```

### ğŸ“„ FadeInAnimation.axaml

```xml
<UserControl
  xmlns="https://github.com/avaloniaui"
  xmlns:animations="clr-namespace:Avalonia.Animation;assembly=Avalonia.Animation">
  
  <UserControl.Styles>
    <animations:Animations x:Key="FadeIn">
      <animations:FadeIn Duration="0:0:0.5" />
    </animations:Animations>
  </UserControl.Styles>

  <Grid animations:Animation.Animations="{StaticResource FadeIn}">
    <TextBlock Text="Fade In!" FontSize="24"/>
  </Grid>
</UserControl>
```

> ë·°ê°€ ë‚˜íƒ€ë‚  ë•Œ ìë™ ì‹¤í–‰

---

## 5ï¸âƒ£ ë²„íŠ¼ í´ë¦­ ì‹œ ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰ (Trigger ê¸°ë°˜)

```xml
<Button Content="ğŸ’¡ í´ë¦­í•´ë³´ì„¸ìš”">
  <Button.Styles>
    <Style Selector="Button:pointerover">
      <Setter Property="RenderTransform">
        <ScaleTransform ScaleX="1.1" ScaleY="1.1" />
      </Setter>
    </Style>
  </Button.Styles>
</Button>
```

> ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ë²„íŠ¼ì´ ì‚´ì§ ì»¤ì§

---

## 6ï¸âƒ£ ì˜ˆì‹œ: ìŠ¬ë¼ì´ë“œ ì „í™˜ + í˜ì´ì§€ ë‚´ìš© ë°”ê¾¸ê¸°

### ğŸ“„ MainWindow.axaml

```xml
<Grid>
  <ContentControl Content="{Binding CurrentView}">
    <ContentControl.Transitions>
      <Transitions>
        <PageSlide Duration="0:0:0.4" SlideDirection="Left" />
      </Transitions>
    </ContentControl.Transitions>
  </ContentControl>

  <Button Content="ë‹¤ìŒ í˜ì´ì§€"
          Command="{Binding NextPageCommand}" 
          HorizontalAlignment="Center" VerticalAlignment="Bottom"/>
</Grid>
```

---

## 7ï¸âƒ£ ì‚¬ìš©ì ì •ì˜ ì• ë‹ˆë©”ì´ì…˜

### ğŸ“„ ì‚¬ìš©ì ì• ë‹ˆë©”ì´ì…˜ ì •ì˜

```xml
<Style x:Key="PulseText">
  <Style.Animations>
    <Animations>
      <Scale Duration="0:0:0.3" From="1" To="1.2" AutoReverse="True" RepeatCount="2"/>
    </Animations>
  </Style.Animations>
</Style>
```

```xml
<TextBlock Text="ğŸ‰" Style="{StaticResource PulseText}" />
```

---

## 8ï¸âƒ£ ì»¤ë§¨ë“œì™€ ê²°í•©

```csharp
public ReactiveCommand<Unit, Unit> AnimateCommand { get; }

public ViewModel()
{
    AnimateCommand = ReactiveCommand.Create(() =>
    {
        // AnimationTrigger ì†ì„± ON â†’ ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰
        IsAnimating = true;
    });
}
```

```xml
<Rectangle>
  <Rectangle.Styles>
    <Style Selector="Rectangle">
      <Style.Triggers>
        <DataTrigger Binding="{Binding IsAnimating}" Value="True">
          <Setter Property="RenderTransform">
            <TranslateTransform X="0" Y="20" />
          </Setter>
        </DataTrigger>
      </Style.Triggers>
    </Style>
  </Rectangle.Styles>
</Rectangle>
```

---

## 9ï¸âƒ£ ì• ë‹ˆë©”ì´ì…˜ UX ì„¤ê³„ íŒ

| í•­ëª© | ê¶Œì¥ |
|------|------|
| ğŸ§  0.2~0.5ì´ˆ | ìì—°ìŠ¤ëŸ¬ìš´ ì „í™˜ ì†ë„ |
| ğŸ” ì‚¬ìš©ìì˜ í–‰ë™ê³¼ ê²°í•© | í´ë¦­ â†’ ì „í™˜ / ë¡œë”© â†’ íšŒì „ ë“± |
| ğŸ“‰ ê³¼ë„í•œ ì• ë‹ˆë©”ì´ì…˜ ê¸ˆì§€ | ëˆˆ í”¼ë¡œ / ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ ì£¼ì˜ |
| ğŸ“± ëª¨ë°”ì¼ ëŒ€ì‘ | ëª¨ë°”ì¼ UI ì „í™˜ì—ë„ íš¨ê³¼ì 

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œ ê³ ë ¤ì‚¬í•­

- ViewModel ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì™€ ì• ë‹ˆë©”ì´ì…˜ì€ ë¶„ë¦¬
- ì‹œê°ì  ì „í™˜ì€ UI í…ŒìŠ¤íŠ¸ (ex: Avalonia UI Test Framework) ì‚¬ìš© ê°€ëŠ¥
- ìƒíƒœ ë³€í™” â†’ ì• ë‹ˆë©”ì´ì…˜ ë°˜ì‘ì„ ëª…í™•íˆ ìœ ì§€

---

## ğŸ“š ì°¸ê³  ë§í¬

- [Avalonia Transitions ê³µì‹ ë¬¸ì„œ](https://docs.avaloniaui.net/docs/controls/transitions)
- [Avalonia.Animation GitHub](https://github.com/AvaloniaCommunity/Avalonia.Animation)
- [Transition Samples (GitHub)](https://github.com/AvaloniaUI/avalonia/tree/main/samples/ControlCatalog)

---

## âœï¸ ê²°ë¡ 

| êµ¬ì„± ìš”ì†Œ | ì„¤ëª… |
|------------|--------|
| `Transitions` | ContentControl ë“±ì— ë¶€ì°©í•´ì„œ ì „í™˜ íš¨ê³¼ |
| `Avalonia.Animation` | ë” ì„¸ë°€í•œ ì‹œê°„ ì œì–´/íŠ¸ë¦¬ê±° ê¸°ë°˜ ì• ë‹ˆë©”ì´ì…˜ |
| `RenderTransform`, `Style`, `DataTrigger` | ì»¤ìŠ¤í…€ ì• ë‹ˆë©”ì´ì…˜ ì¡°í•© ê°€ëŠ¥ |

â†’ **MVVM êµ¬ì¡°ë¥¼ ìœ ì§€í•˜ë©´ì„œë„ ìƒë™ê° ìˆëŠ” UI êµ¬ì„± ê°€ëŠ¥!**
