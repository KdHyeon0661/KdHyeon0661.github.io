---
layout: post
title: Svelte - 스타일링 & UI
date: 2025-09-28 19:25:23 +0900
category: Svelte
---
# 4. 스타일링 & UI
**Svelte의 CSS 스코프 규칙 · 전역 스타일/리셋/노멀라이즈/다크모드 토글 · Tailwind CSS 통합 & 디자인 토큰(Design Tokens) · 컴포넌트 라이브러리 지도(Skeleton/Flowbite 등)**

> 이 장은 Svelte/SvelteKit에서 **실무적인 스타일링 체계**를 만드는 법을 정리한다.  
> - Svelte의 **스코프 CSS** 동작을 정확히 이해하고  
> - **전역 스타일**과 **리셋/노멀라이즈**를 어디에 두는지  
> - **다크모드**를 CSS 변수와 시스템 설정(`prefers-color-scheme`)으로 제어하고  
> - **Tailwind**를 통합해 생산성을 높이되, **디자인 토큰**(CSS 변수/Layer/Theme)으로 브랜딩을 유지하며  
> - 상황에 맞는 **UI 컴포넌트 라이브러리**를 골라 쓴다.

---

## 4.1 Svelte의 CSS 스코프 규칙

Svelte는 **컴포넌트 단위로 CSS를 스코프(범위 한정)**한다.  
`.svelte` 파일 내부 `<style>`은 기본적으로 **해당 컴포넌트에만 적용**된다. 빌드 시 Svelte가 각 컴포넌트에 **고유의 해시 클래스**를 붙여 충돌을 막는다.

### 4.1.1 기본 스코프 예시
```svelte
<!-- src/lib/components/Badge.svelte -->
<script>
  export let kind = 'info'; // 'info' | 'warn' | 'error'
</script>

<span class="badge {kind}">
  <slot />
</span>

<style>
  .badge {
    display: inline-block;
    padding: .25rem .5rem;
    border-radius: 999px;
    font-size: .85rem;
  }
  .badge.info  { background: #e8f5ff; color: #0366d6; }
  .badge.warn  { background: #fff8e1; color: #946200; }
  .badge.error { background: #ffe5e5; color: #b00020; }
</style>
```

- `Badge.svelte`의 `.badge` 스타일은 **다른 컴포넌트의 `.badge`**와 충돌하지 않는다.

### 4.1.2 전역 선택자: `:global(...)`
컴포넌트 `<style>` 안에서 **전역으로** 영향을 주고 싶다면 `:global(...)`를 사용한다.

```svelte
<style>
  /* 컴포넌트 로컬 */
  .title { font-weight: 700; }

  /* 전역(주의 깊게 사용) */
  :global(h1) { margin-bottom: .5rem; }
  :global(.prose a) { text-decoration: underline; }
</style>
```

- **주의**: 전역 선택자 남용은 예측 불가능성을 키운다. 필요한 곳에만 최소화.

### 4.1.3 외부 클래스 조합 시
서드파티 컴포넌트나 전역 프레임워크 클래스(Tailwind 등)와 조합할 때는 **그 클래스명을 그대로** 사용하면 된다. Svelte는 **자체 클래스만** 스코프해 해시를 붙이므로, 이미 존재하는 전역 클래스에는 관여하지 않는다.

```svelte
<!-- Tailwind 클래스와 혼용 -->
<button class="btn primary px-4 py-2 rounded shadow-sm hover:shadow">
  Click
</button>

<style>
  .btn { font-weight: 600; }
  .primary { background: #0c7; color: #fff; }
</style>
```

---

## 4.2 전역 스타일, 리셋/노멀라이즈, 베이스 레이어

SvelteKit에서 전역 스타일은 **레이아웃**(또는 엔트리)에서 import 한다.

### 4.2.1 전역 CSS 배치
- **SvelteKit**: `src/routes/+layout.svelte`에서 전역 CSS를 임포트  
- 일반 Svelte(Vite 템플릿): `src/app.css`를 `main.js/ts`에서 임포트

```svelte
<!-- src/routes/+layout.svelte -->
<script>
  import '../app.css';    // 전역 스타일(리셋/베이스/토큰 포함)
</script>

<slot />
```

### 4.2.2 리셋(Reset) vs 노멀라이즈(Normalize)
- **Reset**: 브라우저의 기본 스타일을 거의 다 **초기화**  
- **Normalize**: 브라우저 간 **차이만 보정**하여 기본 스타일은 존중  
- 팀 스타일 가이드에 맞게 선택. **Tailwind**를 쓰면 `preflight`가 기본 Reset/Normalize 역할을 한다.

#### (예시) 가벼운 Reset + 베이스
```css
/* src/app.css */

/* 1) 박스 모델 */
*, *::before, *::after { box-sizing: border-box; }

/* 2) 기본 여백/폰트 */
html, body { height: 100%; }
body {
  margin: 0;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Noto Sans, Apple Color Emoji, Segoe UI Emoji, Noto Color Emoji;
}

/* 3) 이미지/미디어 */
img, picture, video, canvas, svg { display: block; max-width: 100%; }

/* 4) 폼 */
input, button, textarea, select { font: inherit; }

/* 5) 링크/헤딩 등 베이스 */
a { color: inherit; text-decoration: none; }
h1,h2,h3,h4,h5,h6 { margin: 0 0 .5rem; line-height: 1.2; }
p { margin: 0 0 1rem; }

/* 6) CSS 변수(디자인 토큰)는 아래 4.4에서 확장 */
:root {
  --radius: 12px;
  --easing: cubic-bezier(.2,.8,.2,1);
}
```

---

## 4.3 다크모드 토글 – 시스템 선호도 + 토글 상태 영속

다크모드는 **CSS 변수**와 **`prefers-color-scheme`** 미디어쿼리로 구현하는 것이 견고하다.  
전역에 **토큰(변수)**을 선언하고, 다크 테마일 때만 값 교체.

### 4.3.1 토큰 정의(라이트 기본)
```css
/* src/app.css : 테마 토큰 */
:root {
  color-scheme: light;
  --bg: #ffffff;
  --fg: #111213;
  --muted: #6b7280;
  --primary: #0ea5e9;    /* brand */
  --primary-contrast: #ffffff;

  --surface: #f8fafc;
  --border: #e5e7eb;

  --shadow-sm: 0 1px 2px rgba(0,0,0,.05);
  --shadow-md: 0 4px 10px rgba(0,0,0,.08);
}

/* 시스템이 다크일 때(초기 진입용) */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
    --bg: #0b0f14;
    --fg: #e5e7eb;
    --muted: #9ca3af;
    --primary: #38bdf8;
    --primary-contrast: #0b0f14;

    --surface: #111827;
    --border: #1f2937;
  }
}

/* 명시적 다크 강제: .theme-dark 클래스가 html/body에 붙으면 강제 다크 */
.theme-dark {
  color-scheme: dark;
  --bg: #0b0f14;
  --fg: #e5e7eb;
  --muted: #9ca3af;
  --primary: #38bdf8;
  --primary-contrast: #0b0f14;

  --surface: #111827;
  --border: #1f2937;
}
```

### 4.3.2 토글 스위치 구현(SvelteKit)
- 사용자가 토글을 누르면 `html`에 `.theme-dark` 클래스를 붙이거나 제거  
- 선택을 `localStorage`에 저장 → 다음 방문에도 유지

```svelte
<!-- src/lib/components/ThemeToggle.svelte -->
<script>
  import { onMount } from 'svelte';

  let dark = false;

  onMount(() => {
    const saved = localStorage.getItem('theme');
    if (saved === 'dark') {
      dark = true;
      document.documentElement.classList.add('theme-dark');
    } else if (saved === 'light') {
      dark = false;
      document.documentElement.classList.remove('theme-dark');
    } else {
      // 저장값이 없으면 시스템 선호도 반영(미디어쿼리) → 기본 토큰에서 처리됨
    }
  });

  function toggle() {
    dark = !dark;
    document.documentElement.classList.toggle('theme-dark', dark);
    localStorage.setItem('theme', dark ? 'dark' : 'light');
  }
</script>

<button aria-pressed={dark} on:click={toggle} class="theme-btn">
  {dark ? '🌙' : '☀️'}
</button>

<style>
  .theme-btn {
    background: var(--surface);
    color: var(--fg);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: .4rem .6rem;
    box-shadow: var(--shadow-sm);
    cursor: pointer;
  }
  .theme-btn:hover { box-shadow: var(--shadow-md); }
</style>
```

### 4.3.3 토큰 적용 예시
```svelte
<!-- src/routes/+layout.svelte -->
<script>
  import '../app.css';
  import ThemeToggle from '$lib/components/ThemeToggle.svelte';
</script>

<div class="shell">
  <header class="topbar">
    <strong>My App</strong>
    <ThemeToggle />
  </header>
  <main><slot /></main>
</div>

<style>
  .shell { background: var(--bg); color: var(--fg); min-height: 100vh; }
  .topbar {
    display: flex; justify-content: space-between; align-items: center;
    padding: .75rem 1rem; border-bottom: 1px solid var(--border);
    background: var(--surface);
  }
  main { padding: 1rem; }
</style>
```

---

## 4.4 디자인 토큰(Design Tokens) – 브랜드/테마의 단일 진실원천

**디자인 토큰**은 색상/타이포/간격/반경 등 **시각적 속성의 변수화**다.  
CSS 변수로 선언하고, 컴포넌트에서 **변수만** 사용하면 테마 전환/브랜딩 변경이 쉬워진다.

### 4.4.1 토큰 레이어링
- **전역 토큰**: 브랜드 고유값(Primary/Secondary 등)  
- **세맨틱 토큰**: 의미 기반(배경/문자/경고 등) – 전역 토큰을 맵핑  
- **컴포넌트 토큰**: 컴포넌트 별 상태(hover/active/disabled) 파생

```css
/* 1) 전역(브랜드) 토큰 */
:root {
  --brand-primary: #0ea5e9;
  --brand-primary-contrast: #ffffff;
  --brand-accent: #22c55e;
  --brand-danger: #ef4444;

  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 18px;
}

/* 2) 세맨틱 토큰 */
:root {
  --color-bg: var(--bg);
  --color-fg: var(--fg);
  --color-muted: var(--muted);
  --color-btn: var(--brand-primary);
  --color-btn-fg: var(--brand-primary-contrast);
  --color-danger: var(--brand-danger);
}

/* 3) 컴포넌트 토큰(버튼) */
:root {
  --btn-radius: var(--radius-md);
  --btn-padding: .5rem .9rem;
}
```

```svelte
<!-- 토큰만 사용하는 Button -->
<button class="btn">
  <slot />
</button>

<style>
  .btn {
    background: var(--color-btn);
    color: var(--color-btn-fg);
    border-radius: var(--btn-radius);
    padding: var(--btn-padding);
    border: none;
    box-shadow: var(--shadow-sm);
    transition: transform .05s, box-shadow .2s var(--easing);
  }
  .btn:hover { box-shadow: var(--shadow-md); }
  .btn:active { transform: translateY(1px); }
</style>
```

- 테마별로 **루트 변수만** 교체하면, 컴포넌트는 손대지 않아도 일괄 전환.

---

## 4.5 Tailwind CSS 통합

Tailwind는 **유틸리티 우선** 클래스 세트를 제공해 **속도/일관성**을 높여준다.  
SvelteKit에서의 통합은 간단하다.

### 4.5.1 설치 & 초기화
```bash
pnpm add -D tailwindcss postcss autoprefixer
pnpm exec tailwindcss init -p
```

### 4.5.2 설정 파일
```js
// tailwind.config.js
export default {
  content: ['./src/**/*.{html,js,svelte,ts}'], // Svelte 파일 스캔
  theme: {
    extend: {
      colors: {
        brand: {
          DEFAULT: '#0ea5e9',
          foreground: '#ffffff'
        }
      },
      borderRadius: {
        'brand': 'var(--radius)'
      },
      boxShadow: {
        brand: 'var(--shadow-sm)'
      }
    }
  },
  plugins: []
}
```

```js
// postcss.config.js
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {}
  }
}
```

```css
/* src/app.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 우리 토큰/전역은 여기에 */
:root { --radius: 12px; }
```

### 4.5.3 레이아웃에서 import
```svelte
<!-- src/routes/+layout.svelte -->
<script>
  import '../app.css';
</script>
<slot />
```

### 4.5.4 유틸리티 사용 예
```svelte
<!-- 전역 토큰과 혼용 -->
<div class="min-h-svh bg-[var(--bg)] text-[var(--fg)]">
  <header class="flex items-center justify-between px-4 py-3 border-b border-[var(--border)] bg-[var(--surface)]">
    <strong class="text-lg">My App</strong>
    <button class="px-3 py-1.5 rounded-brand shadow-brand bg-brand text-brand-foreground">
      Action
    </button>
  </header>
  <main class="p-4">
    <p class="text-muted-foreground">Hello Tailwind + Tokens</p>
  </main>
</div>

<style>
  .text-muted-foreground { color: var(--muted); }
</style>
```

- Tailwind **유틸리티**로 레이아웃/간격/타이포를 신속히 조합하고, 브랜드/테마는 **토큰**으로 관리한다.

### 4.5.5 Tailwind와 컴포넌트 캡슐화
Tailwind를 남용하면 **클래스가 과다**해질 수 있다. 반복되는 패턴은 **Svelte 컴포넌트** 또는 **@apply**로 정리한다.

```css
/* app.css – components 레이어 */
@layer components {
  .btn {
    @apply inline-flex items-center gap-2 px-3 py-1.5 rounded-brand shadow hover:shadow-md transition;
  }
  .btn-primary {
    @apply bg-brand text-brand-foreground;
  }
  .btn-outline {
    @apply border border-[var(--border)] bg-[var(--surface)];
  }
}
```

```svelte
<button class="btn btn-primary">Save</button>
<button class="btn btn-outline">Cancel</button>
```

---

## 4.6 접근성(A11y) & 모션/명암 대응

### 4.6.1 포커스 표시/명암 대비
- **포커스 링** 숨기지 말 것. Tailwind `focus-visible` 유틸리티 추천.
- 텍스트/배경 대비 비율(일반 텍스트 4.5:1 이상) 지키기.

```css
/* 포커스 링 공통 */
:root {
  --focus: #60a5fa;
}
:where(button, a, input, select, textarea):focus-visible {
  outline: 3px solid var(--focus);
  outline-offset: 2px;
}
```

### 4.6.2 모션 감소 선호(`prefers-reduced-motion`)
```css
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .001ms !important; animation-iteration-count: 1 !important; transition-duration: .001ms !important; scroll-behavior: auto !important; }
}
```

### 4.6.3 시스템 명암/다크 대응(`color-scheme`)
- `:root { color-scheme: light; }`, 다크에서는 `dark`로 바꾸면 브라우저의 **폼/스크롤바** 등도 자동 테마화.

---

## 4.7 실전: 카드 그리드 + 다크모드 + 토큰 + Tailwind

```svelte
<script>
  const items = Array.from({length: 8}, (_,i) => ({
    id: i+1, title: `Item ${i+1}`, desc: 'Lorem ipsum dolor sit amet.'
  }));
</script>

<section class="min-h-svh bg-[var(--bg)] text-[var(--fg)] p-6">
  <header class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-semibold">Dashboard</h1>
    <a class="btn btn-primary" href="/new">New</a>
  </header>

  <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
    {#each items as it}
      <article class="rounded-brand border border-[var(--border)] bg-[var(--surface)] p-4 shadow-sm hover:shadow-md transition">
        <h3 class="font-medium">{it.title}</h3>
        <p class="text-muted-foreground text-sm mt-1">{it.desc}</p>
        <div class="mt-3 flex gap-2">
          <a class="btn btn-outline" href={`/items/${it.id}`}>View</a>
          <button class="btn btn-primary">Buy</button>
        </div>
      </article>
    {/each}
  </div>
</section>
```

- **토큰**으로 색/경계/그림자 제어, Tailwind로 **레이아웃/간격** 조합  
- 다크/라이트 전환은 루트 변수 교체만으로 일괄 반영

---

## 4.8 컴포넌트 라이브러리 지도

프로토타이핑/일관성/접근성을 위해 **검증된 UI 키트**를 활용할 수 있다.  
요점: **프로젝트 성격/디자인 자유도/접근성 지원/문서화/유지보수**를 기준으로 선택.

### 4.8.1 Skeleton (Skeleton UI for Svelte & Tailwind)
- Tailwind 기반의 **미리 디자인된 컴포넌트**와 **테마 시스템**  
- 빠른 프로토타이핑에 유리, 설정보다 생산성 초점  
- **장점**: Tailwind 친화, 유틸리티 접근성 클래스 제공, 다크/라이트 테마 쉬움  
- **주의**: 커스텀이 많아지면 클래스 복잡도↑ → 토큰/레이어 전략 병행

### 4.8.2 Flowbite-Svelte
- Flowbite(Tailwind 기반)의 Svelte 포팅  
- **폼/내비/모달/드롭다운** 등 일반적인 웹 UI 구색 완비  
- **장점**: Tailwind 사용자에게 익숙, 문서/예제 풍부  
- **주의**: 디자인 브랜드화를 얼마나 쉽게 리스킨할 수 있는지 검토

### 4.8.3 DaisyUI (클래스 기반 테마)
- Tailwind 플러그인으로 **테마/컴포넌트 클래스** 제공  
- HTML 클래스만으로 빠르게 구성 가능  
- **장점**: 테마 스위치가 매우 간단, 도큐먼트 풍부  
- **주의**: 세밀한 픽셀-퍼펙트 커스터마이징은 추가 CSS/토큰 필요

### 4.8.4 shadcn-svelte(헤드리스·조합 우선)
- **헤드리스 접근**(스타일 최소), 접근성/상태 머신에 집중  
- **디자인 시스템이나 토큰**을 직접 적용하기에 좋음  
- **장점**: 자유도 높고 견고한 상호작용  
- **주의**: 스타일은 대부분 직접 구성해야 — 토큰/유틸리티 전략 필수

### 4.8.5 Svelte Material UI / Carbon Components Svelte
- **Material** 또는 **IBM Carbon** 디자인 언어가 필요한 조직/프로덕트에 유리  
- **장점**: 일관성/기업 표준 적합  
- **주의**: 브랜드와 이질감이 있으면 리스킨 비용↑

> **선정 가이드**  
> - **빠른 MVP**: Skeleton, Flowbite, DaisyUI  
> - **브랜드/토큰 최우선**: shadcn-svelte + Tailwind + 토큰  
> - **기업 표준 준수**: SMUI(Material), Carbon Components  
> - **접근성 엄격**: 문서화된 ARIA/키보드 내비 & 테스트 상태 확인

---

## 4.9 스타일 아키텍처 권장 패턴

1) **토큰 우선**: 색/간격/반경/그림자 등 **변수화** → 컴포넌트는 변수만 사용  
2) **상태/테마 레이어 분리**: 라이트/다크/하이컨트라스트를 **클래스/미디어**로 토큰 교체  
3) **유틸리티 + 컴포넌트 레이어**: Tailwind 유틸리티로 뼈대를 만들고, 반복되는 패턴은 **컴포넌트 클래스(@layer components)** 또는 **Svelte 컴포넌트**로 캡슐화  
4) **접근성 내장**: 포커스/명암/키보드 내비 패턴을 **초기에 합의**  
5) **SSR 안전성**: 테마 초기값 FOUC 방지(서버에서 html class 동기화하거나 `onMount` 이전에 `<script>`로 초기화)  
6) **리그레션 테스트**: 핵심 컴포넌트는 **비주얼 리그레션**(예: Playwright + 스냅샷) 고려

---

## 4.10 FOUC(깜빡임) 최소화 – 초기 테마 인라인 스니펫

다크/라이트 테마를 **첫 페인트 이전**에 결정하려면, 레이아웃 HTML 상단에 **아주 작은 인라인 스크립트**를 넣어 `class`를 미리 설정한다.

```svelte
<!-- src/app.html (SvelteKit)에서 <head>안에 삽입 -->
<script>
  try {
    const saved = localStorage.getItem('theme');
    const dark = saved ? saved === 'dark' : window.matchMedia('(prefers-color-scheme: dark)').matches;
    if (dark) document.documentElement.classList.add('theme-dark');
  } catch {}
</script>
```

> 이 테크닉은 **첫 렌더 전에** 클래스를 적용해 **깜빡임**을 줄인다.

---

## 4.11 스타일 가드 & 린트

- **eslint-plugin-svelte**로 접근성 룰 활성화(예: `svelte/no-at-html-tags`, `svelte/no-target-blank`)  
- **stylelint**(선택)로 CSS 코드 규칙을 통일  
- **Tailwind IntelliSense** 확장으로 오타/미사용 클래스 예방

---

## 4.12 요약 체크리스트

- [ ] Svelte **스코프 CSS** 이해(`:global` 최소화)  
- [ ] 전역 스타일은 `+layout.svelte`에서 **단 한 번 import**  
- [ ] 리셋/노멀라이즈 or Tailwind Preflight로 **일관 베이스**  
- [ ] **디자인 토큰(CSS 변수)** 을 루트에 선언, 컴포넌트는 변수만 사용  
- [ ] **다크모드**: `prefers-color-scheme` + `.theme-dark` 강제 + FOUC 방지 스니펫  
- [ ] Tailwind 통합: `@tailwind base/components/utilities` + 토큰 혼용  
- [ ] 공통 패턴은 **@layer components** 또는 Svelte 컴포넌트로 캡슐화  
- [ ] 접근성: 포커스 링/명암/키보드 내비 **초기 합의**  
- [ ] 라이브러리 선택은 **프로덕트 성격/브랜딩/접근성/자유도** 기준

---

### 부록: 토큰 기반 테마 3종(라이트/다크/하이컨트라스트) 스케치

```css
:root { /* light */ 
  color-scheme: light;
  --bg: #ffffff; --fg: #111213; --muted: #6b7280; 
  --primary: #0ea5e9; --primary-contrast: #ffffff;
  --surface: #f8fafc; --border: #e5e7eb;
}

.theme-dark { /* dark override */
  color-scheme: dark;
  --bg: #0b0f14; --fg: #e5e7eb; --muted: #9ca3af;
  --primary: #38bdf8; --primary-contrast: #0b0f14;
  --surface: #111827; --border: #1f2937;
}

/* 고대비 모드 (예: 설정 페이지에서 명시적으로 토글) */
.theme-hc {
  --bg: #000; --fg: #fff; --muted: #ddd;
  --primary: #ff0; --primary-contrast: #000;
  --surface: #000; --border: #fff;
}
```

```svelte
<!-- 루트에 하나만 붙이되, 필요 시 상호 배타적으로 토글 -->
<script>
  function toTheme(name) {
    const root = document.documentElement;
    root.classList.remove('theme-dark', 'theme-hc');
    if (name !== 'light') root.classList.add(name === 'dark' ? 'theme-dark' : 'theme-hc');
  }
</script>

<div class="flex gap-2">
  <button on:click={() => toTheme('light')} class="btn btn-outline">Light</button>
  <button on:click={() => toTheme('dark')}  class="btn btn-outline">Dark</button>
  <button on:click={() => toTheme('hc')}    class="btn btn-outline">High Contrast</button>
</div>
```