---
layout: post
title: 객체지향설계 - 결합도와 응집도
date: 2025-07-20 19:20:23 +0900
category: 객체지향설계
---
## 결합도(Coupling)와 응집도(Cohesion)

객체 지향 설계에서 **결합도**와 **응집도**는 시스템의 품질을 판단하는 핵심 지표이다.  
이 두 개념은 모듈(클래스, 컴포넌트, 패키지 등)의 **관계와 내부 구조**를 나타내며,  
잘 설계된 시스템은 **낮은 결합도**와 **높은 응집도**를 가진다.

---

### 1. 결합도(Coupling)
**결합도**는 한 모듈이 다른 모듈에 얼마나 많이 의존하는지를 나타낸다.  
결합도가 높으면, 한 모듈의 변경이 다른 모듈에 연쇄적으로 영향을 미쳐 유지보수가 어려워진다.

#### (1) 결합도의 특징
- **높은 결합도**  
  - 모듈 간 강한 의존 관계가 있음  
  - 변경 전파 위험이 큼  
  - 테스트와 재사용성 저하
- **낮은 결합도**  
  - 모듈 간 의존 관계가 약함  
  - 변경 시 영향 범위가 적음  
  - 재사용성과 테스트 용이성 향상

#### (2) 결합도의 유형 (낮은 결합도 → 높은 결합도)
1. **데이터 결합(Data Coupling)**  
   - 모듈 간 단순 데이터(값, 파라미터)만 교환
2. **스탬프 결합(Stamp Coupling)**  
   - 데이터 구조 전체를 전달하나 일부만 사용
3. **제어 결합(Control Coupling)**  
   - 플래그나 제어 변수를 전달하여 흐름 제어
4. **외부 결합(External Coupling)**  
   - 외부 포맷, 프로토콜, 인터페이스 등 공유
5. **공통 결합(Common Coupling)**  
   - 전역 변수 공유
6. **내용 결합(Content Coupling)**  
   - 한 모듈이 다른 모듈 내부 구현에 직접 접근 (최악)

#### (3) 결합도 낮추는 방법
- **인터페이스 기반 설계**: 직접 의존 대신 추상화에 의존
- **의존성 주입(DI)**: 외부에서 필요한 객체를 주입받음
- **모듈 간 데이터 최소 전달**: 필요한 정보만 전달
- **이벤트/메시지 기반 아키텍처**: 직접 호출 대신 비동기 이벤트 사용

---

### 2. 응집도(Cohesion)
**응집도**는 한 모듈 내부의 구성 요소들이 얼마나 강하게 연관되어 있는지를 나타낸다.  
응집도가 높을수록 해당 모듈이 하나의 명확한 목적을 수행하며, 유지보수성과 재사용성이 좋아진다.

#### (1) 응집도의 특징
- **높은 응집도**  
  - 모듈 내부의 기능이 서로 밀접하게 연관됨  
  - 변경 범위가 모듈 내부에 국한됨  
  - 재사용성과 유지보수성 향상
- **낮은 응집도**  
  - 모듈 내부 기능이 관련성이 적음  
  - 한 모듈이 여러 책임을 가짐 → SRP 위반

#### (2) 응집도의 유형 (낮은 응집도 → 높은 응집도)
1. **우연적 응집(Coincidental Cohesion)**  
   - 관련 없는 기능들이 하나의 모듈에 묶임
2. **논리적 응집(Logical Cohesion)**  
   - 비슷한 성격의 기능이지만 서로 직접 관련 없음
3. **시간적 응집(Temporal Cohesion)**  
   - 같은 시점에 실행되는 기능을 묶음
4. **절차적 응집(Procedural Cohesion)**  
   - 실행 순서에 따라 묶음
5. **통신적 응집(Communicational Cohesion)**  
   - 동일한 데이터를 사용하는 기능 묶음
6. **순차적 응집(Sequential Cohesion)**  
   - 한 기능의 출력이 다른 기능의 입력이 됨
7. **기능적 응집(Functional Cohesion)**  
   - 모듈이 하나의 명확한 기능만 수행 (최고 수준)

#### (3) 응집도 높이는 방법
- **단일 책임 원칙(SRP) 적용**
- **기능별 클래스/메서드 분리**
- **관련 없는 기능 분리 및 재배치**
- **객체의 상태와 행위를 밀접하게 설계**

---

### 3. 결합도와 응집도의 관계
- 좋은 설계는 **낮은 결합도, 높은 응집도**를 동시에 만족
- 결합도를 낮추면 모듈 간 독립성이 높아지고,  
  응집도를 높이면 모듈 내부의 명확성이 증가
- 두 원칙은 상호 보완적임  
  → 변경 용이성, 유지보수성, 확장성 향상

---

### 4. 예시: 결합도와 응집도 비교
#### (나쁜 예)
```java
class ReportManager {
    public void generateReport() {
        // 데이터베이스 연결
        // 데이터 조회
        // 데이터 가공
        // PDF 생성
        // 이메일 전송
    }
}
```
- **결합도**: DB, PDF, 이메일 모듈과 강하게 결합
- **응집도**: 여러 책임 혼재 → SRP 위반

#### (좋은 예)
```java
class ReportService {
    private final DataFetcher fetcher;
    private final ReportGenerator generator;
    private final EmailSender sender;

    public ReportService(DataFetcher fetcher, ReportGenerator generator, EmailSender sender) {
        this.fetcher = fetcher;
        this.generator = generator;
        this.sender = sender;
    }

    public void processReport() {
        var data = fetcher.fetch();
        var report = generator.generate(data);
        sender.send(report);
    }
}
```
- **결합도**: 인터페이스 기반 의존 → 낮음
- **응집도**: `ReportService`는 **"보고서 처리"**라는 단일 책임 수행

---

✅ **정리**  
- **결합도 낮추기**: 모듈 간 의존성 최소화  
- **응집도 높이기**: 모듈의 책임을 명확히 하고 관련 기능만 포함  
- **목표**: 유지보수성과 확장성이 높은 객체 지향 시스템 구현