---
layout: post
title: 선형대수 - 직교 행렬과 직교 변환
date: 2025-06-06 22:20:23 +0900
category: 선형대수
---
# 🧊 직교 행렬과 직교 변환 (Orthogonal Matrix & Transformation)

선형대수에서 **직교 행렬(orthogonal matrix)**은  
"정규 직교 기저를 보존하는 선형 변환"을 나타냅니다.

이 개념은 기하학적으로는 **회전(rotation)** 또는 **반사(reflection)**를 의미하며,  
벡터의 길이와 각도를 보존합니다.

---

## 📘 1. 직교 행렬의 정의

**정의**:  
행렬 \( Q \in \mathbb{R}^{n \times n} \)이 아래 조건을 만족하면 **직교 행렬**이라고 합니다:

\[
\boxed{
Q^T Q = QQ^T = I
}
\]

- \( Q^T \): 전치 행렬
- \( I \): 항등 행렬

→ 역행렬이 전치 행렬과 같음:  
\[
Q^{-1} = Q^T
\]

---

## 🧠 2. 의미 해석

- **Q의 열벡터들이 정규 직교 기저**를 이룬다.
- Q는 **벡터의 내적, 길이, 각도**를 **보존**한다.
- Q는 **회전 또는 반사 같은 강체 변환**을 수행한다.

---

## 🧩 3. 성질 정리

| 성질 | 내용 |
|------|------|
| \( Q^{-1} = Q^T \) | 역행렬이 전치행렬 |
| \( \|Q\vec{v}\| = \|\vec{v}\| \) | 벡터 길이 보존 |
| \( (Q\vec{u}) \cdot (Q\vec{v}) = \vec{u} \cdot \vec{v} \) | 내적 보존 |
| \( \det(Q) = \pm 1 \) | 방향 보존 or 반사 |
| \( Q^T = Q^{-1} \Rightarrow Q Q^T = I \) | 열벡터, 행벡터 모두 정규 직교 |

---

## 🌀 4. 직교 변환이란?

직교 행렬이 구현하는 선형 변환을 **직교 변환(orthogonal transformation)**이라 합니다.  
기하학적으로는 **공간을 회전, 반사, 또는 두 가지 조합**하는 변환입니다.

### 📐 특징

- 벡터의 길이, 각도를 **보존**
- 공간의 **모양은 유지되지만 방향이 바뀔 수 있음**
- 대표적인 예: 회전 행렬, 반사 행렬

---

## 🔄 5. 예시: 회전 행렬 (2D)

\[
Q =
\begin{bmatrix}
\cos \theta & -\sin \theta \\
\sin \theta & \cos \theta
\end{bmatrix}
\quad \text{(2차원 회전 행렬)}
\]

- 이 행렬은 원점을 중심으로 \( \theta \)만큼 **반시계 회전**시킴
- \( Q^T Q = I \) → 직교 행렬

---

## 🔁 6. 예시: 반사 행렬 (2D)

y축에 대한 반사 행렬:

\[
Q =
\begin{bmatrix}
-1 & 0 \\
0 & 1
\end{bmatrix}
\Rightarrow \det(Q) = -1
\]

- x좌표가 뒤집힘 → **좌우 반사**
- \( Q^T Q = I \) → 직교 행렬

---

## 🧮 7. 예제 코드 (Python, NumPy)

```python
import numpy as np

# 회전 행렬 (30도)
theta = np.pi / 6
Q = np.array([
    [np.cos(theta), -np.sin(theta)],
    [np.sin(theta),  np.cos(theta)]
])

v = np.array([1, 0])
rotated = Q @ v

print("회전 후 벡터:", rotated)
print("길이 보존 여부:", np.linalg.norm(rotated) == np.linalg.norm(v))
print("QᵀQ =\n", Q.T @ Q)
```

---

## 🧑‍🔬 8. 응용 분야

| 분야 | 설명 |
|------|------|
| 컴퓨터 그래픽스 | 물체 회전/반사 |
| 물리학 | 좌표계 회전, 관성 모멘트 |
| 통계학 | PCA에서 주성분 방향 |
| 기계학습 | 데이터 정규화, 직교 투영 |
| 로봇공학 | 자세(pose) 표현, 카메라 변환 |

---

## 🧭 요약

| 항목 | 내용 |
|------|------|
| 직교 행렬 | \( Q^T Q = I \), 벡터 길이/내적 보존 |
| 정규 직교 기저 | Q의 열벡터 |
| 직교 변환 | 회전 or 반사 or 조합 |
| 행렬식 | \( +1 \): 회전 / \( -1 \): 반사 포함 |
| 역행렬 | \( Q^{-1} = Q^T \) |