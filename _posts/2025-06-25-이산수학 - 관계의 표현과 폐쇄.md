---
layout: post
title: 이산수학 - 관계의 표현과 폐쇄
date: 2025-06-25 20:20:23 +0900
category: 이산수학
---
# 🔗 관계의 표현과 폐쇄 (Relation Representation and Closure)

## 📌 개요

관계(Relation)는 집합 위에서 정의된 원소쌍의 모임이며, 이를 **표현하는 방식**과 **원하는 성질(예: 반사성, 추이성 등)**을 만족하도록 **폐쇄(Closure)**하는 기법은 관계 이론의 핵심 주제입니다.

---

## 🧩 1. 관계의 표현 방법

관계는 여러 방식으로 표현할 수 있습니다.  
그 목적에 따라 **시각적, 수학적, 계산적** 표현법이 사용됩니다.

---

### 📘 (1) 쌍의 집합 (Set of Ordered Pairs)

기본적인 정의 형식:

\[
R \subseteq A \times A
\]

예: 집합 \( A = \{1, 2, 3\} \), 관계 \( R = \{(1, 2), (2, 3)\} \)

---

### 📘 (2) 디그래프 (Directed Graph)

- 각 원소는 정점(vertex)
- 관계 \( (a, b) \in R \)는 방향 있는 간선(edge)

예: \( R = \{(1, 2), (2, 3), (3, 1)\} \)

→ 정점 1 → 2 → 3 → 1 로 순환 구조

> 관계가 복잡할수록 시각적으로 이해하기 좋음

---

### 📘 (3) 0-1 행렬 (Matrix Representation)

관계를 **행렬로 표현**할 수 있습니다.  
\( A = \{a_1, a_2, ..., a_n\} \)이라면, 관계 \( R \)에 대해:

\[
M_{ij} =
\begin{cases}
1 & \text{if } (a_i, a_j) \in R \\
0 & \text{otherwise}
\end{cases}
\]

#### 예:

\( A = \{1, 2, 3\},\ R = \{(1,2), (2,3)\} \)

\[
M =
\begin{bmatrix}
0 & 1 & 0 \\
0 & 0 & 1 \\
0 & 0 & 0 \\
\end{bmatrix}
\]

→ 행렬의 거듭제곱 \( M^k \)를 통해 길이 \( k \)인 관계 경로를 추적할 수 있음

---

## 🔒 2. 관계의 폐쇄 (Closure of Relations)

어떤 관계가 특정 성질을 **만족하지 않을 경우**, 그 성질을 **강제로 만족하도록 확장**한 것을 **관계의 폐쇄(Closure)**라고 합니다.

---

### ✅ (1) 반사적 폐쇄 (Reflexive Closure)

모든 \( a \in A \)에 대해 \( (a, a) \)가 포함되도록 확장

\[
R^r = R \cup \{ (a, a) \mid a \in A \}
\]

#### 예:

- \( R = \{(1, 2), (2, 3)\} \)  
- \( R^r = \{(1,1), (2,2), (3,3), (1,2), (2,3)\} \)

---

### ✅ (2) 대칭적 폐쇄 (Symmetric Closure)

\( (a, b) \in R \)이면 항상 \( (b, a) \)도 포함되도록 확장

\[
R^s = R \cup \{ (b, a) \mid (a, b) \in R \}
\]

#### 예:

- \( R = \{(1, 2), (2, 3)\} \)  
- \( R^s = \{(1,2), (2,1), (2,3), (3,2)\} \)

---

### ✅ (3) 추이적 폐쇄 (Transitive Closure)

\( (a, b), (b, c) \in R \Rightarrow (a, c) \in R \)을 만족하도록 확장

#### 표기:

\[
R^+ = \text{transitive closure of } R
\]

#### 계산 방법:

- 행렬에서 \( M^+ = M \lor M^2 \lor M^3 \lor \cdots \lor M^n \)
- 알고리즘적으로는 **워셜 알고리즘(Warshall's Algorithm)** 사용

---

### ✅ (4) 반사적-추이적 폐쇄 (Reflexive-Transitive Closure)

- 반사성과 추이성을 동시에 만족
- 흔히 \( R^* \)로 표기함

\[
R^* = R \cup \{ (a,a) \mid a \in A \} \cup \text{추이적 쌍들}
\]

> 그래프 이론에서 **경로가 존재하는지 여부**를 나타내는 관계

---

## ⚙️ 워셜 알고리즘 (Warshall’s Algorithm)

행렬 \( M \)을 받아서 **추이적 폐쇄** 또는 **반사적-추이적 폐쇄**를 계산하는 알고리즘

```python
def warshall(matrix):
    n = len(matrix)
    closure = [row[:] for row in matrix]  # deep copy
    for k in range(n):
        for i in range(n):
            for j in range(n):
                closure[i][j] = closure[i][j] or (closure[i][k] and closure[k][j])
    return closure
```

- 입력: 관계의 0-1 행렬
- 출력: 추이적 폐쇄 (또는 필요시 반사적 추가)

---

## 📊 요약 정리

| 표현 방식 | 설명 |
|-----------|------|
| 쌍의 집합 | 가장 기본적인 관계 표현 |
| 디그래프 | 시각적 표현, 노드-간선 구조 |
| 행렬 | 알고리즘에 적합한 표현, 연산 가능 |

| 폐쇄 유형 | 추가하는 항목 | 설명 |
|-----------|----------------|------|
| 반사적 폐쇄 | \( (a,a) \) | 자기 자신과의 관계 포함 |
| 대칭적 폐쇄 | \( (b,a) \) | 관계가 쌍방향이 되도록 |
| 추이적 폐쇄 | \( (a,c) \) | 관계가 연쇄적으로 성립 |
| 반사적-추이적 | \( (a,a), (a,c) \) | 상태 전이/그래프 경로 등에서 중요 |