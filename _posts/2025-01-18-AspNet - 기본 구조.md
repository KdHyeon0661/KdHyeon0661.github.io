---
layout: post
title: AspNet - ê¸°ë³¸ êµ¬ì¡°
date: 2025-01-18 20:20:23 +0900
category: AspNet
---
# ğŸ§­ ASP.NET Core Razor Pages & ê¸°ë³¸ í”„ë¡œì íŠ¸ êµ¬ì¡° í†µí•© ê°€ì´ë“œ

## ğŸš€ ê°œìš”

**Razor Pages**ëŠ” ASP.NET Coreê°€ ì œê³µí•˜ëŠ” í˜ì´ì§€ ê¸°ë°˜ ì›¹ì•± ê°œë°œ ë°©ì‹ì…ë‹ˆë‹¤. ì „í†µì ì¸ MVC íŒ¨í„´ë³´ë‹¤ ê°„ë‹¨í•˜ê³  ì§ê´€ì ì´ë©°, CRUD ì›¹ì•± ê°œë°œì— íŠ¹íˆ ì í•©í•©ë‹ˆë‹¤. ë³¸ ê°€ì´ë“œëŠ” Razor Pagesì™€ ASP.NET Core í”„ë¡œì íŠ¸ ê¸°ë³¸ êµ¬ì¡°ë¥¼ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

## ğŸ“ ASP.NET Core ê¸°ë³¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

í”„ë¡œì íŠ¸ ìƒì„± ëª…ë ¹â€¯`dotnet new webapp`â€¯ë˜ëŠ”â€¯`dotnet new razor`ë¡œ ìƒì„±í•  ë•Œ ìƒì„±ë˜ëŠ” ê¸°ë³¸ í´ë” êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```
MyApp/
â”œâ”€â”€ Pages/
â”‚   â”œâ”€â”€ Index.cshtml
â”‚   â”œâ”€â”€ Index.cshtml.cs
â”‚   â”œâ”€â”€ Error.cshtml
â”‚   â”œâ”€â”€ Privacy.cshtml
â”‚   â”œâ”€â”€ Shared/
â”‚   â”‚   â”œâ”€â”€ _Layout.cshtml
â”‚   â”‚   â””â”€â”€ _ValidationScriptsPartial.cshtml
â”‚   â””â”€â”€ _ViewImports.cshtml
â”‚
â”œâ”€â”€ wwwroot/
â”‚   â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ js/
â”‚   â””â”€â”€ favicon.ico
â”‚
â”œâ”€â”€ Properties/
â”‚   â””â”€â”€ launchSettings.json
â”‚
â”œâ”€â”€ Program.cs
â”œâ”€â”€ Startup.cs               # (ASP.NET Core 6 ë¯¸ë§Œì—ì„œ í¬í•¨)
â”œâ”€â”€ appsettings.json
â”œâ”€â”€ appsettings.Development.json
â”œâ”€â”€ MyApp.csproj
â””â”€â”€ bin/, obj/               
```

### ğŸ“„ ì£¼ìš” í´ë” ë° íŒŒì¼ ì„¤ëª…

| íŒŒì¼/í´ë”                | ì—­í•                                                              |
|--------------------------|------------------------------------------------------------------|
| `Pages/`                 | ëª¨ë“  Razor Page(.cshtml)ì™€ ì½”ë“œë¹„í•˜ì¸ë“œ(.cshtml.cs) ìœ„ì¹˜         |
| `Pages/Shared/`          | ê³µí†µ ë ˆì´ì•„ì›ƒ, ë¶€ë¶„ ë·°(_Layout.cshtml ë“±)                       |
| `wwwroot/`               | ì •ì  íŒŒì¼(CSS, JS, ì´ë¯¸ì§€ ë“±)                                   |
| `appsettings.json`       | ì•± ë° í™˜ê²½ì„¤ì •                                                   |
| `Properties/launchSettings.json` | ë””ë²„ê¹…/ì‹¤í–‰ í™˜ê²½ì„¤ì •, í¬íŠ¸/URL/í™˜ê²½ë³€ìˆ˜                   |
| `Program.cs`             | ì•± ì‹œì‘ì  ë°(ì„œë¹„ìŠ¤/ë¯¸ë“¤ì›¨ì–´ ë“±) êµ¬ì„±                            |
| `Startup.cs`             | (ASP.NET Core 5 ì´í•˜ ë˜ëŠ” 6 ì´ìƒì—ì„œëŠ” Program.csì— í†µí•©)         |
| `.csproj`                | í”„ë¡œì íŠ¸ íŒŒì¼(.NET SDK, ê´€ë¦¬ ì •ë³´)                              |

## ğŸ§± Razor Pagesì˜ êµ¬ì„±ê³¼ ë™ì‘

### 1. Razor Pageì˜ í•œ ìŒ: Viewì™€ PageModel

| íŒŒì¼            | ì—­í•                                    |
|-----------------|---------------------------------------|
| `Sample.cshtml` | UI(ë·°) Razor í…œí”Œë¦¿                    |
| `Sample.cshtml.cs` | C# PageModel(ì½”ë“œë¹„í•˜ì¸ë“œ) ë¡œì§      |

#### ì˜ˆì‹œ

```html
@page
@model IndexModel
@{
    ViewData["Title"] = "í™ˆ";
}
<h1>@ViewData["Title"]</h1>
<p>Razor Pages ì•±ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</p>
```

```csharp
public class IndexModel : PageModel
{
    public string Message { get; set; }

    public void OnGet()
    {
        Message = "í˜ì´ì§€ê°€ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.";
    }
}
```
- `@page`: ì´ íŒŒì¼ì´ ë¼ìš°íŒ… ê°€ëŠ¥í•œ Razor Pageì„ì„ ì˜ë¯¸
- `@model IndexModel`: ì‚¬ìš©í•  PageModel í´ë˜ìŠ¤ ì§€ì •

### 2. Razor Pagesì˜ ë¼ìš°íŒ…

- ê¸°ë³¸ì ìœ¼ë¡œ `Pages/Index.cshtml` â†’ `/`
- `Pages/Products/List.cshtml` â†’ `/Products/List`
- ë¼ìš°íŒ… í…œí”Œë¦¿ì„ í™œìš©í•´ URL íŒŒë¼ë¯¸í„°ë„ ì²˜ë¦¬ ê°€ëŠ¥

```html
@page "{id:int}"
```

```csharp
public class ProductModel : PageModel
{
    public int Id { get; set; }

    public void OnGet(int id)
    {
        Id = id;
    }
}
```
- ìœ„ì²˜ëŸ¼ ì‘ì„± ì‹œ `/Products/42`ë¡œ ì§„ì…í•˜ë©´ id ê°’ì´ ì „ë‹¬

### 3. Razor Page ìˆ˜ëª…ì£¼ê¸° ë©”ì„œë“œ

| ë©”ì„œë“œ              | ì„¤ëª…                          |
|---------------------|-----------------------------|
| `OnGet()`           | GET ìš”ì²­ ì²˜ë¦¬                |
| `OnPost()`          | POST ìš”ì²­ ì²˜ë¦¬               |
| `OnGetAsync()`      | ë¹„ë™ê¸° GET ì²˜ë¦¬              |
| `OnPostAsync()`     | ë¹„ë™ê¸° POST ì²˜ë¦¬             |
| `OnGet[Handler]()`  | GET ë‹¤ì¤‘ í•¸ë“¤ëŸ¬              |
| `OnPost[Handler]()` | POST ë‹¤ì¤‘ í•¸ë“¤ëŸ¬             |

```csharp
public IActionResult OnPostSubmit()
{
    // OnPostSubmit í•¸ë“¤ëŸ¬ ì²˜ë¦¬
    return RedirectToPage("Success");
}
```

```html
<form method="post" asp-page-handler="Submit">
    <button type="submit">ì œì¶œ</button>
</form>
```

### 4. ë°ì´í„° ë°”ì¸ë”©ê³¼ í¼ ì²˜ë¦¬

```csharp
public class ContactModel : PageModel
{
    [BindProperty]
    public ContactForm Form { get; set; }

    public IActionResult OnPost()
    {
        if (!ModelState.IsValid)
            return Page();

        // Form ì²˜ë¦¬ ë¡œì§
        return RedirectToPage("Thanks");
    }
}

public class ContactForm
{
    [Required]
    public string Name { get; set; }
    [EmailAddress]
    public string Email { get; set; }
}
```

```html
<form method="post">
    <input asp-for="Form.Name" />
    <span asp-validation-for="Form.Name"></span>
    <input asp-for="Form.Email" />
    <span asp-validation-for="Form.Email"></span>
    <button type="submit">ì œì¶œ</button>
</form>
```
- `[BindProperty]` ì†ì„±ìœ¼ë¡œ ìë™ ëª¨ë¸ ë°”ì¸ë”© ê°€ëŠ¥
- ìœ íš¨ì„± ê²€ì‚¬ ë“± ë³´ì•ˆ ê¸°ëŠ¥ ê¸°ë³¸ ì œê³µ

### 5. í™˜ê²½ì„¤ì • ë° ê°œë°œ ì§€ì›

#### Program.cs (ASP.NET Core 6+ ê¸°ì¤€)

```csharp
var builder = WebApplication.CreateBuilder(args);
builder.Services.AddRazorPages();
var app = builder.Build();
app.UseStaticFiles();
app.UseRouting();
app.MapRazorPages();
app.Run();
```
- êµ¬ì„±ì—ì„œ Razor Pages ëª…ì‹œ, ë¯¸ë“¤ì›¨ì–´ ë° ë¼ìš°íŒ… ì„¤ì •

#### appsettings.json
ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì • ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” JSON íŒŒì¼

```json
{
  "Logging": {
    "LogLevel": {
      "Default": "Information"
    }
  },
  "AllowedHosts": "*"
}
```
- í™˜ê²½ë³„ë¡œ appsettings.Development.json ë“± ë¶„ë¦¬ ê°€ëŠ¥

#### Properties/launchSettings.json
ë””ë²„ê¹… ë“± ì‹¤í–‰ í™˜ê²½ì„¤ì • (í¬íŠ¸, í™˜ê²½ë³€ìˆ˜, URL ë“± ê´€ë¦¬)

```json
"profiles": {
  "MyApp": {
    "commandName": "Project",
    "launchBrowser": true,
    "applicationUrl": "https://localhost:5001;http://localhost:5000",
    "environmentVariables": {
      "ASPNETCORE_ENVIRONMENT": "Development"
    }
  }
}
```

## ğŸ†š Razor Pages vs. MVC êµ¬ì¡°

| í•­ëª©              | Razor Pages êµ¬ì¡°                        | MVC êµ¬ì¡°                        |
|-------------------|-----------------------------------------|---------------------------------|
| URL ë¼ìš°íŒ…        | íŒŒì¼ ê¸°ë°˜ (Pages/í´ë” + @page)          | Controller ê¸°ë°˜ (í´ë˜ìŠ¤/ë©”ì„œë“œ) |
| UI êµ¬ì¡°           | í˜ì´ì§€(ë·°) ë‹¨ìœ„ë¡œ êµ¬ì„±                  | Controller-View-Model ë¶„ë¦¬      |
| ì‚¬ìš© ëª©ì          | ê°„ë‹¨í•œ CRUD/í˜ì´ì§€ ì¤‘ì‹¬ ì›¹ì•±ì— ì í•©     | ë³µì¡, ëŒ€ê·œëª¨ ë„ë©”ì¸ ë¶„ë¦¬ ì•±     |
| ì›¹API í˜¼í•©        | í˜¼í•© ê°€ëŠ¥                               | ë” ìì—°ìŠ¤ëŸ¬ì›€                   |
| ì´ˆë³´ì ë‚œì´ë„     | ë§¤ìš° ë†’ìŒ(ì‰¬ì›€)                         | ì¤‘ê°„                            |

## ğŸ‘ Razor Pagesì˜ ì¥ì  ì •ë¦¬

- âœ… ê°„ë‹¨í•œ CRUDì— ìµœì í™”, ìƒì‚°ì„± ë†’ìŒ
- âœ… íŒŒì¼ êµ¬ì¡° ì§ê´€ì , ìœ ì§€ë³´ìˆ˜ ì‰¬ì›€
- âœ… UIì™€ ë¡œì§ íŒŒì¼ì´ í•œ ìŒìœ¼ë¡œ ê´€ë¦¬ë˜ì–´ ê°€ë…ì„±â†‘
- âœ… ASP.NETì˜ ê°•ë ¥í•œ ë³´ì•ˆ/ê²€ì¦ ê¸°ëŠ¥ ê·¸ëŒ€ë¡œ ì‚¬ìš©

## ğŸ“š ê²°ë¡  ë° íŒ

- Razor Pages í”„ë¡œì íŠ¸ êµ¬ì¡°ì™€ ë™ì‘ ì›ë¦¬ë¥¼ ì œëŒ€ë¡œ ìµíˆë©´, ìœ ì§€ë³´ìˆ˜ì™€ í™•ì¥ì´ í›¨ì”¬ ìˆ˜ì›”í•©ë‹ˆë‹¤.
- ì²˜ìŒì—ëŠ” Razor Pagesë¡œ ì‹œì‘í•´ ìµìˆ™í•´ì§€ë©´, ë³µì¡í•œ ëŒ€í˜• ì•±ì€ MVCë¡œ í™•ì¥í•˜ëŠ” ê²ƒë„ ì¶”ì²œí•©ë‹ˆë‹¤.

> **ë‹¤ìŒ:** í¼ ìœ íš¨ì„± ê²€ì‚¬, Razor ë¬¸ë²•, Partial Viewì™€ Layout, ê³ ê¸‰ ë¼ìš°íŒ… ë“± ì‹¤ì „ í¬ì¸íŠ¸ë¡œ ì´ì–´ì„œ í•™ìŠµí•˜ì„¸ìš”!
