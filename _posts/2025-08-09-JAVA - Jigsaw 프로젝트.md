---
layout: post
title: Java - Jigsaw 프로젝트
date: 2025-08-09 20:20:23 +0900
category: Java
---
# Jigsaw 프로젝트 개요 — Java 모듈 시스템의 탄생 배경과 특징

**Jigsaw 프로젝트(Project Jigsaw)**는 Java 9에서 도입된 **Java Platform Module System (JPMS)**의 기반이 된 대규모 개선 프로젝트입니다.  
이 프로젝트는 **JDK 자체와 Java 애플리케이션을 모듈화**하여 성능, 보안, 유지보수성을 향상시키는 것을 목표로 했습니다.

---

## 1. 등장 배경

Java 8 이전까지 Java는 **클래스패스(Classpath)** 기반의 패키지 관리 방식을 사용했습니다.  
이 방식에는 다음과 같은 문제점이 있었습니다.

1. **클래스 충돌(Classpath Hell)**
   - 동일 이름의 클래스가 여러 라이브러리에 존재하면 어떤 클래스가 로드될지 예측하기 어려움.
   - 의존성 버전 충돌 문제 발생.

2. **의존성 불명확**
   - 어떤 라이브러리(JAR)가 필요한지 명시적으로 선언 불가.
   - 컴파일과 실행 시 필요한 라이브러리 목록이 다를 수 있음.

3. **보안 취약**
   - 모든 public 클래스가 외부에서 접근 가능.
   - 내부 구현까지 노출되어 캡슐화가 깨짐.

4. **JDK 자체의 거대화**
   - JDK 전체가 monolithic(거대 단일 구조) 형태.
   - 작은 애플리케이션에서도 전체 JDK를 포함해야 했음.

---

## 2. Jigsaw 프로젝트의 목표

| 목표                     | 설명 |
|--------------------------|------|
| **모듈화(Modularity)**   | Java 플랫폼과 애플리케이션을 모듈 단위로 구성 |
| **강한 캡슐화(Strong Encapsulation)** | 불필요한 API와 내부 클래스를 외부에서 숨김 |
| **명시적 의존성 관리**   | `module-info.java`를 통한 의존성 선언 |
| **경량 런타임 이미지**   | JLink 도구로 필요한 모듈만 포함한 런타임 생성 |
| **성능 최적화**          | 모듈 단위 로딩 및 실행 최적화 |

---

## 3. 주요 변화

### 3.1 Java SE의 모듈화
- JDK가 수십 개의 모듈로 분리됨.
- 예: `java.base`, `java.sql`, `java.xml`, `java.logging` 등.
- 필요한 모듈만 선택해서 사용할 수 있음.

### 3.2 `module-info.java` 파일
- 각 모듈의 **이름, 의존성, 공개 패키지** 등을 정의.
- 예:
```java
module com.example.myapp {
    requires java.sql;
    exports com.example.myapp.api;
}
```

### 3.3 강한 캡슐화
- `exports`된 패키지만 외부 접근 가능.
- `opens` 없는 패키지는 리플렉션을 통한 접근 차단.

### 3.4 새로운 도구
- **`jlink`**: 필요한 모듈만 포함한 맞춤형 Java 런타임 생성.
- **`jdeps`**: 의존성 분석 도구.

---

## 4. 장점

1. **안정성 향상**
   - 의존성과 공개 범위가 명확해짐.
   - 잘못된 클래스 접근 방지.

2. **성능 개선**
   - 필요한 모듈만 로드 → 메모리 사용량 감소.
   - 작은 런타임 이미지 생성 가능.

3. **보안 강화**
   - 내부 API(`sun.*`) 접근 차단.
   - 모듈 간 경계 명확.

4. **유지보수성 향상**
   - 대규모 프로젝트를 모듈 단위로 분리 관리 가능.

---

## 5. 단점 및 도입 시 고려사항

1. **초기 마이그레이션 비용**
   - 기존 Classpath 기반 코드와 호환성 이슈 발생.
   - 내부 API 사용 중인 라이브러리 호환 문제.

2. **빌드 설정 복잡화**
   - Maven/Gradle 설정 시 모듈 경로(`--module-path`) 지정 필요.

3. **리플렉션 라이브러리 호환**
   - Hibernate, Jackson 등은 `opens` 설정 필요.

---

## 6. 실제 JDK 모듈 구조 예시

```plaintext
java.base
 ├── java.lang
 ├── java.util
 └── java.io
java.sql
 ├── java.sql
 └── javax.sql
java.logging
 └── java.util.logging
```

- `java.base` 모듈은 모든 모듈에 자동 포함.
- 나머지는 필요할 때만 `requires`로 추가.

---

## 7. Jigsaw 프로젝트 이후 변화

- Java 9에서 정식 출시(JPMS 포함).
- Java 10~17까지 모듈 시스템 안정화 및 보완.
- OpenJDK 기반 라이브러리들이 점진적으로 모듈화 지원.

---

## 8. 결론

Jigsaw 프로젝트는 **Java 플랫폼의 근본적인 구조 개편**을 이끈 역사적인 변화입니다.  
이를 통해 Java는 **더 작고, 안전하며, 유지보수하기 좋은** 언어와 런타임 환경으로 진화했습니다.  
다만, 기존 코드와의 호환성 이슈로 인해 도입 시 전략적인 마이그레이션 계획이 필요합니다.