---
layout: post
title: CSS - 모바일 최적화 CSS
date: 2025-05-06 20:20:23 +0900
category: CSS
---
# 모바일 최적화 CSS 팁 완벽 정리

## 0. 필수 메타 — 뷰포트와 전체화면 안전영역

```html
<!-- 0-1. 기본 뷰포트 -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- 0-2. 노치/라운드 코너 기기에서 안전영역까지 사용 -->
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
```

```css
/* 0-3. 안전영역 변수화 */
:root{
  --safe-top: env(safe-area-inset-top);
  --safe-right: env(safe-area-inset-right);
  --safe-bottom: env(safe-area-inset-bottom);
  --safe-left: env(safe-area-inset-left);
}
.header{ padding-top: calc(1rem + var(--safe-top)); }
.footer{ padding-bottom: calc(1rem + var(--safe-bottom)); }
```

> **주의**: 확대/축소를 막는 `user-scalable=no`, `maximum-scale=1`는 **접근성 저하**로 권장하지 않습니다.

---

## 1. 터치 영역(48×48) & 인터랙션 기본

```css
.button{
  min-height: 48px; min-width: 48px; /* 터치 목표 */
  padding: .75rem 1rem;
  font-size: 1rem; line-height: 1.2;
  border-radius: .75rem;
}
/* 포커스/키보드 접근성 */
.button:focus-visible{
  outline: 3px solid color-mix(in oklab, #1d4ed8 80%, white);
  outline-offset: 2px;
}
```

```css
/* 입력 특성별 차등: 터치 vs 마우스 */
@media (hover: none) and (pointer: coarse){
  .button{ box-shadow: none }                 /* 잦은 그림자 제거로 성능↑ */
}
@media (hover: hover) and (pointer: fine){
  .button:hover{ transform: translateY(-1px); box-shadow: 0 8px 24px rgba(0,0,0,.12); }
}
```

---

## 2. 폰트 크기 기준은 `rem` — 뷰포트 비례는 `clamp()`

```css
html{ font-size: 16px; }   /* 사용자 기본 확대와 잘 호환 */
body{ font-size: 1rem; }   /* 1rem = 16px */
h1{ font-size: clamp(1.5rem, 5vw, 2.25rem); }
small{ font-size: clamp(.875rem, .5vw + .8rem, 1rem); }
```

> `clamp(min, preferred, max)`로 **미디어 쿼리 없이** 유동 스케일링.

---

## 3. 유연 미디어: 넘침 방지 + 컨테이너 채우기

```css
img, video, canvas, svg{
  max-width: 100%;
  height: auto;
  display: block;
}
figure{ margin: 0; }
```

---

## 4. 모바일 레이아웃: Flex/Grid + 모바일 퍼스트

```css
/* 기본(모바일) 세로 스택 */
.container{ display: flex; flex-direction: column; gap: 1rem; }

/* 태블릿 이상 가로 분할 */
@media (min-width: 768px){
  .container{ flex-direction: row; }
  .sidebar{ width: 280px; flex: 0 0 280px; }
  .main{ flex: 1 1 auto; }
}
```

```css
/* 반응형 카드 그리드 */
.cards{
  display: grid;
  grid-template-columns: 1fr;
  gap: clamp(.75rem, 2vw, 1.25rem);
}
@media (min-width: 600px){ .cards{ grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 900px){ .cards{ grid-template-columns: repeat(3, 1fr); } }
```

---

## 5. `vh`의 함정 해결 — `dvh/svh/lvh` 최신 단위

모바일 주소창 등장/숨김으로 `100vh`가 **깜박이거나 잘리는 문제**를 해소합니다.

```css
.hero{
  min-height: 100vh;   /* 폴백 */
  min-height: 100dvh;  /* 동적 뷰포트: 주소창 변동 반영 */
  display: grid; place-items: center;
}
```

- `dvh`: 주소창 변동 반영(권장)  
- `svh`: 가장 작은 높이(주소창 펼침 기준)  
- `lvh`: 가장 큰 높이(주소창 접힘 기준)

---

## 6. 고정 높이 지양 — 패딩/최소높이로 안정화

```css
/* ❌ 고정 px 높이는 기기마다 파손 위험 */
.banner{ /* height: 300px; */ }

/* ✅ 뷰포트·패딩 기반 */
.banner{
  min-height: 40dvh;
  padding: clamp(1rem, 4vw, 2rem);
  display: grid; place-items: center;
}
```

---

## 7. 스크롤 제어 — 모달/바텀시트/드로어

```css
/* 7-1. 백그라운드 스크롤 잠금 */
body.modal-open{ overflow: hidden; }

/* 7-2. 바텀시트(안전영역 포함) */
.sheet{
  position: fixed; left: 0; right: 0; bottom: 0;
  max-height: calc(100dvh - var(--safe-top));
  padding: 1rem calc(1rem + var(--safe-right)) calc(1rem + var(--safe-bottom)) calc(1rem + var(--safe-left));
  background: white; border-radius: 16px 16px 0 0;
  box-shadow: 0 -12px 40px rgba(0,0,0,.18);
  overflow: auto; overscroll-behavior: contain;
}
```

> iOS에서 모달 내부 스크롤 바운스가 페이지까지 전파되지 않도록 `overscroll-behavior` 사용.

---

## 8. 터치 반응성 — 하이라이트/지연 제거

```css
button, a{
  -webkit-tap-highlight-color: transparent; /* iOS 클릭 반짝임 제거 */
  touch-action: manipulation;               /* 더 빠른 클릭 처리 */
}
```

> 스와이프/핀치 제스처를 직접 구현할 땐 `touch-action: none`을 컨테이너에 지정 후 JS 제어.

---

## 9. 반응형 이미지·아이콘·폰트 로딩

### 9-1) 이미지 소스셋

```html
<img
  src="hero-768.jpg"
  srcset="hero-768.jpg 768w, hero-1200.jpg 1200w, hero-1920.jpg 1920w"
  sizes="(max-width: 600px) 100vw, (max-width: 1200px) 90vw, 1200px"
  alt="히어로 이미지">
```

### 9-2) WebP/AVIF 우선

```html
<picture>
  <source type="image/avif" srcset="card.avif">
  <source type="image/webp" srcset="card.webp">
  <img src="card.jpg" width="480" height="320" loading="lazy" alt="카드">
</picture>
```

### 9-3) SVG 아이콘 + 폰트 서브셋

```css
/* Google Fonts: display 스왑 + 서브셋 경량화 권장 */
@font-face{
  font-family: 'Pretendard';
  src: url('/fonts/pretendard-subset.woff2') format('woff2');
  font-display: swap;                    /* FOUT 허용, LCP 지연 최소화 */
}
```

> 폰트는 **필요한 글립만 서브셋** 빌드, `preconnect`로 폰트 호스트 선연결.

```html
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
```

---

## 10. 미디어 쿼리 패턴 — 모바일 퍼스트

```css
:root{
  --bp-sm: 600px;
  --bp-md: 900px;
  --bp-lg: 1200px;
}

/* Base (모바일) */
.nav{ display: none; }
.hamburger{ display: inline-flex; }

/* ≥ sm: 내비 출력 */
@media (min-width: 600px){
  .nav{ display: flex; gap: 1rem; }
  .hamburger{ display: none; }
}
```

### 10-1) 환경/접근성 선호도

```css
/* 모션 최소화 */
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; }
}

/* 다크 모드 */
@media (prefers-color-scheme: dark){
  :root{ color-scheme: dark; }
  body{ background: #0b1020; color: #e6e9ef; }
}

/* 고대비(지원 브라우저 한정) */
@media (prefers-contrast: more){
  .btn{ border: 2px solid currentColor; }
}
```

---

## 11. iOS/Safari 특이점 대응 모음

```css
/* 11-1. 100vh 깜빡임 방지: dvh 폴백 */
.full{ min-height: 100vh; min-height: 100dvh; }

/* 11-2. 입력 포커스 시 고정 바 겹침 방지 */
.toolbar{
  position: sticky; bottom: 0;
  padding-bottom: calc(.5rem + env(safe-area-inset-bottom));
}

/* 11-3. 네이티브 확대와 중복 충돌 방지: 큰 텍스트 대비 */
html{ text-size-adjust: 100%; } /* iOS 자동 확대 제어 */
```

---

## 12. 콘텐츠 가독성 — 줄간/자간/길이

```css
body{ line-height: 1.6; letter-spacing: .02em; }
p{ max-width: 70ch; }          /* 45~75ch 권장, 모바일은 자연히 줄어듦 */
```

> 모바일에서는 `line-height: 1.6~1.8`가 무난, 제목은 줄간을 조금 줄이고 여백으로 리듬 조절.

---

## 13. 스크롤 스냅 & 풀투리프레시/바운스 제어

```css
/* 가로 카드 스냅 캐러셀 */
.carousel{
  display: grid; grid-auto-flow: column; gap: 1rem;
  overflow-x: auto; scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}
.carousel > *{ scroll-snap-align: start; }

/* 상위 스크롤로 바운스 전파 금지 */
.modal{ overscroll-behavior: contain; }
```

---

## 14. CSS만으로 모바일 메뉴 토글(간단 구조)

```html
<input type="checkbox" id="menu" hidden>
<label for="menu" class="hamburger" aria-controls="nav" aria-expanded="false">☰ Menu</label>
<nav id="nav" class="mobile-nav">
  <a href="#">Home</a><a href="#">Docs</a><a href="#">Contact</a>
</nav>
```

```css
.mobile-nav{ display: none; }
#menu:checked + .hamburger + .mobile-nav{ display: grid; gap: .75rem; }
```

> **고급 상태 관리**(포커스 트랩, ESC 닫기 등)는 JS로 보완하세요.

---

## 15. 접근성(A11y) 핵심 요약

```css
/* 포커스 표시 */
:where(a, button, input, select, textarea):focus-visible{
  outline: 3px solid #22c55e; outline-offset: 2px;
}

/* 색만으로 정보 전달 금지 → 밑줄 유지 */
a{ text-decoration: underline; text-underline-offset: .18em; }

/* 모션 최소화 선호 반영은 필수 */
@media (prefers-reduced-motion: reduce){
  .parallax, .confetti{ display: none; }
}
```

- 터치 대상 48×48 이상, 링크는 **텍스트와 터치 영역** 모두 충분히.
- DOM 순서=읽기 순서 유지(시각 배치만 바꾸지 말 것).

---

## 16. 성능과 부드러움(레이지·페인트·컴포지트)

- **애니메이션은 `opacity`, `transform` 중심**(합성 단계에서 처리)
- `filter`, `box-shadow` 대량 애니메이션은 주의
- 이미지 `loading="lazy"`, 콘텐츠 `content-visibility: auto` 고려

```css
.card-list{ content-visibility: auto; contain-intrinsic-size: 400px; }
.animated{ will-change: transform; } /* 필요 요소에만 제한적으로 */
```

---

## 17. 실전 레이아웃 예제(구성요소 총합)

```html
<header class="appbar">
  <a class="brand" href="/">Brand</a>
  <input id="navchk" type="checkbox" hidden>
  <label class="hamburger" for="navchk" aria-controls="nav">☰</label>
  <nav id="nav" class="nav">
    <a>Docs</a><a>Blog</a><a>About</a>
  </nav>
</header>

<main class="hero">
  <section class="cards">
    <article class="card">A</article>
    <article class="card">B</article>
    <article class="card">C</article>
  </section>
</main>

<footer class="footer">© 2025</footer>
```

```css
:root{
  --bp-sm: 600px; --bp-md: 900px;
  --space: clamp(.75rem, 2vw, 1.25rem);
}

*{ box-sizing: border-box }
body{ margin: 0; font: 400 1rem/1.6 system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', sans-serif; }

.appbar{
  position: sticky; top: 0;
  display: grid; grid-template-columns: 1fr auto auto;
  align-items: center; gap: .5rem;
  padding: .75rem clamp(1rem, 3vw, 2rem);
  backdrop-filter: saturate(1.2) blur(8px);
  background: color-mix(in oklab, white 85%, transparent);
}
.brand{ font-weight: 700; letter-spacing: .02em; }
.hamburger{ display: inline-flex; font-size: 1.25rem; }

.nav{ display: none; gap: 1rem; }
#navchk:checked + .hamburger + .nav{ display: inline-grid; }

@media (min-width: 600px){
  .hamburger{ display: none; }
  .nav{ display: inline-grid; grid-auto-flow: column; }
}

.hero{
  min-height: 100vh; min-height: 100dvh;
  display: grid; align-content: start; gap: var(--space);
  padding: var(--space) clamp(1rem, 3vw, 2rem);
}

.cards{
  display: grid; gap: var(--space);
  grid-template-columns: 1fr;
}
@media (min-width: 600px){ .cards{ grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 900px){ .cards{ grid-template-columns: repeat(3, 1fr); } }

.card{
  border-radius: 16px; padding: 1rem;
  background: #fff; box-shadow: 0 6px 20px rgba(0,0,0,.08);
  transition: transform .2s ease, box-shadow .2s ease;
}
@media (hover: hover) and (pointer: fine){
  .card:hover{ transform: translateY(-2px); box-shadow: 0 12px 30px rgba(0,0,0,.12); }
}

.footer{
  padding: 1rem calc(1rem + var(--safe-right)) calc(1rem + var(--safe-bottom)) calc(1rem + var(--safe-left));
  background: #0b1020; color: #e6e9ef; text-align: center;
}
```

---

## 18. 모바일 최적화 체크리스트 (확장판)

- [ ] **뷰포트**: `<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">`
- [ ] **안전영역**: `env(safe-area-inset-*)` 반영(헤더/푸터/바텀시트)
- [ ] **vh 이슈**: `min-height: 100dvh` 폴백 포함
- [ ] **터치 목표**: 48×48 이상, `:focus-visible` 스타일 제공
- [ ] **폰트/타이포**: `rem` 기반 + `clamp()`로 유동 스케일
- [ ] **레이아웃**: 모바일 퍼스트(Flex/Grid), 고정 px 높이 지양
- [ ] **이미지**: `srcset/sizes`, `picture`로 차세대 포맷, `loading="lazy"`
- [ ] **폰트**: 서브셋 + `font-display: swap` + `preconnect`
- [ ] **모션/환경**: `prefers-reduced-motion`, `prefers-color-scheme`, `hover/pointer`
- [ ] **스크롤**: 모달 내부 `overscroll-behavior: contain`, 백그라운드 잠금
- [ ] **성능**: `transform/opacity` 중심 애니메이션, `content-visibility`
- [ ] **접근성**: DOM 논리 순서 유지, 링크 밑줄, 대비 충분, 확대 허용

---

## 참고 링크 (추가로 보면 좋은 자료)

- MDN — Viewport meta tag  
- MDN — Media Queries / 환경 선호도(`prefers-*`)  
- web.dev — 모바일 UX 베스트 프랙티스  
- CSS-Tricks — Responsive Design Patterns

> 이 문서는 **CSS 중심**으로 정리했지만, 네트워크(HTTP/캐시), 이미지 파이프라인, 라우팅/스크롤 복원, 입력 지연 제거(passive listener) 등 JS/플랫폼 영역과 함께 다루면 더 강력한 **모바일 체감 성능**을 얻을 수 있습니다.