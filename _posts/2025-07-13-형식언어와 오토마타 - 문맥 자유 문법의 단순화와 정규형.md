---
layout: post
title: 형식언어와 오토마타 - 문맥 자유 문법의 단순화와 정규형
date: 2025-07-13 17:20:23 +0900
category: 형식언어와 오토마타
---
# 문맥 자유 문법의 단순화와 정규형

---

## ✅ 1. 문법 단순화란?

> **단순화(simplification)**는 문법에서 **불필요하거나 복잡한 생성 규칙**을 제거하고,  
> 문법을 **분석하기 쉬운 형태**로 바꾸는 과정이다.

이 과정은 다음과 같은 이유로 중요하다:

- 파싱 효율 향상
- 정규형 변환의 사전 단계
- 쓸모없는 기호 제거 → 언어의 본질 유지

---

## 🧱 2. 문법 단순화의 주요 단계

| 단계 | 설명 |
|------|------|
| **쓸모없는 기호 제거** | 어떤 문자열 생성에도 기여하지 않는 기호 제거 |
| **도달 불가능한 기호 제거** | 시작 기호에서 도달할 수 없는 기호 제거 |
| **ε-생성 규칙 제거** | ε을 생성하는 규칙 제거 (예외: 시작 기호는 허용) |
| **단일 규칙 제거** | A → B 형태의 규칙 제거 |
| **중복 규칙 정리** | 동일한 우변의 중복 제거 등 |

---

## 🚫 3. 쓸모없는 생성 규칙 제거

### 📌 (1) 생성 불가능한 기호 제거

어떤 **터미널 문자열도 생성하지 못하는 비터미널**은 제거해야 함.

#### 예시

```
S → aA | b
A → B
B → C
C → D
```

- 여기서 `D`는 아무 규칙도 없음 → `C`, `B`, `A` 모두 제거 가능

#### 알고리즘

1. `X → w` 형태에서 `w ∈ Σ^*`이면 X는 유효
2. 유효한 기호들로만 구성된 RHS를 갖는 규칙들로부터 유효성 전파
3. 유효하지 않은 비터미널 제거

---

### 📌 (2) 도달 불가능한 기호 제거

시작 기호 `S`에서 **직접 또는 간접적으로 도달할 수 없는 비터미널**은 제거

#### 예시

```
S → aA
A → b
B → c  ← 제거 대상 (S에서 도달 불가)
```

#### 알고리즘

1. `S`를 시작으로 BFS/DFS를 통해 도달 가능한 기호 추적
2. 도달 불가능한 기호 제거

---

## ✂️ 4. ε-생성 규칙 제거

### 정의

> **ε-생성 규칙**: `A → ε` 형태의 규칙

단, **시작 기호에서 유도되는 경우는 보존**해야 함.

### 제거 방법

1. ε을 생성하는 비터미널 집합 `N_nullable` 계산
2. 각 규칙에 대해 ε-기호를 포함한 모든 부분집합 조합을 생성하여 새로운 규칙 추가
3. `A → ε`는 삭제 (단, `S → ε`은 예외)

---

## 🔁 5. 단일 치환 규칙 제거

### 정의

> **단일 치환**: `A → B` (단일 비터미널로만 구성된 RHS)

#### 제거 전략

- `A → B`이고 `B → α`이면 `A → α`로 대체
- `B`가 다른 규칙을 가질 경우, `A`가 그 모든 우변을 상속

#### 예시

```
S → A
A → B
B → a
```

→ 변환 후: `S → a`, `A → a`

---

## 🧩 6. 유용한 치환 규칙

단순화 또는 정규형 변환 시 자주 쓰이는 규칙 변형 방법:

### ✅ 분해

복잡한 RHS를 단순한 비터미널로 분해

예:
```
A → aBCD
```

→ 새 기호 도입:
```
A → aX1
X1 → B X2
X2 → C D
```

---

### ✅ 중간 기호 도입

길이가 긴 RHS를 **이항 형태(길이 2 이하)**로 축소하기 위해 사용

예:
```
A → B C D
```

→ 변형:
```
A → B X
X → C D
```

→ 이 방식은 CNF (Chomsky Normal Form) 변환 시 중요

---

## 🧱 7. 정규형(Normal Form)

단순화 이후의 문법을 **특정한 표준 형태**로 바꾼 것

### (1) Chomsky Normal Form (CNF)

모든 규칙이 다음 형태 중 하나:

- \\( A → BC \\) (B, C는 비터미널)
- \\( A → a \\) (a는 터미널)
- \\( S → ε \\) (단, ε는 예외적으로 시작 기호에서만 허용)

> CNF는 CYK 알고리즘 등에서 사용됨

---

### (2) Greibach Normal Form (GNF)

모든 규칙이 다음 형태:

- \\( A → a\alpha \\) (a는 터미널, \\( \alpha \\)는 비터미널들의 문자열)

> Top-down 파서 구성 시 유용

---

## 🧾 8. 요약

| 항목 | 설명 |
|------|------|
| 문법 단순화 | 불필요하거나 비효율적인 규칙 제거 |
| 쓸모없는 기호 제거 | 생성 불가능 + 도달 불가능 기호 제거 |
| ε-규칙 제거 | ε 유도 가능한 기호 추적 후 재구성 |
| 단일 규칙 제거 | A → B → …를 우변 복사로 대체 |
| 치환 규칙 | 분해 및 중간 기호 도입 |
| 정규형 | CNF, GNF로 변형하여 분석/파싱 최적화 |