---
layout: post
title: Linux - 리눅스란 무엇인가 & 설치 방법
date: 2024-11-02 19:20:23 +0900
category: Linux
---
# 리눅스란 무엇인가 & 설치 방법

## 리눅스란 무엇인가?

리눅스는 커널을 핵심으로 하는 유닉스 계열 운영체제 생태계입니다. 1991년 리누스 토르발스가 공개한 커널에서 시작하여 전 세계 기여자들의 협력으로 성장했습니다.

정확히 말하면, 리눅스는 커널 자체를 가리키지만 일반적으로는 커널과 함께 기본 유틸리티, 패키지 관리자, 설치 도구, 서비스 관리 체계까지 포함한 배포판을 의미합니다. GPL 라이선스 하에 소스 코드가 공개되어 자유롭게 수정, 복제, 배포할 수 있으며, 이 개방성이 리눅스 생태계의 빠른 발전을 이끌었습니다.

주요 특징으로는 뛰어난 안정성과 보안성, 다양한 하드웨어에의 이식성, 그리고 자동화에 친화적인 풍부한 도구 체인을 들 수 있습니다.

## 유닉스와 리눅스의 관계

리눅스는 유닉스의 철학과 설계 원칙을 계승했습니다. 작은 프로그램들의 조합, 텍스트 중심의 인터페이스, 파이프와 리다이렉션과 같은 강력한 개념들이 그 예입니다. 다만 유닉스가 상업적 뿌리와 상표권을 가진 반면, 리눅스는 GPL 라이선스 하에 자유 소프트웨어로 발전해왔다는 차이점이 있습니다.

## 선택 가이드: 배포판

배포판은 커널, 기본 유틸리티 세트, 패키지 관리자, 설치 프로그램, 문서 및 도구들이 하나로 묶인 것입니다. 사용 목적에 따라 적합한 배포판을 선택하는 것이 중요합니다.

- **입문 및 데스크톱/서버용**: Ubuntu LTS, Linux Mint, Fedora
- **보수적 안정성/서버용**: Debian, AlmaLinux, Rocky Linux
- **최신 기술 학습용**: Arch Linux, openSUSE Tumbleweed

간략한 비교는 다음과 같습니다.

| 배포판 | 기반 | 패키지 관리자 | 주요 특징 |
|---|---|---|---|
| Ubuntu LTS | Debian | apt | 입문과 서버 용도 간 균형, 자료 풍부 |
| Debian | 독립적 | apt | 철저한 테스트를 통한 최고 수준 안정성 |
| Fedora | RHEL | dnf | 최신 기술을 빠르게 반영하는 워크스테이션 |
| Alma/Rocky | RHEL | dnf | RHEL과의 완전한 호환성을 목표로 한 기업 서버 대체제 |
| Arch | 독립적 | pacman | 롤링 릴리스, 자기주도적 학습, 훌륭한 ArchWiki |
| openSUSE TW | 독립적 | zypper | 롤링 릴리스와 Btrfs 스냅샷의 장점 결합 |

## 설치 방법 개요

설치 방법은 사용 환경과 목표에 따라 선택할 수 있습니다.

- **WSL**: 윈도우 사용자가 가장 빠르게 시작할 수 있는 방법입니다. 저수준 시스템 실습에는 제한이 따를 수 있습니다.
- **가상 머신**: 스냅샷과 롤백 기능으로 안전하게 실험할 수 있습니다. 네이티브 대비 성능 손실이 발생합니다.
- **듀얼부트/베어메탈**: 실제 하드웨어 드라이버와 부트 과정까지 학습할 수 있는 네이티브 성능을 제공합니다.
- **클라우드**: 원격 서버 운영과 배포 경험, 퍼블릭 네트워킹 설정을 포함한 실전 환경을 구성합니다.

## WSL 설치와 첫 세팅 (Windows 10/11)

관리자 PowerShell에서 다음 명령을 실행합니다.
```powershell
wsl --install
wsl --list --online
wsl --install -d Debian
```
배포판을 최초 실행한 후에는 패키지를 최신 상태로 업데이트합니다.
```bash
sudo apt update && sudo apt -y upgrade
```
WSL은 윈도우 호스트와 파일 시스템을 공유할 수 있습니다. 리눅스 홈 디렉터리는 `\\wsl$\Ubuntu\home\<user>` 경로로 접근 가능하며, 윈도우 드라이브는 리눅스 내부에서 `/mnt/c` 등으로 마운트됩니다. 네트워크 측면에서는 WSL2가 가상 NIC를 사용하며, 기본적으로 `localhost` 포트 포워딩이 지원됩니다.

## 가상 머신 설치 절차

1.  **준비물**: 원하는 배포판의 ISO 이미지 (예: ubuntu-24.04 ISO), BIOS/UEFI에서 VT-x/AMD-V 가상화 기술 활성화.
2.  **가상 머신 생성**: VirtualBox나 VMware 등에서 새 머신을 만들고 CPU 코어, RAM 용량, 가상 디스크 크기를 설정합니다.
3.  **설치**: 생성한 가상 머신에 ISO를 부팅 미디어로 연결하여 시작하고, 화면의 설치 마법사를 따라 진행합니다.
4.  **게스트 확장 설치**: 가상 머신 소프트웨어별 게스트 확장을 설치하면 해상도 조절, 클립보드 공유, 공유 폴더 기능이 개선됩니다.
    ```bash
    # VirtualBox 공유 폴더 마운트 예시
    sudo mkdir -p /mnt/shared
    sudo mount -t vboxsf SharedName /mnt/shared
    ```

## 듀얼부트/베어메탈 설치 핵심

실제 하드웨어에 설치할 때는 파티션 설계가 중요합니다.

- **ESP (EFI 시스템 파티션)**: 512MB~1GB, FAT32, 마운트 지점은 `/boot/efi`
- **루트 파티션 (`/`)**: 시스템 파일용으로 30~50GB 이상 할당
- **홈 파티션 (`/home`)**: 사용자 데이터용으로 남은 대부분의 공간 할당
- **스왑 공간**: 물리적 RAM 크기와 시스템 사용 패턴을 고려하여 설정

파일시스템은 용도에 따라 선택할 수 있습니다.
- **LUKS**: 전체 디스크 암호화 (노트북 등 이동식 장치 권장)
- **LVM**: 논리 볼륨 관리로 유연한 공간 확장 및 스냅샷 생성 가능
- **Btrfs**: 서브볼륨과 통합 스냅샷 기능(snapper)으로 시스템 롤백이 편리
- **ZFS**: 강력한 데이터 무결성, 스냅샷, 복제 기능 제공 (라이선스 주의)

특정 하드웨어 드라이버는 설치 후 별도로 설정해야 할 수 있습니다.
```bash
# Ubuntu에서 NVIDIA 드라이버 설치 예시
ubuntu-drivers list
sudo ubuntu-drivers autoinstall
```

## 클라우드에서 리눅스 시작하기 (AWS EC2 예시)

클라우드 콘솔에서 인스턴스를 생성하고 키 페어를 발급받은 후, 로컬에서 SSH로 접속합니다.
```bash
# 로컬 터미널에서 키 권한 설정 및 접속
chmod 600 my-key.pem
ssh -i my-key.pem ubuntu@203.0.113.10

# 원격 서버에서 기본 설정 실행
sudo apt update && sudo apt -y upgrade
sudo adduser dev && sudo usermod -aG sudo dev
sudo apt install -y nginx
sudo systemctl enable --now nginx
```
보안 그룹(방화벽) 설정을 통해 SSH(22), HTTP(80), HTTPS(443) 등 필요한 포트만 열어두는 것이 중요합니다.

## 설치 직후 필수 초기 세팅

어떤 환경에 설치하든 공통적으로 진행하면 좋은 초기 설정입니다.

```bash
# 1. 시스템 업데이트 및 기본 도구 설치
sudo apt update && sudo apt -y upgrade
sudo apt install -y build-essential curl wget git vim htop zip unzip

# 2. 시간대 및 로케일 설정
sudo timedatectl set-timezone Asia/Seoul
sudo locale-gen ko_KR.UTF-8 en_US.UTF-8
sudo update-locale LANG=ko_KR.UTF-8

# 3. 추가 사용자 생성 및 권한 부여 (선택)
sudo adduser dev
sudo usermod -aG sudo dev   # Debian/Ubuntu 계열에서 sudo 그룹 추가
```

서버의 경우 SSH 보안 강화가 필수적입니다.
```bash
# SSH 키 생성 및 등록
ssh-keygen -t ed25519 -C "me@example.com"
ssh-copy-id dev@server

# SSH 서버 설정 파일 수정 (비밀번호 인증 비활성화 등)
sudoedit /etc/ssh/sshd_config
# PasswordAuthentication no 로 변경
sudo systemctl restart ssh
```

방화벽을 통해 불필요한 네트워크 접근을 차단합니다.
```bash
# UFW (Uncomplicated Firewall) 설정 예시
sudo ufw default deny incoming
sudo ufw default allow outgoing
sudo ufw allow OpenSSH
sudo ufw allow 80
sudo ufw enable
```

## 패키지 관리 핵심 명령어

각 배포판의 패키지 관리자를 익히는 것이 시스템 관리의 첫걸음입니다.

| 동작 | Debian/Ubuntu (apt) | Fedora/RHEL (dnf) | Arch (pacman) | openSUSE (zypper) |
|---|---|---|---|---|
| 저장소 및 패키지 업데이트 | `sudo apt update && sudo apt upgrade` | `sudo dnf upgrade` | `sudo pacman -Syu` | `sudo zypper dup` |
| 패키지 설치 | `sudo apt install 패키지명` | `sudo dnf install 패키지명` | `sudo pacman -S 패키지명` | `sudo zypper install 패키지명` |
| 패키지 제거 | `sudo apt remove 패키지명` | `sudo dnf remove 패키지명` | `sudo pacman -R 패키지명` | `sudo zypper remove 패키지명` |
| 패키지 검색 | `apt search 키워드` | `dnf search 키워드` | `pacman -Ss 키워드` | `zypper search 키워드` |

## 필수 셸 명령어 30선

리눅스를 효과적으로 사용하기 위해 익혀야 할 기본 명령어들입니다.

```bash
# 파일 및 디렉터리 탐색
pwd                      # 현재 작업 디렉터리 출력
ls -lah                  # 자세한 파일 목록 (숨김 파일 포함)
cd /etc                  # 디렉터리 변경

# 파일 내용 보기
cat /etc/os-release      # 파일 전체 내용 출력
less /var/log/syslog     # 페이지 단위로 파일 보기
head -n 20 file.log      # 파일 앞부분 20줄 보기
tail -f /var/log/nginx/access.log # 파일 끝부분을 실시간으로 보기 (로그 모니터링)

# 텍스트 검색 및 처리
grep -R "Listen 80" /etc/apache2 # 디렉터리 내에서 'Listen 80' 문자열 재귀적으로 검색
find /var/www -type f -name "*.php" -mtime -7 # /var/www 아래 7일 내 수정된 php 파일 찾기

# 파일 조작
cp app.conf{,.bak}       # app.conf를 app.conf.bak로 백업 복사
mv old.txt archive/old_$(date +%F).txt # 파일 이동 및 이름에 날짜 추가
rm -rf build/            # build 디렉터리와 내용 강제 삭제
ln -s /opt/tool/bin/tool /usr/local/bin/tool # 심볼릭 링크 생성

# 디스크 사용량 확인
du -sh /var/log          # /var/log 디렉터리의 총 사용 용량 확인
df -h                    # 마운트된 파일시스템별 사용 가능 공간 확인

# 아카이브 및 압축
tar -czf logs.tgz /var/log/nginx # gzip으로 압축된 tar 아카이브 생성
unzip data.zip -d /data  # 압축 해제 및 대상 디렉터리 지정

# 네트워크
curl -I https://example.com # HTTP 헤더만 가져오기
wget -O index.html https://example.com # 파일 다운로드 및 이름 지정

# 시스템 및 서비스 관리
sudo systemctl enable --now nginx # nginx 서비스 활성화 및 즉시 시작
sudo journalctl -u nginx --since "1 hour ago" # nginx 유닛의 최근 1시간 로그 보기

# 프로세스 관리
ps aux | grep postgres   # postgres 관련 프로세스 찾기
top                      # 실시간 시스템 프로세스 모니터링 (htop이 더 나은 대안)

# 사용자 관리
sudo useradd -m -s /bin/bash app # 새 사용자 생성 및 홈 디렉터리, 셸 지정
sudo usermod -aG sudo app        # 사용자에게 sudo 권한 부여
sudo passwd app                  # 사용자 비밀번호 변경

# 네트워크 및 방화벽
ip a                       # 네트워크 인터페이스 및 IP 주소 확인
ip r                       # 라우팅 테이블 확인
ss -tulpn                  # 열린 소켓과 관련 프로세스 확인
sudo ufw status            # UFW 방화벽 상태 확인

# 개발 및 기타 유틸리티
sudo apt install -y build-essential # 기본 개발 도구 모음 설치 (gcc, make 등)
rsync -avz /var/www/ user@host:/backup/www/ # 원격지로 파일 동기화
scp -i key.pem file user@host:/tmp/ # SSH를 통해 안전하게 파일 복사
chmod 640 secret.txt      # 파일 권한 변경 (소유자: 읽기쓰기, 그룹: 읽기, 기타: 없음)
crontab -e                # 현재 사용자의 크론 작업 편집기 실행
sed -n '1,100p' file.txt  # 파일의 1~100줄 출력
awk -F, '{sum+=$3} END{print sum}' data.csv # CSV 파일 세 번째 열 합계 계산
export PATH="/usr/local/bin:$PATH" # 셸 PATH 변수에 경로 임시 추가
which python3             # 명령어의 전체 경로 확인
whereis nginx             # 명령어의 바이너리, 소스, 매뉴얼 위치 확인
sudo mount /dev/sdb1 /mnt/data # 디스크 파티션 마운트
sudo umount /mnt/data     # 디스크 파티션 언마운트
lsblk -f                  # 블록 장치와 파일시스템 정보 트리 형태로 출력
blkid                     # 블록 장치의 속성( UUID, TYPE 등) 출력
dmesg | tail              # 커널 로그의 최근 메시지 확인
```

## 네트워킹 기초: 설정과 디버깅

호스트명 설정은 `/etc/hosts` 파일과 함께 관리됩니다.
```bash
sudo hostnamectl set-hostname mylab
```

네트워크 인터페이스는 배포판별 도구로 설정합니다. Ubuntu의 Netplan 예시:
```yaml
# /etc/netplan/01-netcfg.yaml
network:
  version: 2
  ethernets:
    ens18:
      dhcp4: no
      addresses: [192.0.2.10/24]
      gateway4: 192.0.2.1
      nameservers:
        addresses: [1.1.1.1, 8.8.8.8]
```
설정 적용: `sudo netplan apply`

로컬에서 원격 서버의 특정 포트에 접근해야 할 때는 SSH 터널을 활용할 수 있습니다.
```bash
# 로컬 머신의 8080포트를 원격 서버의 80포트로 연결
ssh -L 127.0.0.1:8080:127.0.0.1:80 dev@server
```

## 실전 예제 1: WSL(Ubuntu)에서 Flask 개발 서버 실행

```bash
# 필수 패키지 및 가상 환경 설정
sudo apt update && sudo apt install -y python3-venv python3-pip
python3 -m venv .venv
source .venv/bin/activate

# Flask 설치 및 간단한 앱 작성
pip install flask
cat > app.py <<'PY'
from flask import Flask
app = Flask(__name__)

@app.get("/")
def hello():
    return "Hello, Linux on WSL!"

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=5000)
PY

# 서버 실행
python app.py
```

## 실전 예제 2: VM(Ubuntu)에서 NGINX 및 커스텀 systemd 서비스 운영

```bash
# NGINX 설치 및 활성화
sudo apt update && sudo apt install -y nginx socat
sudo systemctl enable --now nginx

# 간단한 에코 서비스를 systemd 유닛으로 등록
sudo tee /etc/systemd/system/hello.service >/dev/null <<'UNIT'
[Unit]
Description=Hello Service
After=network.target

[Service]
ExecStart=/usr/bin/socat - TCP-LISTEN:9000,fork,bind=0.0.0.0 SYSTEM:"echo HTTP/1.1 200 OK; echo; echo Hello-From-Systemd"
Restart=always

[Install]
WantedBy=multi-user.target
UNIT

# 서비스 시작
sudo systemctl daemon-reload
sudo systemctl enable --now hello.service

# 서비스 테스트
curl http://127.0.0.1:9000
```

## 실전 예제 3: 듀얼부트 머신에서 Docker 컨테이너 체험

```bash
# Docker 설치 (공식 스크립트 이용)
curl -fsSL https://get.docker.com | sh

# 현재 사용자를 docker 그룹에 추가하여 sudo 없이 사용
sudo usermod -aG docker $USER
newgrp docker # 현재 셸에서 그룹 변경 적용

# 간단한 컨테이너 실행 테스트
docker run --rm hello-world

# NGINX 컨테이너를 백그라운드에서 실행하고 호스트의 8080포트에 연결
docker run -d --name web -p 8080:80 nginx
curl http://127.0.0.1:8080
```

## 실전 예제 4: EC2 인스턴스로 정적 웹사이트 호스팅

```bash
# 웹 서버 설치 및 기본 페이지 생성
sudo apt update && sudo apt install -y nginx
echo "Hello from the Cloud" | sudo tee /var/www/html/index.html

# 서비스 활성화
sudo systemctl enable --now nginx

# 방화벽 설정: SSH와 HTTP만 허용
sudo ufw allow OpenSSH
sudo ufw allow 80
sudo ufw --force enable
```

## 트러블슈팅 가이드

- **GRUB/부팅 실패**: UEFI와 Legacy 부팅 모드 혼용을 피해야 합니다. 라이브 ISO로 부팅한 후 chroot 환경에서 GRUB를 재설치할 수 있습니다.
    ```bash
    # 예: 루트 파티션이 /dev/nvme0n1p3, ESP가 /dev/nvme0n1p1인 경우
    sudo mount /dev/nvme0n1p3 /mnt
    sudo mount /dev/nvme0n1p1 /mnt/boot/efi
    for i in /dev /proc /sys /run; do sudo mount --bind $i /mnt$i; done
    sudo chroot /mnt
    grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=ubuntu
    update-grub
    exit
    sudo reboot
    ```
- **네트워크 문제**: `ip a`로 인터페이스 상태 확인, `dmesg | grep -i firmware`로 펌웨어 관련 오류 검토, 가상 머신의 경우 네트워크 어댑터 모드(NAT/Bridge)를 점검합니다.
- **그래픽/해상도 문제**: 가상 머신 게스트 추가 설치, 실제 장치의 경우 적절한 그래픽 드라이버를 설치합니다.
- **SELinux 이슈 (RHEL 계열)**: `/var/log/audit/audit.log`를 분석하고, 필요시 `setenforce 0`으로 임시 비활성화(학습용)하거나 정확한 정책을 조정합니다.

## 확장 주제: 암호화, 스냅샷, 백업, 컨테이너

**디스크 암호화 (LUKS)**:
```bash
sudo cryptsetup luksFormat /dev/sdb          # 새 디스크 암호화 초기화
sudo cryptsetup open /dev/sdb securedata     # 암호화된 디스크 열기
sudo mkfs.ext4 /dev/mapper/securedata        # 파일시스템 생성
sudo mount /dev/mapper/securedata /mnt/secure # 마운트
```

**파일시스템 스냅샷 (Btrfs/ZFS)**:
```bash
# Btrfs (snapper 활용)
sudo snapper create --description "pre-upgrade"

# ZFS
sudo zfs snapshot pool/dataset@pre-upgrade
```

**백업 전략**:
```bash
# rsync를 이용한 간단한 동기화 백업
rsync -a --delete /home/dev/ /mnt/backup/home/

# Restic를 이용한 증분 백업 및 암호화
restic -r /mnt/backup/restic init
restic -r /mnt/backup/restic backup /home/dev
```

**컨테이너 (Podman)**:
```bash
# Docker와 유사한 CLI를 가진 Podman으로 컨테이너 실행
podman run -it --rm alpine sh
```

## FAQ

- **WSL, VM, 듀얼부트 중 무엇을 선택해야 하나요?**
    - 빠른 시작과 일반 개발: **WSL**
    - 안전한 실험과 다양한 배포판 테스트: **가상 머신**
    - 최고의 성능과 저수준 시스템 학습: **듀얼부트/베어메탈**

- **LTS 배포판이 좋나요, 최신 배포판이 좋나요?**
    - 서버 운영이나 안정적인 업무 환경: **LTS**
    - 최신 개발 스택 학습이나 데스크톱 사용: **Fedora**나 **롤링 릴리스** 배포판

- **Stable 배포판의 패키지가 너무 오래된 것 같아요.**
    - 안정성과 최신 패키지 사이의 트레이드오프입니다. 백포트 보안 업데이트, Flatpak/Snap, 또는 Docker/Podman 컨테이너를 활용해 특정 소프트웨어만 최신 버전으로 사용할 수 있습니다.

## 시작을 위한 추천 경로

리눅스에 처음 접하는 경우, 다음 단계를 따라 진행하는 것을 추천합니다.

1.  **즉시 체험하기**: Windows 사용자라면 PowerShell에서 `wsl --install` 명령을 실행하여 WSL에 Ubuntu를 설치하고, `sudo apt update && sudo apt -y upgrade`로 기본적인 업데이트를 진행해보세요.
2.  **안전한 실습 환경 구축**: VirtualBox나 VMware에 Ubuntu를 설치하고 스냅샷 기능을 활용해 `nginx` 웹 서버 설정, `systemctl`로 서비스 관리, `journalctl`로 로그 확인 등을 반복練習하세요.
3.  **실제 하드웨어 도전**: 중요 데이터를 백업한 후 노트북이나 데스크톱에 듀얼부트를 설치해보세요. 파티션 설계, 그래픽 드라이버 설치, 방화벽 설정, 주기적인 업데이트의 전체 흐름을 경험할 수 있습니다.
4.  **서버 운영 입문**: AWS EC2나 Google Cloud Engine과 같은 클라우드 공급자에서 무료 티어 인스턴스를 생성해보세요. SSH 키 접속, UFW 방화벽 설정, Let's Encrypt로 HTTPS 적용까지의 과정을 실습하면 실무 능력을 키울 수 있습니다.

## 결론

리눅스는 단순한 커널이자 운영체제를 넘어, 현대 소프트웨어 개발과 인프라 운영의 근간이 되는 거대한 생태계입니다. 처음 접할 때는 그 다양성과 깊이에 압도될 수 있지만, 본 가이드에서 소개한 단계별 접근법을 통해 차근차근 익혀나간다면 그 강력함과 유연함을 체감하게 될 것입니다.

시작하는 최선의 방법은 명확한 목표를 세우고, 그에 맞는 설치 경로(WSL → 가상 머신 → 듀얼부트/클라우드)를 선택하는 것입니다. 이 문서는 설치 방법부터 초기 세팅, 필수 명령어, 네트워크 설정, 그리고 실제 배포 실습까지를 아우르도록 구성되어 있습니다. 첫걸음을 내딛은 여러분이 리눅스라는 광활한 세계에서 자신만의 길을 개척하는 데 조금이나마 도움이 되길 바랍니다.