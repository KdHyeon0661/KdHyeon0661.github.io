---
layout: post
title: 형식언어와 오토마타 - 정지 문제와 범용 튜링 기계로도 해결할 수 없는 문제들
date: 2025-08-05 14:20:23 +0900
category: 형식언어와 오토마타
---
# 범용 튜링 기계(UTM)로도 **해결할 수 없는 문제들** — 정지 문제를 넘어

**핵심 요지**  
- 어떤 단일한 기계(범용 튜링 기계, UTM)로도 **모든 계산 문제**를 결정(Yes/No)할 수는 없다.  
- 대표가 **정지 문제(Halting Problem)** 이고, 이로부터 수많은 문제가 **감소(reduction)** 로 **결정 불가능(undecidable)** 임이 따라온다.  
- 많은 문제는 “부분적으로만” 풀린다(= **반결정 가능**/**재귀적 열거 가능**, RE).

---

## 1) 정지 문제(HALT) — 원형의 결정 불가능 문제

### 문제 정의
\[
\textsf{HALT} \;=\; \{\;\langle M\rangle \# w\;|\; M \text{이 입력 } w \text{에서 유한 시간 내 정지}\;\}.
\]
여기서 \(\langle M\rangle\)은 기계의 인코딩, `#`는 구분자.

### 왜 불가능한가(대각선/귀류 스케치)
1. “정지 결정기” \(H(\langle M\rangle,w)\in\{\texttt{halt},\texttt{loop}\}\) 가 존재한다고 가정.  
2. 이를 이용해 다음 기계 \(D\)를 만든다:
   ```
   D(x):
     if H(x, x) == halt then loop forever
     else halt
   ```
3. \(D\)에 자기 자신을 넣으면? \(D(\langle D\rangle)\).  
   - 만약 \(H(\langle D\rangle,\langle D\rangle)=\texttt{halt}\) 라면 \(D\)는 **무한루프**해야 하고,  
   - \(\texttt{loop}\) 라면 \(D\)는 **정지**해야 한다.  
   **모순** ⇒ 그런 \(H\)는 존재할 수 없다.

> 결론: **정지 문제는 결정 불가능**. (단, 정지하는 경우를 “찾아내면” 알 수 있으므로 **RE**다.)

---

## 2) 반결정 가능(RE)·결정 가능(REC)·그 밖의 분류

- **결정 가능(REC)**: 모든 입력에서 반드시 정지(Yes/No 결정).  
- **반결정 가능(RE)**: “예(수용)”인 경우에는 **언젠가** 정지해 알 수 있으나, “아니오”인 경우 **영원히 돌 수도** 있다.  
  - 예: \(\textsf{HALT}\), \(\textsf{A\_TM}=\{\langle M\rangle\#w\mid M \text{이 } w \text{를 수용}\}\), **PCP** 등은 RE.  
- **co-RE**: 보수(complement)가 RE.  
  - 예: \(\textsf{E\_TM}=\{\langle M\rangle\mid L(M)=\varnothing\}\) 는 **co-RE** (보수는 “비공백성”으로 RE), 결정 불가능.

---

## 3) 리스(Rice) 정리 — “프로그램 의미”에 대한 일반 불가능성

### 진술
**부분 계산 가능 함수의 비자명한 성질은 모두 결정 불가능.**  
즉, 튜링 기계 \(M\)이 계산하는 **함수의 의미**에 대한 속성 \(P\)가
- **비자명**(어떤 기계는 만족, 어떤 기계는 불만족)하고
- **구문(코드 모양)** 이 아니라 **의미(계산되는 함수)** 에만 의존한다면  
⇒ \( \{\langle M\rangle \mid P(\text{함수 }f_M)\} \) 은 **결정 불가능**.

### 즉시 얻게 되는 예
- **등가성**: \(L(M_1)=L(M_2)\) ? (TM 언어 동일성) — 결정 불가능.  
- **공백성**: \(L(M)=\varnothing\) ? — 결정 불가능(앞서 co-RE).  
- **유한성/무한성**: \(L(M)\)이 유한/무한? — 결정 불가능.  
- **특정 문자열 포함**: \(w_0\in L(M)\) ? (고정 \(w_0\)) — 결정 불가능처럼 보이지만, 이는 단일 입력 소속성으로 **결정 가능**해 보일 수 있다. 주의: “모든 \(w\)에 대해” 같은 전역 성질이 문제가 된다. (개별 \(w\)에 대한 소속성은 “주어진 \(M,w\)”의 **멤버십**인데, 이는 일반 TM에 대해 **결정 불가능**이다: \(\textsf{A\_TM}\) 가 바로 그 문제.)

> 실무적 해석: **“모든 프로그램에 대해 이런 의미적 속성을 판정하는 정적 분석기”** 는 일반적으로 존재할 수 없다.

---

## 4) 정지 문제에서 **감소(reduction)** 로 내려오는 고전 예

### 4.1 Post Correspondence Problem (PCP)
- **정의**: 두 목록 \((u_1,\dots,u_k)\), \((v_1,\dots,v_k)\) 가 주어질 때,  
  어떤 인덱스열 \(i_1\cdots i_m\) 이 있어 \(u_{i_1}\cdots u_{i_m}=v_{i_1}\cdots v_{i_m}\) ?  
- **사실**: PCP는 **결정 불가능(undecidable)**, 그리고 **RE**(증거 열거로 “있다”면 언젠가 찾음).  
- **아이디어**: 임의의 \(M,w\)에 대해 “\(M\)의 올바른 계산을 **수평/수직 문자열**로 맞춰 쌓는” 타일을 구성하면,  
  **해결 가능** ⇔ “정지/수용 경로 존재”.

### 4.2 문맥 자유 문법(CFG) 관련
- **언어 포함성**: \(L(G_1)\subseteq L(G_2)\)? — **결정 불가능**  
- **언어 동일성/보편성**: \(L(G_1)=L(G_2)\)?, \(L(G)=\Sigma^*\)? — **결정 불가능**  
- **모호성(ambiguity)**: 주어진 CFG가 모호한가? — **결정 불가능**  
(대비: **공백성**, **유한성**, **멤버십**(CYK/Earley)은 **결정 가능**)

### 4.3 프로그램 성질
- **총정지성(Totality)**: \(M\)이 **모든 입력에서 정지**하는가? — **결정 불가능**(더 강하게 \(\Pi^0_2\)-완전)  
- **등가성**: \(L(M_1)=L(M_2)\)? — **결정 불가능**(일반 TM)  
- **비자명 최적화의 일반 자동화**: “이 프로그램은 항상 범위를 벗어나지 않는가?”, “항상 배열 길이를 넘지 않는가?” 등 **전역 의미 속성**의 일반 판정은 리스 정리에 막힌다.

### 4.4 타일링/수학적 문제
- **Wang 타일링 문제(도미노 문제)**: 평면을 주어진 타일 집합으로 무한히 채울 수 있는가? — **결정 불가능**.  
- **Kolmogorov 복잡도 \(K(x)\)**: “\(K(x)\) (최소 프로그램 길이)”는 **계산 불가능**,  
  \(\{x\mid K(x)\ge n\}\) 같은 집합도 **결정 불가능**.  
- **Busy Beaver \(\Sigma(n)\)**: “상태 \(n\)개 TM의 최대 1 출력 전후 공백 아닌 칸 수/시간” — **비계산 함수**(어떤 계산 가능 함수보다 빠르게 성장).  
- **Hilbert의 10번째 문제**: 정수 해를 갖는 **디오판토스 방정식** 판정 — **결정 불가능**(Matiyasevich–DPRM).  
- **유한 제시 군/반군의 단어 문제**: 일반적으로 **결정 불가능**(Novikov, Boone 등).

---

## 5) RE·co-RE·그 밖(계층)으로 한눈에

| 문제 | 상태 |
|---|---|
| \(\textsf{HALT}=\{\langle M\rangle,w: M \text{ 정지}\}\) | **RE-완전**, 결정 불가능 |
| \(\textsf{A\_TM}=\{\langle M\rangle,w: M \text{ 수용}\}\) | **RE-완전**, 결정 불가능 |
| \(\overline{\textsf{HALT}}\) | **co-RE**, 결정 불가능 |
| \(\textsf{E\_TM}=\{\langle M\rangle: L(M)=\varnothing\}\) | **co-RE-완전**, 결정 불가능 |
| \(\textsf{PCP}\) | **RE**, 결정 불가능 |
| CFG 포함/동일성/보편성/모호성 | **결정 불가능** (RE/​co-RE 아님인 것도 존재) |
| **총정지성** TOT = \(\{\langle M\rangle : \forall w\, M(w)\downarrow\}\) | \(\Pi^0_2\)-완전(상위 계층), 결정 불가능 |
| Kolmogorov \(K(x)\) 계산 | **불가능** |
| Busy Beaver \(\Sigma(n)\) | **비계산**(함수) |
| Wang 타일링 | **결정 불가능** |
| Hilbert의 10번째 | **결정 불가능** |

> 메모: “완전성” 표기는 보통 **many-one(≤\_m)** 또는 **튜링(≤\_T)** 감소를 뜻한다.

---

## 6) 어떻게 **증명**하나 — 전형적 기법

1. **대각선/자기 참조(정지 문제류)**  
   - “자기 자신을 입력으로” 넣는 구성으로 모순을 만든다.
2. **감소(reduction)**  
   - 이미 알려진 결정 불가능 문제 \(A\)에서 목표 문제 \(B\)로  
     **효과적 변환** \(f\) 를 만들어 \(x\in A \iff f(x)\in B\) 를 보인다.  
   - 가장 흔한 **출발점**: \(\textsf{HALT}\), \(\textsf{A\_TM}\), **PCP**.
3. **리스(Rice) 정리 사용**  
   - “프로그램이 계산하는 함수의 의미에 대한 비자명 성질”이면 즉시 **결정 불가능**.
4. **재귀 정리**  
   - 자기 기술(self-reference)을 만드는 고정점으로, 정교한 귀류에 활용.

---

## 7) “반결정”의 직관과 실무적 함의

- **정지하면 ‘예’라고 말할 수는 있으나, 영원히 도는 경우 “아니오”를 말할 수 없을 수 있음**.  
  정적 분석·검증 도구는 이 한계 때문에
  - **제한된 언어/패턴**(무한 루프 금지, 선형 형식 등)만 다루거나,
  - **보수적 근사**(오경보/미검출 허용),  
  - **시간 제한·휴리스틱**으로 실용적 타협을 한다.
- 반대로, **정규 언어/CFG 같은 제한 클래스** 에서는 많은 성질이 **결정 가능**이다(§4의 대비 참고).

---

## 8) 간단 예시: \(\textsf{A\_TM}\)에서 CFG **보편성**으로의 감소 스케치

목표: 주어진 \(\langle M\rangle,w\)에 대해 CFG \(G\)를 구성하여
\[
M(w)\ \text{가 수용} \iff L(G)=\Sigma^*.
\]
아이디어(고전 테크닉):
- “\(M\)의 잘못된 계산”을 생성하는 CFG \(G_{\text{bad}}\)를 만든다.  
  만약 \(M(w)\)가 **수용**이라면, **올바른 계산**을 **유일하게** 제외하고 나머지 모든 문자열이 “잘못된 것”이 된다 ⇒ \(\Sigma^*\) 전부 생성.  
- 반대로 \(M(w)\)가 수용이 아니면, 어떤 문자열(“유일한 올바른 계산 인코딩”)은 생성되지 않음 ⇒ 보편 아님.  
따라서 CFG 보편성은 **결정 불가능**.

(실제 구성은 “계산 테이블 인코딩 + 지역 규칙 검사”로 구현한다 — PCP 감소도 유사한 틀.)

---

## 9) 맺음말

- **정지 문제**는 **결정 불가능성의 시발점**이고,  
  **리스 정리**와 **감소**를 통해 수많은 실·수학·언어 이론 문제의 **불가능성**이 드러난다.  
- **반결정 가능(RE)** 과 **co-RE**, 그리고 그 너머(예: \(\Pi^0_2\))의 구분은  
  “**부분적으로나마 풀 수 있는가**(증거가 있으면 언젠가 잡히는가)”를 가늠하게 해 준다.  
- 실무에서는 이 한계를 **회피(제약/근사/휴리스틱)** 하거나,  
  **결정 가능한 하위 클래스** 로 문제를 제한하는 설계가 핵심 전략이다.