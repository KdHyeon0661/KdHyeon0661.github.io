---
layout: post
title: 형식언어와 오토마타 - 촘스키 계층
date: 2025-08-05 20:20:23 +0900
category: 형식언어와 오토마타
---
# 촘스키 계층(Chomsky Hierarchy) — 정의, 모델 동치, 포함관계, 폐포·결정 성질, 예시

**촘스키 계층**은 형식 언어를 생성 규칙의 제약 수준에 따라 **4단계**로 분류한 구조다.  
각 단계는 대응하는 **오토마타 모델**과 동치이며, 위 단계로 갈수록 **표현력**은 강해지고 **결정 성질**은 약해진다.

\[
\boxed{\ \text{Type-3 REG} \subsetneq \text{Type-2 CFL} \subsetneq \text{Type-1 CSL} \subsetneq \text{Type-0 RE}\ }
\]

---

## 1) 네 단계의 **형식적 정의**

### (Type-3) 정규 문법 / 정규 언어 (**REG**)
- **문법 제약**: 모든 규칙이 \(A\to aB\) 또는 \(A\to a\) (우선형) 혹은 대칭적 좌선형. \(\varepsilon\) 허용은 \(S\)에 한정.
- **등가 모델**: **DFA/NFA/정규표현식**.
- **대표 예**: \(\{\,a^*b(a|b)^*\,\}\), \(\{\,w\in\{0,1\}^* \mid w \text{에 } 01 \text{이 부분문자열}\,\}\).
- **펌핑 보조정리(정규)**: \(w=xyz\), \(|xy|\le p, |y|\ge 1\), \(\forall i\ge 0: xy^iz\in L\).

### (Type-2) 문맥 자유 문법 / 문맥 자유 언어 (**CFL**)
- **문법 제약**: 모든 규칙이 \(A\to \alpha\), \(\alpha\in (V\cup\Sigma)^*\) (좌변에 단일 비단말).
- **등가 모델**: **PDA(푸시다운 오토마타)**.
- **정규형**: **Chomsky Normal Form**(CNF), **Greibach Normal Form**(GNF).
- **대표 예**: \(\{\,a^n b^n \mid n\ge 0\,\}\), 모든 균형 괄호, 산술식.
- **펌핑 보조정리(CFL)**: \(w=uvxyz\), \(|vxy|\le p, |vy|\ge 1\), \(\forall i\ge 0: uv^ixy^iz\in L\).

### (Type-1) 문맥 인식 문법 / 문맥 인식 언어 (**CSL**)
- **문법 제약**: **비축약(noncontracting)** 리라이트(일반형 \( \alpha A\beta \Rightarrow \alpha \gamma \beta\), \(|\gamma|\ge 1\)).  
  (예외적으로 \(S\to\varepsilon\) 허용 가능, \(S\)는 우변 금지.)
- **정규형**: **Kuroda Normal Form** \(AB\to CD,\ A\to BC,\ A\to B,\ A\to a\).
- **등가 모델**: **LBA(선형 한정 오토마타)**, 즉 \(\mathrm{NSPACE}(O(n))\).
- **대표 예**: \(\{\,a^n b^n c^n \mid n\ge 0\,\}\), \(\{\,ww \mid w\in\{0,1\}^*\,\}\), \(\{\,w \mid \#a(w)=\#b(w)=\#c(w)\,\}\).

### (Type-0) 무제한 문법 / 재귀적 열거 가능 언어 (**RE**)
- **문법 제약**: 없음(일반 리라이트).  
- **등가 모델**: **튜링 기계(TM)**.  
- **하위 구분**: **재귀적(결정 가능)** ⊊ **RE(반결정 가능)**.  
- **대표 예**:  
  - \( \textsf{A\_TM}=\{ \langle M\rangle \# w \mid M \text{이 } w \text{를 수용}\}\) — RE이지만 결정 불가능.  
  - 모든 REG, CFL, CSL은 당연히 RE에 포함.

---

## 2) **오토마타–문법** 동치 요약

| 계층 | 언어 | 문법 | 오토마타(수용기) | 핵심 정규형 |
|---|---|---|---|---|
| Type-3 | REG | 정규 문법 | DFA/NFA/정규식 | — |
| Type-2 | CFL | CFG | PDA | CNF, GNF |
| Type-1 | CSL | CSG | LBA(=NSPACE(n)) | Kuroda NF |
| Type-0 | RE | 무제한 문법 | TM | — |

- **NFA=**DFA(표현력 동등), **DPDA ⊊ PDA**, **DLBA vs NLBA**는 **미해결**(동등 여부 불명).  
- TM의 작은 변형(다중테이프·2D·Stay 이동 등)은 **표현력 동등**(튜링 명제의 강건성).

---

## 3) **포함 관계가 엄격(strict)** 임을 보이는 전형적 증거

\[
\text{REG} \subsetneq \text{CFL} \subsetneq \text{CSL} \subsetneq \text{RE}
\]

- REG ⊊ CFL: \(L=\{a^n b^n\}\) 는 정규 펌핑정리로 반증(정규 아님), CFG/PDA로는 생성/인식 가능.  
- CFL ⊊ CSL: \(L=\{a^n b^n c^n\}\) 는 CFL 펌핑 정리(또는 Ogden 보조정리)로 반증, LBA로 인식 가능.  
- CSL ⊊ RE: LBA(=NSPACE(n))로는 인식 불가한 RE 언어가 존재(예: TM 수용 언어 전반).  
- RE \(\setminus\) Recursive 존재: \(\textsf{A\_TM}\) 등. (정지 문제류)

---

## 4) **폐포(Closure) 성질** 빠른 표

| 연산 | REG | CFL | CSL | RE |
|---|---|---|---|---|
| 합 \(\cup\) | Yes | Yes | Yes | Yes |
| 교 \(\cap\) | Yes | **No** | Yes | Yes |
| 보수 \(\overline{L}\) | Yes | **No** (단, DCFL은 Yes) | **Yes** | **No(일반)** |
| 연접 \(\cdot\) | Yes | Yes | Yes | Yes |
| Kleene ★ | Yes | Yes | Yes | Yes |
| 역순 \(L^R\) | Yes | Yes | Yes | Yes |
| 정규와의 교집합 | — | Yes | Yes | Yes |
| 호모모르피즘 \(h(L)\) | Yes | Yes | (소거 허용은 일반적 No) | Yes |
| 역호모 \(h^{-1}(L)\) | Yes | Yes | Yes | Yes |

- CSL의 **보수 닫힘**은 **Immerman–Szelepcsényi 정리**(\(\mathrm{NSPACE}(s)=\mathrm{coNSPACE}(s)\), \(s\ge \log n\))에 근거.  
- CFL은 **정규와의 교집합**에는 닫혀 있다(PDA×DFA 제품 구성).

---

## 5) **결정 가능 성질**(멤버십·공백성·보편성·포함성 등)

| 성질 / 계층 | REG | CFL | CSL(LBA/CSG) | RE(Type-0) |
|---|---|---|---|---|
| 멤버십 \(w\in L\) | 선형시간 \(O(n)\) | \(O(n^3)\) (CYK) / Earley | LBA: NSPACE(n)-완, CSG: **PSPACE-완** | 일반 **반결정**(RE), 결정 불가일 수 있음 |
| 공백성 \(L=\varnothing\) | Decidable | Decidable | **Undecidable** (일반) | **Undecidable** |
| 동치 \(L_1=L_2\) | Decidable | **Undecidable** | **Undecidable** | **Undecidable** |
| 포함 \(L_1\subseteq L_2\) | Decidable | **Undecidable** | **Undecidable** | **Undecidable** |
| 보편성 \(L=\Sigma^*\) | Decidable | **Undecidable** | **Undecidable** | **Undecidable** |

> 메모: DCFL(결정적 CFL)은 **보수**에 닫히지만, 포함/동치의 전반적 결정 가능성은 여전히 난해하다(특히 실용 복잡도).

---

## 6) **정규형(Normal Forms)** & 변환

- **Type-2(CFG)**:  
  - **CNF**: \(A\to BC\) 또는 \(A\to a\) (필요 시 \(S\to\varepsilon\)).  
  - **GNF**: \(A\to a\alpha\) (우변 첫 기호가 터미널) — top-down 파싱 분석에 유용.
- **Type-1(CSG)**:  
  - **Kuroda NF**: \(AB\to CD,\ A\to BC,\ A\to B,\ A\to a\) — LBA 시뮬에 적합.
- **Type-3(정규)**: 좌·우선형 정규형(필요 시 \(\varepsilon\) 예외).

정규형 변환은 **언어 보존**을 전제하며, 멤버십·유도 길이 상한·오토마타 구성에 핵심 역할을 한다.

---

## 7) **결정성(determinism)** vs **비결정성**

- **REG**: DFA와 NFA는 **표현력 동등**(NFA→DFA subset construction).  
- **CFL**: **DPDA(결정적)** ⊊ PDA — **DCFL**은 CFL의 진부분집합. (예: 팰린드롬 \(\{ww^R\}\) 은 CFL이지만 DCFL 아님)  
- **CSL**: **DLBA ?= NLBA** **미해결**(LBA 문제). Savitch: \(\mathrm{NSPACE}(n)\subseteq \mathrm{DSPACE}(n^2)\).  
- **RE/TM**: 결정성 여부는 **계산 가능성 범위**에 영향 없음(둘 다 RE/REC 동일), 다만 **시간·공간 복잡도**에 영향.

---

## 8) **경계 언어 예시**로 보는 감각

1. **REG ⊊ CFL**:  
   \[
   L=\{a^n b^n \mid n\ge 0\}\quad(\text{CFL})\ \ \text{vs}\ \ \text{정규 펌핑정리로 REG 아님}
   \]
2. **CFL ⊊ CSL**:  
   \[
   L=\{a^n b^n c^n\}\quad(\text{CSL})\ \ \text{vs}\ \ \text{CFL 펌핑정리/오그덴 보조정리로 CFL 아님}
   \]
3. **CSL ⊊ RE**:  
   \[
   L=\textsf{A\_TM} \quad(\text{RE이지만 CSL 아님; LBA 공간 제한으로 모사 불가})
   \]
4. **CFL 비보수** 및 **CSL 보수 닫힘** 대비:  
   CFL에서 \(L\)이 CFL이어도 \(\overline{L}\)은 아닐 수 있으나, CSL에서는 항상 \(\overline{L}\)도 CSL.

---

## 9) **복잡도 관점** 스냅샷

- REG: 선형시간·상수공간(오토마타).  
- CFL: 멤버십은 다항시간(전형 \(O(n^3)\)); 많은 실제 문법은 \(O(n)\)~\(O(n^2)\) 파싱 가능(LL/LR, LALR 등).  
- CSL: LBA 기준 **선형 공간**, 멤버십 **PSPACE-완**(문법 입력 시); 보수 닫힘 성질.  
- RE: 멤버십 전반은 **반결정**까지; 정지문제·동치·보편성 등은 **결정 불가능**.

---

## 10) **실전에서 계층 쓰는 법**(문제 언어의 “위치” 잡기)

1. **정규성 테스트**: DFA/NFA로 모델링되나? 정규 펌핑정리·Myhill–Nerode로 반증/인증.  
2. **CFL 여부**: PDA 설계/CFG 구성 시도 → 어려우면 **CFL 펌핑 정리/오그덴**으로 비CFL 반증.  
3. **CSL 후보**: 동시다발 카운팅/복제/장거리 동기화가 필요하면 LBA/CSG 프레임으로 접근.  
4. **RE 경계**: 프로그램 의미·정지 성질이 섞이면 RE/비RE 여부(리스 정리, 감소) 검토.

---

## 11) 요약

- 촘스키 계층은 **문법 제약** ↔ **오토마타 능력** ↔ **결정·폐포 성질**을 한 눈에 연결한다.  
- 핵심 등식:  
  \[
  \text{REG}\leftrightarrow \text{정규문법/FA},\quad
  \text{CFL}\leftrightarrow \text{CFG/PDA},\quad
  \text{CSL}\leftrightarrow \text{CSG/LBA},\quad
  \text{RE}\leftrightarrow \text{Unrestricted/TM}.
  \]
- **STRICT 포함**과 전형 예시를 기억하면, 새로운 언어의 “위치”를 빠르게 가늠할 수 있다.

---

### 부록 A: 간단 BNF 스니펫(예)
```bnf
# Type-2: { a^n b^n | n ≥ 0 }
S  -> a S b | ε

# Type-3: (a|b)*ab(a|b)*
S  -> A | a S | b S | ε
A  -> a B
B  -> b
```