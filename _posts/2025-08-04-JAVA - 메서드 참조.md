---
layout: post
title: Java - 메서드 참조
date: 2025-08-04 19:20:23 +0900
category: Java
---
# 메서드 참조(Method Reference)

**메서드 참조(Method Reference)**는 Java 8에서 도입된 **람다식의 축약 문법**이다.  
람다식이 단순히 메서드 호출만 하는 경우, 메서드 참조를 사용하면 코드 가독성과 간결성을 높일 수 있다.

---

## 1. 기본 개념

메서드 참조는 **기존에 이미 정의된 메서드**를 이름만으로 참조하여 람다 표현식을 간단하게 대체하는 문법이다.

람다식 예:
```java
list.forEach(s -> System.out.println(s));
```

메서드 참조 예:
```java
list.forEach(System.out::println);
```
- `System.out::println`은 `System.out` 객체의 `println` 메서드를 참조한다.

---

## 2. 메서드 참조의 4가지 종류

### 2.1 정적 메서드 참조
형식:  
```java
ClassName::staticMethod
```

예:
```java
Function<String, Integer> strToInt = Integer::parseInt;
// 람다식으로 쓰면: s -> Integer.parseInt(s)
```
- **클래스 이름**을 사용하고, **정적 메서드**를 참조.

---

### 2.2 인스턴스 메서드 참조 (특정 객체)
형식:
```java
instance::instanceMethod
```

예:
```java
String str = "hello";
Supplier<String> upper = str::toUpperCase;
// 람다식으로 쓰면: () -> str.toUpperCase()
```
- 특정 객체의 메서드를 참조할 때 사용.

---

### 2.3 인스턴스 메서드 참조 (특정 클래스의 임의 객체)
형식:
```java
ClassName::instanceMethod
```

예:
```java
Function<String, Integer> lengthFunc = String::length;
// 람다식으로 쓰면: s -> s.length()
```
- 첫 번째 매개변수가 해당 클래스의 인스턴스인 경우 가능.
- 주로 스트림에서 많이 사용.

---

### 2.4 생성자 참조
형식:
```java
ClassName::new
```

예:
```java
Supplier<List<String>> listSupplier = ArrayList::new;
// 람다식으로 쓰면: () -> new ArrayList<>()
```
- **생성자를 참조**하여 객체를 생성.
- 매개변수를 받는 생성자도 가능:
```java
Function<Integer, List<String>> listWithSize = ArrayList::new;
// 람다식으로 쓰면: size -> new ArrayList<>(size)
```

---

## 3. 메서드 참조와 함수형 인터페이스

메서드 참조는 **함수형 인터페이스**의 추상 메서드 시그니처와 참조하는 메서드 시그니처가 호환되어야 한다.

예:
```java
@FunctionalInterface
interface Converter<F, T> {
    T convert(F from);
}

Converter<String, Integer> converter = Integer::parseInt;
System.out.println(converter.convert("123")); // 123
```
- `Integer::parseInt`는 `(String) -> Integer` 형태라서 `Converter<String, Integer>`에 매핑 가능.

---

## 4. 스트림에서의 활용 예시

```java
List<String> names = Arrays.asList("Alice", "Bob", "Charlie");

names.stream()
     .map(String::toUpperCase)     // 각 요소를 대문자로 변환
     .forEach(System.out::println); // 콘솔에 출력
```

---

## 5. 메서드 참조 vs 람다식

| 특징 | 람다식 | 메서드 참조 |
|------|--------|------------|
| 코드 길이 | 상대적으로 길 수 있음 | 더 간결함 |
| 가독성 | 복잡해질 수 있음 | 의도가 명확 |
| 유연성 | 복잡한 로직 작성 가능 | 단순 메서드 호출에 적합 |

---

## 6. 잘못된 사용 예 (주의점)

1. **호환되지 않는 시그니처**
```java
Function<String, String> f = String::toUpperCase; 
// OK: (String) -> String

Function<Integer, String> g = String::toUpperCase; 
// 컴파일 에러: 매개변수 타입 불일치
```

2. **람다식이 더 명확한 경우**
```java
list.sort((a, b) -> b.compareTo(a)); // 명확
list.sort(String::compareTo);        // 오름차순, 의도 혼동 가능
```

---

## 7. 정리

- 메서드 참조는 람다식을 더 간결하게 쓸 수 있는 문법.
- 4가지 형태:
  1. **정적 메서드 참조**: `ClassName::staticMethod`
  2. **특정 객체 인스턴스 메서드 참조**: `instance::instanceMethod`
  3. **특정 클래스 임의 객체의 인스턴스 메서드 참조**: `ClassName::instanceMethod`
  4. **생성자 참조**: `ClassName::new`
- 함수형 인터페이스의 추상 메서드 시그니처와 일치해야 함.
- 스트림과 함께 사용하면 코드 가독성이 크게 향상됨.